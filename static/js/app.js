!function(d,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?t(d,!0):function(d){if(!d.document)throw Error("jQuery requires a window with a document");return t(d)}:t(d)}("undefined"!=typeof window?window:this,function(d,t){function n(c){var a=c.length,h=p.type(c);return"function"===h||p.isWindow(c)?!1:1===c.nodeType&&a?!0:"array"===h||0===a||"number"==typeof a&&0<a&&a-1 in c}function q(c,a,h){if(p.isFunction(a))return p.grep(c,function(c,f){return!!a.call(c,f,
c)!==h});if(a.nodeType)return p.grep(c,function(c){return c===a!==h});if("string"==typeof a){if(ua.test(a))return p.filter(a,c,h);a=p.filter(a,c)}return p.grep(c,function(c){return 0<=p.inArray(c,a)!==h})}function e(c,a){do c=c[a];while(c&&1!==c.nodeType);return c}function w(c){var a=Qa[c]={};return p.each(c.match(ka)||[],function(c,h){a[h]=!0}),a}function a(){D.addEventListener?(D.removeEventListener("DOMContentLoaded",b,!1),d.removeEventListener("load",b,!1)):(D.detachEvent("onreadystatechange",
b),d.detachEvent("onload",b))}function b(){(D.addEventListener||"load"===event.type||"complete"===D.readyState)&&(a(),p.ready())}function g(c,a,h){if(void 0===h&&1===c.nodeType){var f="data-"+a.replace(Ra,"-$1").toLowerCase();if(h=c.getAttribute(f),"string"==typeof h){try{h="true"===h?!0:"false"===h?!1:"null"===h?null:+h+""===h?+h:Ka.test(h)?p.parseJSON(h):h}catch(b){}p.data(c,a,h)}else h=void 0}return h}function k(c){for(var a in c)if(("data"!==a||!p.isEmptyObject(c[a]))&&"toJSON"!==a)return!1;return!0}
function l(c,a,h,f){if(p.acceptData(c)){var b,d,e=p.expando,u=c.nodeType,g=u?p.cache:c,x=u?c[e]:c[e]&&e;if(x&&g[x]&&(f||g[x].data)||void 0!==h||"string"!=typeof a)return x||(x=u?c[e]=U.pop()||p.guid++:e),g[x]||(g[x]=u?{}:{toJSON:p.noop}),("object"==typeof a||"function"==typeof a)&&(f?g[x]=p.extend(g[x],a):g[x].data=p.extend(g[x].data,a)),d=g[x],f||(d.data||(d.data={}),d=d.data),void 0!==h&&(d[p.camelCase(a)]=h),"string"==typeof a?(b=d[a],null==b&&(b=d[p.camelCase(a)])):b=d,b}}function m(c,a,h){if(p.acceptData(c)){var f,
b,d=c.nodeType,e=d?p.cache:c,u=d?c[p.expando]:p.expando;if(e[u]){if(a&&(f=h?e[u]:e[u].data)){p.isArray(a)?a=a.concat(p.map(a,p.camelCase)):a in f?a=[a]:(a=p.camelCase(a),a=a in f?[a]:a.split(" "));for(b=a.length;b--;)delete f[a[b]];if(h?!k(f):!p.isEmptyObject(f))return}(h||(delete e[u].data,k(e[u])))&&(d?p.cleanData([c],!0):A.deleteExpando||e!=e.window?delete e[u]:e[u]=null)}}}function r(){return!0}function y(){return!1}function z(){try{return D.activeElement}catch(c){}}function v(c){var a=S.split("|");
c=c.createDocumentFragment();if(c.createElement)for(;a.length;)c.createElement(a.pop());return c}function c(a,h){var f,b,d=0,e="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(h||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(h||"*"):void 0;if(!e)for(e=[],f=a.childNodes||a;null!=(b=f[d]);d++)!h||p.nodeName(b,h)?e.push(b):p.merge(e,c(b,h));return void 0===h||h&&p.nodeName(a,h)?p.merge([a],e):e}function h(c){Da.test(c.type)&&(c.defaultChecked=c.checked)}function f(c,
a){return p.nodeName(c,"table")&&p.nodeName(11!==a.nodeType?a:a.firstChild,"tr")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):c}function u(c){return c.type=(null!==p.find.attr(c,"type"))+"/"+c.type,c}function x(c){var a=Kb.exec(c.type);return a?c.type=a[1]:c.removeAttribute("type"),c}function B(c,a){for(var h,f=0;null!=(h=c[f]);f++)p._data(h,"globalEval",!a||p._data(a[f],"globalEval"))}function V(c,a){if(1===a.nodeType&&p.hasData(c)){var h,f,b;f=p._data(c);
var d=p._data(a,f),e=f.events;if(e)for(h in delete d.handle,d.events={},e)for(f=0,b=e[h].length;b>f;f++)p.event.add(a,h,e[h][f]);d.data&&(d.data=p.extend({},d.data))}}function H(c,a){var h,f=p(a.createElement(c)).appendTo(a.body),b=d.getDefaultComputedStyle&&(h=d.getDefaultComputedStyle(f[0]))?h.display:p.css(f[0],"display");return f.detach(),b}function F(c){var a=D,h=Wa[c];return h||(h=H(c,a),"none"!==h&&h||(Ea=(Ea||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement),
a=(Ea[0].contentWindow||Ea[0].contentDocument).document,a.write(),a.close(),h=H(c,a),Ea.detach()),Wa[c]=h),h}function K(c,a){return{get:function(){var h=c();if(null!=h)return h?void delete this.get:(this.get=a).apply(this,arguments)}}}function X(c,a){if(a in c)return a;for(var h=a.charAt(0).toUpperCase()+a.slice(1),f=a,b=vb.length;b--;)if(a=vb[b]+h,a in c)return a;return f}function Z(c,a){for(var h,f,b,d=[],e=0,u=c.length;u>e;e++)f=c[e],f.style&&(d[e]=p._data(f,"olddisplay"),h=f.style.display,a?(d[e]||
"none"!==h||(f.style.display=""),""===f.style.display&&Fa(f)&&(d[e]=p._data(f,"olddisplay",F(f.nodeName)))):(b=Fa(f),(h&&"none"!==h||!b)&&p._data(f,"olddisplay",b?h:p.css(f,"display"))));for(e=0;u>e;e++)f=c[e],f.style&&(a&&"none"!==f.style.display&&""!==f.style.display||(f.style.display=a?d[e]||"":"none"));return c}function P(c,a,h){return(c=Lb.exec(a))?Math.max(0,c[1]-(h||0))+(c[2]||"px"):a}function G(c,a,h,f,b){a=h===(f?"border":"content")?4:"width"===a?1:0;for(var d=0;4>a;a+=2)"margin"===h&&(d+=
p.css(c,h+sa[a],!0,b)),f?("content"===h&&(d-=p.css(c,"padding"+sa[a],!0,b)),"margin"!==h&&(d-=p.css(c,"border"+sa[a]+"Width",!0,b))):(d+=p.css(c,"padding"+sa[a],!0,b),"padding"!==h&&(d+=p.css(c,"border"+sa[a]+"Width",!0,b)));return d}function R(c,a,h){var f=!0,b="width"===a?c.offsetWidth:c.offsetHeight,d=ja(c),e=A.boxSizing&&"border-box"===p.css(c,"boxSizing",!1,d);if(0>=b||null==b){if(b=va(c,a,d),(0>b||null==b)&&(b=c.style[a]),La.test(b))return b;f=e&&(A.boxSizingReliable()||b===c.style[a]);b=parseFloat(b)||
0}return b+G(c,a,h||(e?"border":"content"),f,d)+"px"}function J(c,a,h,f,b){return new J.prototype.init(c,a,h,f,b)}function C(){return setTimeout(function(){Ma=void 0}),Ma=p.now()}function ba(c,a){var h,f={height:c},b=0;for(a=a?1:0;4>b;b+=2-a)h=sa[b],f["margin"+h]=f["padding"+h]=c;return a&&(f.opacity=f.width=c),f}function M(c,a,h){for(var f,b=(Sa[a]||[]).concat(Sa["*"]),d=0,e=b.length;e>d;d++)if(f=b[d].call(h,a,c))return f}function N(c,a){var h,f,b,d,e;for(h in c)if(f=p.camelCase(h),b=a[f],d=c[h],
p.isArray(d)&&(b=d[1],d=c[h]=d[0]),h!==f&&(c[f]=d,delete c[h]),e=p.cssHooks[f],e&&"expand"in e)for(h in d=e.expand(d),delete c[f],d)h in c||(c[h]=d[h],a[h]=b);else a[f]=b}function E(c,a,h){var f,b=0,d=Xa.length,e=p.Deferred().always(function(){delete u.elem}),u=function(){if(f)return!1;for(var a=Ma||C(),a=Math.max(0,g.startTime+g.duration-a),h=1-(a/g.duration||0),b=0,d=g.tweens.length;d>b;b++)g.tweens[b].run(h);return e.notifyWith(c,[g,h,a]),1>h&&d?a:(e.resolveWith(c,[g]),!1)},g=e.promise({elem:c,
props:p.extend({},a),opts:p.extend(!0,{specialEasing:{}},h),originalProperties:a,originalOptions:h,startTime:Ma||C(),duration:h.duration,tweens:[],createTween:function(a,h){var f=p.Tween(c,g.opts,a,h,g.opts.specialEasing[a]||g.opts.easing);return g.tweens.push(f),f},stop:function(a){var h=0,b=a?g.tweens.length:0;if(f)return this;for(f=!0;b>h;h++)g.tweens[h].run(1);return a?e.resolveWith(c,[g,a]):e.rejectWith(c,[g,a]),this}});h=g.props;for(N(h,g.opts.specialEasing);d>b;b++)if(a=Xa[b].call(g,c,h,g.opts))return a;
return p.map(h,M,g),p.isFunction(g.opts.start)&&g.opts.start.call(c,g),p.fx.timer(p.extend(u,{elem:c,anim:g,queue:g.opts.queue})),g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function Q(c){return function(a,h){"string"!=typeof a&&(h=a,a="*");var f,b=0,d=a.toLowerCase().match(ka)||[];if(p.isFunction(h))for(;f=d[b++];)"+"===f.charAt(0)?(f=f.slice(1)||"*",(c[f]=c[f]||[]).unshift(h)):(c[f]=c[f]||[]).push(h)}}function L(c,a,h,f){function b(u){var g;
return d[u]=!0,p.each(c[u]||[],function(c,u){var I=u(a,h,f);return"string"!=typeof I||e||d[I]?e?!(g=I):void 0:(a.dataTypes.unshift(I),b(I),!1)}),g}var d={},e=c===kb;return b(a.dataTypes[0])||!d["*"]&&b("*")}function fa(c,a){var h,f,b=p.ajaxSettings.flatOptions||{};for(f in a)void 0!==a[f]&&((b[f]?c:h||(h={}))[f]=a[f]);return h&&p.extend(!0,c,h),c}function aa(c,a,h,f){var b;if(p.isArray(a))p.each(a,function(a,b){h||Mb.test(c)?f(c,b):aa(c+"["+("object"==typeof b?a:"")+"]",b,h,f)});else if(h||"object"!==
p.type(a))f(c,a);else for(b in a)aa(c+"["+b+"]",a[b],h,f)}function ha(){try{return new d.XMLHttpRequest}catch(c){}}function ga(c){return p.isWindow(c)?c:9===c.nodeType?c.defaultView||c.parentWindow:!1}var U=[],W=U.slice,Y=U.concat,ia=U.push,T=U.indexOf,oa={},ya=oa.toString,ca=oa.hasOwnProperty,A={},p=function(c,a){return new p.fn.init(c,a)},da=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,lb=/^-ms-/,Ya=/-([\da-z])/gi,Za=function(c,a){return a.toUpperCase()};p.fn=p.prototype={jquery:"1.11.2",constructor:p,
selector:"",length:0,toArray:function(){return W.call(this)},get:function(c){return null!=c?0>c?this[c+this.length]:this[c]:W.call(this)},pushStack:function(c){c=p.merge(this.constructor(),c);return c.prevObject=this,c.context=this.context,c},each:function(c,a){return p.each(this,c,a)},map:function(c){return this.pushStack(p.map(this,function(a,h){return c.call(a,h,a)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(c){var a=this.length;c=+c+(0>c?a:0);return this.pushStack(0<=c&&a>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ia,sort:U.sort,splice:U.splice};p.extend=p.fn.extend=function(){var c,a,h,f,b,d,e=arguments[0]||{},u=1,g=arguments.length,x=!1;"boolean"==typeof e&&(x=e,e=arguments[u]||{},u++);"object"==typeof e||p.isFunction(e)||(e={});for(u===g&&(e=this,u--);g>u;u++)if(null!=(b=arguments[u]))for(f in b)c=e[f],h=b[f],e!==h&&(x&&h&&(p.isPlainObject(h)||
(a=p.isArray(h)))?(a?(a=!1,d=c&&p.isArray(c)?c:[]):d=c&&p.isPlainObject(c)?c:{},e[f]=p.extend(x,d,h)):void 0!==h&&(e[f]=h));return e};p.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===p.type(c)},isArray:Array.isArray||function(c){return"array"===p.type(c)},isWindow:function(c){return null!=c&&c==c.window},isNumeric:function(c){return!p.isArray(c)&&0<=c-parseFloat(c)+1},isEmptyObject:function(c){for(var a in c)return!1;
return!0},isPlainObject:function(c){var a;if(!c||"object"!==p.type(c)||c.nodeType||p.isWindow(c))return!1;try{if(c.constructor&&!ca.call(c,"constructor")&&!ca.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}if(A.ownLast)for(a in c)return ca.call(c,a);for(a in c);return void 0===a||ca.call(c,a)},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?oa[ya.call(c)]||"object":typeof c},globalEval:function(c){c&&p.trim(c)&&(d.execScript||function(c){d.eval.call(d,
c)})(c)},camelCase:function(c){return c.replace(lb,"ms-").replace(Ya,Za)},nodeName:function(c,a){return c.nodeName&&c.nodeName.toLowerCase()===a.toLowerCase()},each:function(c,a,h){var f,b=0,d=c.length,e=n(c);if(h)if(e)for(;d>b&&(f=a.apply(c[b],h),!1!==f);b++);else for(b in c){if(f=a.apply(c[b],h),!1===f)break}else if(e)for(;d>b&&(f=a.call(c[b],b,c[b]),!1!==f);b++);else for(b in c)if(f=a.call(c[b],b,c[b]),!1===f)break;return c},trim:function(c){return null==c?"":(c+"").replace(da,"")},makeArray:function(c,
a){var h=a||[];return null!=c&&(n(Object(c))?p.merge(h,"string"==typeof c?[c]:c):ia.call(h,c)),h},inArray:function(c,a,h){var f;if(a){if(T)return T.call(a,c,h);f=a.length;for(h=h?0>h?Math.max(0,f+h):h:0;f>h;h++)if(h in a&&a[h]===c)return h}return-1},merge:function(c,a){for(var h=+a.length,f=0,b=c.length;h>f;)c[b++]=a[f++];if(h!==h)for(;void 0!==a[f];)c[b++]=a[f++];return c.length=b,c},grep:function(c,a,h){for(var f=[],b=0,d=c.length,e=!h;d>b;b++)h=!a(c[b],b),h!==e&&f.push(c[b]);return f},map:function(c,
a,h){var f,b=0,d=c.length,e=[];if(n(c))for(;d>b;b++)f=a(c[b],b,h),null!=f&&e.push(f);else for(b in c)f=a(c[b],b,h),null!=f&&e.push(f);return Y.apply([],e)},guid:1,proxy:function(c,a){var h,f,b;return"string"==typeof a&&(b=c[a],a=c,c=b),p.isFunction(c)?(h=W.call(arguments,2),f=function(){return c.apply(a||this,h.concat(W.call(arguments)))},f.guid=c.guid=c.guid||p.guid++,f):void 0},now:function(){return+new Date},support:A});p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(c,a){oa["[object "+a+"]"]=a.toLowerCase()});var za=function(c){function a(c,h,f,b){var d,e,u,g,x;if((h?h.ownerDocument||h:la)!==ea&&X(h),h=h||ea,f=f||[],g=h.nodeType,"string"!=typeof c||!c||1!==g&&9!==g&&11!==g)return f;if(!b&&J){if(11!==g&&(d=Ea.exec(c)))if(u=d[1])if(9===g){if(e=h.getElementById(u),!e||!e.parentNode)return f;if(e.id===u)return f.push(e),f}else{if(h.ownerDocument&&(e=h.ownerDocument.getElementById(u))&&ba(h,e)&&e.id===u)return f.push(e),f}else{if(d[2])return U.apply(f,h.getElementsByTagName(c)),
f;if((u=d[3])&&q.getElementsByClassName)return U.apply(f,h.getElementsByClassName(u)),f}if(q.qsa&&(!t||!t.test(c))){if(e=d=P,u=h,x=1!==g&&c,1===g&&"object"!==h.nodeName.toLowerCase()){g=z(c);(d=h.getAttribute("id"))?e=d.replace(La,"\\$&"):h.setAttribute("id",e);e="[id='"+e+"'] ";for(u=g.length;u--;)g[u]=e+B(g[u]);u=Oa.test(c)&&k(h.parentNode)||h;x=g.join(",")}if(x)try{return U.apply(f,u.querySelectorAll(x)),f}catch(I){}finally{d||h.removeAttribute("id")}}}return n(c.replace(ca,"$1"),h,f,b)}function h(){function c(h,
f){return a.push(h+" ")>y.cacheLength&&delete c[a.shift()],c[h+" "]=f}var a=[];return c}function f(c){return c[P]=!0,c}function b(c){var a=ea.createElement("div");try{return!!c(a)}catch(h){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function d(c,a){for(var h=c.split("|"),f=c.length;f--;)y.attrHandle[h[f]]=a}function e(c,a){var h=a&&c,f=h&&1===c.nodeType&&1===a.nodeType&&(~a.sourceIndex||-2147483648)-(~c.sourceIndex||-2147483648);if(f)return f;if(h)for(;h=h.nextSibling;)if(h===a)return-1;
return c?1:-1}function u(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function g(c){return function(a){var h=a.nodeName.toLowerCase();return("input"===h||"button"===h)&&a.type===c}}function x(c){return f(function(a){return a=+a,f(function(h,f){for(var b,d=c([],h.length,a),e=d.length;e--;)h[b=d[e]]&&(h[b]=!(f[b]=h[b]))})})}function k(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function l(){}function B(c){for(var a=0,h=c.length,f="";h>a;a++)f+=c[a].value;
return f}function p(c,a,h){var f=a.dir,b=h&&"parentNode"===f,d=Ta++;return a.first?function(a,h,d){for(;a=a[f];)if(1===a.nodeType||b)return c(a,h,d)}:function(a,h,e){var u,g,x=[M,d];if(e)for(;a=a[f];){if((1===a.nodeType||b)&&c(a,h,e))return!0}else for(;a=a[f];)if(1===a.nodeType||b){if(g=a[P]||(a[P]={}),(u=g[f])&&u[0]===M&&u[1]===d)return x[2]=u[2];if(g[f]=x,x[2]=c(a,h,e))return!0}}}function m(c){return 1<c.length?function(a,h,f){for(var b=c.length;b--;)if(!c[b](a,h,f))return!1;return!0}:c[0]}function V(c,
a,h,f,b){for(var d,e=[],u=0,g=c.length,x=null!=a;g>u;u++)(d=c[u])&&(!h||h(d,f,b))&&(e.push(d),x&&a.push(u));return e}function r(c,h,b,d,e,u){return d&&!d[P]&&(d=r(d)),e&&!e[P]&&(e=r(e,u)),f(function(f,u,g,x){var I,k,l=[],B=[],p=u.length,m;if(!(m=f)){m=h||"*";for(var r=g.nodeType?[g]:g,F=[],v=0,Va=r.length;Va>v;v++)a(m,r[v],F);m=F}m=!c||!f&&h?m:V(m,l,c,g,x);r=b?e||(f?c:p||d)?[]:u:m;if(b&&b(m,r,g,x),d)for(I=V(r,B),d(I,[],g,x),g=I.length;g--;)(k=I[g])&&(r[B[g]]=!(m[B[g]]=k));if(f){if(e||c){if(e){I=[];
for(g=r.length;g--;)(k=r[g])&&I.push(m[g]=k);e(null,r=[],I,x)}for(g=r.length;g--;)(k=r[g])&&-1<(I=e?D(f,k):l[g])&&(f[I]=!(u[I]=k))}}else r=V(r===u?r.splice(p,r.length):r),e?e(null,u,r,x):U.apply(u,r)})}function F(c){var a,h,f,b=c.length,d=y.relative[c[0].type];h=d||y.relative[" "];for(var e=d?1:0,u=p(function(c){return c===a},h,!0),g=p(function(c){return-1<D(a,c)},h,!0),x=[function(c,h,f){c=!d&&(f||h!==R)||((a=h).nodeType?u(c,h,f):g(c,h,f));return a=null,c}];b>e;e++)if(h=y.relative[c[e].type])x=[p(m(x),
h)];else{if(h=y.filter[c[e].type].apply(null,c[e].matches),h[P]){for(f=++e;b>f&&!y.relative[c[f].type];f++);return r(1<e&&m(x),1<e&&B(c.slice(0,e-1).concat({value:" "===c[e-2].type?"*":""})).replace(ca,"$1"),h,f>e&&F(c.slice(e,f)),b>f&&F(c=c.slice(f)),b>f&&B(c))}x.push(h)}return m(x)}function v(c,h){var b=0<h.length,d=0<c.length,e=function(f,e,u,g,x){var I,k,l,B=0,p="0",m=f&&[],r=[],F=R,v=f||d&&y.find.TAG("*",x),Va=M+=null==F?1:Math.random()||.1,H=v.length;for(x&&(R=e!==ea&&e);p!==H&&null!=(I=v[p]);p++){if(d&&
I){for(k=0;l=c[k++];)if(l(I,e,u)){g.push(I);break}x&&(M=Va)}b&&((I=!l&&I)&&B--,f&&m.push(I))}if(B+=p,b&&p!==B){for(k=0;l=h[k++];)l(m,r,e,u);if(f){if(0<B)for(;p--;)m[p]||r[p]||(r[p]=fa.call(g));r=V(r)}U.apply(g,r);x&&!f&&0<r.length&&1<B+h.length&&a.uniqueSort(g)}return x&&(M=Va,R=F),m};return b?f(e):e}var H,q,y,O,w,z,K,n,R,S,G,X,ea,C,J,t,qa,Z,ba,P="sizzle"+1*new Date,la=c.document,M=0,Ta=0,Q=h(),E=h(),N=h(),L=function(c,a){return c===a&&(G=!0),0},cb={}.hasOwnProperty,A=[],fa=A.pop,aa=A.push,U=A.push,
eb=A.slice,D=function(c,a){for(var h=0,f=c.length;f>h;h++)if(c[h]===a)return h;return-1},Ua="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ga="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ua+"))|)[\\x20\\t\\r\\n\\f]*\\]",ha=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ga+")*)|.*)\\)|)",db=RegExp("[\\x20\\t\\r\\n\\f]+",
"g"),ca=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),W=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ma=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ia=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),nb=new RegExp(ha),T=new RegExp("^"+Ua+"$"),Y={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+
ha),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},va=/^(?:input|select|textarea|button)$/i,Wa=/^h\d$/i,
da=/^[^{]+\{\s*\[native \w/,Ea=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Oa=/[+~]/,La=/'|\\/g,ja=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ra=function(c,a,h){c="0x"+a-65536;return c!==c||h?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},fb=function(){X()};try{U.apply(A=eb.call(la.childNodes),la.childNodes),A[la.childNodes.length].nodeType}catch(xb){U={apply:A.length?function(c,a){aa.apply(c,eb.call(a))}:function(c,a){for(var h=c.length,
f=0;c[h++]=a[f++];);c.length=h-1}}}q=a.support={};w=a.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};X=a.setDocument=function(c){var a,h,f=c?c.ownerDocument||c:la;return f!==ea&&9===f.nodeType&&f.documentElement?(ea=f,C=f.documentElement,h=f.defaultView,h&&h!==h.top&&(h.addEventListener?h.addEventListener("unload",fb,!1):h.attachEvent&&h.attachEvent("onunload",fb)),J=!w(f),q.attributes=b(function(c){return c.className="i",!c.getAttribute("className")}),
q.getElementsByTagName=b(function(c){return c.appendChild(f.createComment("")),!c.getElementsByTagName("*").length}),q.getElementsByClassName=da.test(f.getElementsByClassName),q.getById=b(function(c){return C.appendChild(c).id=P,!f.getElementsByName||!f.getElementsByName(P).length}),q.getById?(y.find.ID=function(c,a){if("undefined"!=typeof a.getElementById&&J){var h=a.getElementById(c);return h&&h.parentNode?[h]:[]}},y.filter.ID=function(c){var a=c.replace(ja,ra);return function(c){return c.getAttribute("id")===
a}}):(delete y.find.ID,y.filter.ID=function(c){var a=c.replace(ja,ra);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===a}}),y.find.TAG=q.getElementsByTagName?function(c,a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(c):q.qsa?a.querySelectorAll(c):void 0}:function(c,a){var h,f=[],b=0,d=a.getElementsByTagName(c);if("*"===c){for(;h=d[b++];)1===h.nodeType&&f.push(h);return f}return d},y.find.CLASS=q.getElementsByClassName&&
function(c,a){return J?a.getElementsByClassName(c):void 0},qa=[],t=[],(q.qsa=da.test(f.querySelectorAll))&&(b(function(c){C.appendChild(c).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&t.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||t.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+P+"-]").length||t.push("~=");c.querySelectorAll(":checked").length||t.push(":checked");c.querySelectorAll("a#"+P+"+*").length||t.push(".#.+[+~]")}),b(function(c){var a=f.createElement("input");a.setAttribute("type","hidden");c.appendChild(a).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&t.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");c.querySelectorAll(":enabled").length||t.push(":enabled",":disabled");c.querySelectorAll("*,:x");t.push(",.*:")})),(q.matchesSelector=
da.test(Z=C.matches||C.webkitMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector||C.msMatchesSelector))&&b(function(c){q.disconnectedMatch=Z.call(c,"div");Z.call(c,"[s!='']:x");qa.push("!=",ha)}),t=t.length&&new RegExp(t.join("|")),qa=qa.length&&new RegExp(qa.join("|")),a=da.test(C.compareDocumentPosition),ba=a||da.test(C.contains)?function(c,a){var h=9===c.nodeType?c.documentElement:c,f=a&&a.parentNode;return c===f||!(!f||1!==f.nodeType||!(h.contains?h.contains(f):c.compareDocumentPosition&&
16&c.compareDocumentPosition(f)))}:function(c,a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1},L=a?function(c,a){if(c===a)return G=!0,0;var h=!c.compareDocumentPosition-!a.compareDocumentPosition;return h?h:(h=(c.ownerDocument||c)===(a.ownerDocument||a)?c.compareDocumentPosition(a):1,1&h||!q.sortDetached&&a.compareDocumentPosition(c)===h?c===f||c.ownerDocument===la&&ba(la,c)?-1:a===f||a.ownerDocument===la&&ba(la,a)?1:S?D(S,c)-D(S,a):0:4&h?-1:1)}:function(c,a){if(c===a)return G=!0,0;var h,
b=0;h=c.parentNode;var d=a.parentNode,u=[c],g=[a];if(!h||!d)return c===f?-1:a===f?1:h?-1:d?1:S?D(S,c)-D(S,a):0;if(h===d)return e(c,a);for(h=c;h=h.parentNode;)u.unshift(h);for(h=a;h=h.parentNode;)g.unshift(h);for(;u[b]===g[b];)b++;return b?e(u[b],g[b]):u[b]===la?-1:g[b]===la?1:0},f):ea};a.matches=function(c,h){return a(c,null,null,h)};a.matchesSelector=function(c,h){if((c.ownerDocument||c)!==ea&&X(c),h=h.replace(ia,"='$1']"),!(!q.matchesSelector||!J||qa&&qa.test(h)||t&&t.test(h)))try{var f=Z.call(c,
h);if(f||q.disconnectedMatch||c.document&&11!==c.document.nodeType)return f}catch(b){}return 0<a(h,ea,null,[c]).length};a.contains=function(c,a){return(c.ownerDocument||c)!==ea&&X(c),ba(c,a)};a.attr=function(c,a){(c.ownerDocument||c)!==ea&&X(c);var h=y.attrHandle[a.toLowerCase()],h=h&&cb.call(y.attrHandle,a.toLowerCase())?h(c,a,!J):void 0;return void 0!==h?h:q.attributes||!J?c.getAttribute(a):(h=c.getAttributeNode(a))&&h.specified?h.value:null};a.error=function(c){throw Error("Syntax error, unrecognized expression: "+
c);};a.uniqueSort=function(c){var a,h=[],f=0,b=0;if(G=!q.detectDuplicates,S=!q.sortStable&&c.slice(0),c.sort(L),G){for(;a=c[b++];)a===c[b]&&(f=h.push(b));for(;f--;)c.splice(h[f],1)}return S=null,c};O=a.getText=function(c){var a,h="",f=0;if(a=c.nodeType)if(1===a||9===a||11===a){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)h+=O(c)}else{if(3===a||4===a)return c.nodeValue}else for(;a=c[f++];)h+=O(a);return h};y=a.selectors={cacheLength:50,createPseudo:f,
match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(ja,ra),c[3]=(c[3]||c[4]||c[5]||"").replace(ja,ra),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||a.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&
a.error(c[0]),c},PSEUDO:function(c){var a,h=!c[6]&&c[2];return Y.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":h&&nb.test(h)&&(a=z(h,!0))&&(a=h.indexOf(")",h.length-a)-h.length)&&(c[0]=c[0].slice(0,a),c[2]=h.slice(0,a)),c.slice(0,3))}},filter:{TAG:function(c){var a=c.replace(ja,ra).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(c){var a=Q[c+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"))&&
Q(c,function(c){return a.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||"")})},ATTR:function(c,h,f){return function(b){b=a.attr(b,c);return null==b?"!="===h:h?(b+="","="===h?b===f:"!="===h?b!==f:"^="===h?f&&0===b.indexOf(f):"*="===h?f&&-1<b.indexOf(f):"$="===h?f&&b.slice(-f.length)===f:"~="===h?-1<(" "+b.replace(db," ")+" ").indexOf(f):"|="===h?b===f||b.slice(0,f.length+1)===f+"-":!1):!0}},CHILD:function(c,a,h,f,b){var d="nth"!==c.slice(0,
3),e="last"!==c.slice(-4),u="of-type"===a;return 1===f&&0===b?function(c){return!!c.parentNode}:function(a,h,g){var x,I,k,l,B;h=d!==e?"nextSibling":"previousSibling";var p=a.parentNode,m=u&&a.nodeName.toLowerCase();g=!g&&!u;if(p){if(d){for(;h;){for(I=a;I=I[h];)if(u?I.nodeName.toLowerCase()===m:1===I.nodeType)return!1;B=h="only"===c&&!B&&"nextSibling"}return!0}if(B=[e?p.firstChild:p.lastChild],e&&g)for(g=p[P]||(p[P]={}),x=g[c]||[],l=x[0]===M&&x[1],k=x[0]===M&&x[2],I=l&&p.childNodes[l];I=++l&&I&&I[h]||
(k=l=0)||B.pop();){if(1===I.nodeType&&++k&&I===a){g[c]=[M,l,k];break}}else if(g&&(x=(a[P]||(a[P]={}))[c])&&x[0]===M)k=x[1];else for(;(I=++l&&I&&I[h]||(k=l=0)||B.pop())&&((u?I.nodeName.toLowerCase()!==m:1!==I.nodeType)||!++k||(g&&((I[P]||(I[P]={}))[c]=[M,k]),I!==a)););return k-=b,k===f||0===k%f&&0<=k/f}}},PSEUDO:function(c,h){var b,d=y.pseudos[c]||y.setFilters[c.toLowerCase()]||a.error("unsupported pseudo: "+c);return d[P]?d(h):1<d.length?(b=[c,c,"",h],y.setFilters.hasOwnProperty(c.toLowerCase())?
f(function(c,a){for(var f,b=d(c,h),e=b.length;e--;)f=D(c,b[e]),c[f]=!(a[f]=b[e])}):function(c){return d(c,0,b)}):d}},pseudos:{not:f(function(c){var a=[],h=[],b=K(c.replace(ca,"$1"));return b[P]?f(function(c,a,h,f){var d;h=b(c,null,f,[]);for(f=c.length;f--;)(d=h[f])&&(c[f]=!(a[f]=d))}):function(c,f,d){return a[0]=c,b(a,null,d,h),a[0]=null,!h.pop()}}),has:f(function(c){return function(h){return 0<a(c,h).length}}),contains:f(function(c){return c=c.replace(ja,ra),function(a){return-1<(a.textContent||
a.innerText||O(a)).indexOf(c)}}),lang:f(function(c){return T.test(c||"")||a.error("unsupported lang: "+c),c=c.replace(ja,ra).toLowerCase(),function(a){var h;do if(h=J?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return h=h.toLowerCase(),h===c||0===h.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var h=c.location&&c.location.hash;return h&&h.slice(1)===a.id},root:function(c){return c===C},focus:function(c){return c===ea.activeElement&&(!ea.hasFocus||
ea.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:function(c){return!1===c.disabled},disabled:function(c){return!0===c.disabled},checked:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!y.pseudos.empty(c)},header:function(c){return Wa.test(c.nodeName)},
input:function(c){return va.test(c.nodeName)},button:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&"button"===c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(a=c.getAttribute("type"))||"text"===a.toLowerCase())},first:x(function(){return[0]}),last:x(function(c,a){return[a-1]}),eq:x(function(c,a,h){return[0>h?h+a:h]}),even:x(function(c,a){for(var h=0;a>h;h+=2)c.push(h);return c}),odd:x(function(c,a){for(var h=1;a>h;h+=
2)c.push(h);return c}),lt:x(function(c,a,h){for(a=0>h?h+a:h;0<=--a;)c.push(a);return c}),gt:x(function(c,a,h){for(h=0>h?h+a:h;++h<a;)c.push(h);return c})}};y.pseudos.nth=y.pseudos.eq;for(H in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[H]=u(H);for(H in{submit:!0,reset:!0})y.pseudos[H]=g(H);l.prototype=y.filters=y.pseudos;y.setFilters=new l;z=a.tokenize=function(c,h){var f,b,d,e,u,g,x;if(u=E[c+" "])return h?0:u.slice(0);u=c;g=[];for(x=y.preFilter;u;){f&&!(b=W.exec(u))||(b&&(u=u.slice(b[0].length)||
u),g.push(d=[]));f=!1;(b=ma.exec(u))&&(f=b.shift(),d.push({value:f,type:b[0].replace(ca," ")}),u=u.slice(f.length));for(e in y.filter)!(b=Y[e].exec(u))||x[e]&&!(b=x[e](b))||(f=b.shift(),d.push({value:f,type:e,matches:b}),u=u.slice(f.length));if(!f)break}return h?u.length:u?a.error(c):E(c,g).slice(0)};return K=a.compile=function(c,a){var h,f=[],b=[],d=N[c+" "];if(!d){a||(a=z(c));for(h=a.length;h--;)d=F(a[h]),d[P]?f.push(d):b.push(d);d=N(c,v(b,f));d.selector=c}return d},n=a.select=function(c,a,h,f){var b,
d,e,u,g,x="function"==typeof c&&c,I=!f&&z(c=x.selector||c);if(h=h||[],1===I.length){if(d=I[0]=I[0].slice(0),2<d.length&&"ID"===(e=d[0]).type&&q.getById&&9===a.nodeType&&J&&y.relative[d[1].type]){if(a=(y.find.ID(e.matches[0].replace(ja,ra),a)||[])[0],!a)return h;x&&(a=a.parentNode);c=c.slice(d.shift().value.length)}for(b=Y.needsContext.test(c)?0:d.length;b--&&(e=d[b],!y.relative[u=e.type]);)if((g=y.find[u])&&(f=g(e.matches[0].replace(ja,ra),Oa.test(d[0].type)&&k(a.parentNode)||a))){if(d.splice(b,1),
c=f.length&&B(d),!c)return U.apply(h,f),h;break}}return(x||K(c,I))(f,a,!J,h,Oa.test(c)&&k(a.parentNode)||a),h},q.sortStable=P.split("").sort(L).join("")===P,q.detectDuplicates=!!G,X(),q.sortDetached=b(function(c){return 1&c.compareDocumentPosition(ea.createElement("div"))}),b(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||d("type|href|height|width",function(c,a,h){return h?void 0:c.getAttribute(a,"type"===a.toLowerCase()?1:2)}),q.attributes&&b(function(c){return c.innerHTML=
"<input/>",c.firstChild.setAttribute("value",""),""===c.firstChild.getAttribute("value")})||d("value",function(c,a,h){return h||"input"!==c.nodeName.toLowerCase()?void 0:c.defaultValue}),b(function(c){return null==c.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,a,h){var f;return h?void 0:!0===c[a]?a.toLowerCase():(f=c.getAttributeNode(a))&&f.specified?f.value:null}),a}(d);p.find=
za;p.expr=za.selectors;p.expr[":"]=p.expr.pseudos;p.unique=za.uniqueSort;p.text=za.getText;p.isXMLDoc=za.isXML;p.contains=za.contains;var wa=p.expr.match.needsContext,Ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ua=/^.[^:#\[\.,]*$/;p.filter=function(c,a,h){var f=a[0];return h&&(c=":not("+c+")"),1===a.length&&1===f.nodeType?p.find.matchesSelector(f,c)?[f]:[]:p.find.matches(c,p.grep(a,function(c){return 1===c.nodeType}))};p.fn.extend({find:function(c){var a,h=[],f=this,b=f.length;if("string"!=typeof c)return this.pushStack(p(c).filter(function(){for(a=
0;b>a;a++)if(p.contains(f[a],this))return!0}));for(a=0;b>a;a++)p.find(c,f[a],h);return h=this.pushStack(1<b?p.unique(h):h),h.selector=this.selector?this.selector+" "+c:c,h},filter:function(c){return this.pushStack(q(this,c||[],!1))},not:function(c){return this.pushStack(q(this,c||[],!0))},is:function(c){return!!q(this,"string"==typeof c&&wa.test(c)?p(c):c||[],!1).length}});var na,D=d.document,mb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(c,a){var h,f;if(!c)return this;if("string"==
typeof c){if(h="<"===c.charAt(0)&&">"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:mb.exec(c),!h||!h[1]&&a)return!a||a.jquery?(a||na).find(c):this.constructor(a).find(c);if(h[1]){if(a=a instanceof p?a[0]:a,p.merge(this,p.parseHTML(h[1],a&&a.nodeType?a.ownerDocument||a:D,!0)),Ga.test(h[1])&&p.isPlainObject(a))for(h in a)p.isFunction(this[h])?this[h](a[h]):this.attr(h,a[h]);return this}if(f=D.getElementById(h[2]),f&&f.parentNode){if(f.id!==h[2])return na.find(c);this.length=1;this[0]=f}return this.context=
D,this.selector=c,this}return c.nodeType?(this.context=this[0]=c,this.length=1,this):p.isFunction(c)?"undefined"!=typeof na.ready?na.ready(c):c(p):(void 0!==c.selector&&(this.selector=c.selector,this.context=c.context),p.makeArray(c,this))}).prototype=p.fn;na=p(D);var $a=/^(?:parents|prev(?:Until|All))/,Ha={children:!0,contents:!0,next:!0,prev:!0};p.extend({dir:function(c,a,h){var f=[];for(c=c[a];c&&9!==c.nodeType&&(void 0===h||1!==c.nodeType||!p(c).is(h));)1===c.nodeType&&f.push(c),c=c[a];return f},
sibling:function(c,a){for(var h=[];c;c=c.nextSibling)1===c.nodeType&&c!==a&&h.push(c);return h}});p.fn.extend({has:function(c){var a,h=p(c,this),f=h.length;return this.filter(function(){for(a=0;f>a;a++)if(p.contains(this,h[a]))return!0})},closest:function(c,a){for(var h,f=0,b=this.length,d=[],e=wa.test(c)||"string"!=typeof c?p(c,a||this.context):0;b>f;f++)for(h=this[f];h&&h!==a;h=h.parentNode)if(11>h.nodeType&&(e?-1<e.index(h):1===h.nodeType&&p.find.matchesSelector(h,c))){d.push(h);break}return this.pushStack(1<
d.length?p.unique(d):d)},index:function(c){return c?"string"==typeof c?p.inArray(this[0],p(c)):p.inArray(c.jquery?c[0]:c,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,a){return this.pushStack(p.unique(p.merge(this.get(),p(c,a))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});p.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return p.dir(c,"parentNode")},parentsUntil:function(c,
a,h){return p.dir(c,"parentNode",h)},next:function(c){return e(c,"nextSibling")},prev:function(c){return e(c,"previousSibling")},nextAll:function(c){return p.dir(c,"nextSibling")},prevAll:function(c){return p.dir(c,"previousSibling")},nextUntil:function(c,a,h){return p.dir(c,"nextSibling",h)},prevUntil:function(c,a,h){return p.dir(c,"previousSibling",h)},siblings:function(c){return p.sibling((c.parentNode||{}).firstChild,c)},children:function(c){return p.sibling(c.firstChild)},contents:function(c){return p.nodeName(c,
"iframe")?c.contentDocument||c.contentWindow.document:p.merge([],c.childNodes)}},function(c,a){p.fn[c]=function(h,f){var b=p.map(this,a,h);return"Until"!==c.slice(-5)&&(f=h),f&&"string"==typeof f&&(b=p.filter(f,b)),1<this.length&&(Ha[c]||(b=p.unique(b)),$a.test(c)&&(b=b.reverse())),this.pushStack(b)}});var ka=/\S+/g,Qa={};p.Callbacks=function(c){c="string"==typeof c?Qa[c]||w(c):p.extend({},c);var a,h,f,b,d,e,u=[],g=!c.once&&[],x=function(l){h=c.memory&&l;f=!0;d=e||0;e=0;b=u.length;for(a=!0;u&&b>d;d++)if(!1===
u[d].apply(l[0],l[1])&&c.stopOnFalse){h=!1;break}a=!1;u&&(g?g.length&&x(g.shift()):h?u=[]:k.disable())},k={add:function(){if(u){var f=u.length;!function Nb(a){p.each(a,function(a,h){var f=p.type(h);"function"===f?c.unique&&k.has(h)||u.push(h):h&&h.length&&"string"!==f&&Nb(h)})}(arguments);a?b=u.length:h&&(e=f,x(h))}return this},remove:function(){return u&&p.each(arguments,function(c,h){for(var f;-1<(f=p.inArray(h,u,f));)u.splice(f,1),a&&(b>=f&&b--,d>=f&&d--)}),this},has:function(c){return c?-1<p.inArray(c,
u):!(!u||!u.length)},empty:function(){return u=[],b=0,this},disable:function(){return u=g=h=void 0,this},disabled:function(){return!u},lock:function(){return g=void 0,h||k.disable(),this},locked:function(){return!g},fireWith:function(c,h){return!u||f&&!g||(h=h||[],h=[c,h.slice?h.slice():h],a?g.push(h):x(h)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!f}};return k};p.extend({Deferred:function(c){var a=[["resolve","done",p.Callbacks("once memory"),"resolved"],
["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],h="pending",f={state:function(){return h},always:function(){return b.done(arguments).fail(arguments),this},then:function(){var c=arguments;return p.Deferred(function(h){p.each(a,function(a,d){var e=p.isFunction(c[a])&&c[a];b[d[1]](function(){var c=e&&e.apply(this,arguments);c&&p.isFunction(c.promise)?c.promise().done(h.resolve).fail(h.reject).progress(h.notify):h[d[0]+"With"](this===f?h.promise():
this,e?[c]:arguments)})});c=null}).promise()},promise:function(c){return null!=c?p.extend(c,f):f}},b={};return f.pipe=f.then,p.each(a,function(c,d){var e=d[2],u=d[3];f[d[1]]=e.add;u&&e.add(function(){h=u},a[1^c][2].disable,a[2][2].lock);b[d[0]]=function(){return b[d[0]+"With"](this===b?f:this,arguments),this};b[d[0]+"With"]=e.fireWith}),f.promise(b),c&&c.call(b,b),b},when:function(c){var a=0,h=W.call(arguments),f=h.length,b=1!==f||c&&p.isFunction(c.promise)?f:0,d=1===b?c:p.Deferred(),e=function(c,
a,h){return function(f){a[c]=this;h[c]=1<arguments.length?W.call(arguments):f;h===u?d.notifyWith(a,h):--b||d.resolveWith(a,h)}},u,g,x;if(1<f)for(u=Array(f),g=Array(f),x=Array(f);f>a;a++)h[a]&&p.isFunction(h[a].promise)?h[a].promise().done(e(a,x,h)).fail(d.reject).progress(e(a,g,u)):--b;return b||d.resolveWith(x,h),d.promise()}});var xa;p.fn.ready=function(c){return p.ready.promise().done(c),this};p.extend({isReady:!1,readyWait:1,holdReady:function(c){c?p.readyWait++:p.ready(!0)},ready:function(c){if(!0===
c?!--p.readyWait:!p.isReady){if(!D.body)return setTimeout(p.ready);p.isReady=!0;!0!==c&&0<--p.readyWait||(xa.resolveWith(D,[p]),p.fn.triggerHandler&&(p(D).triggerHandler("ready"),p(D).off("ready")))}}});p.ready.promise=function(c){if(!xa)if(xa=p.Deferred(),"complete"===D.readyState)setTimeout(p.ready);else if(D.addEventListener)D.addEventListener("DOMContentLoaded",b,!1),d.addEventListener("load",b,!1);else{D.attachEvent("onreadystatechange",b);d.attachEvent("onload",b);var h=!1;try{h=null==d.frameElement&&
D.documentElement}catch(f){}h&&h.doScroll&&!function Jb(){if(!p.isReady){try{h.doScroll("left")}catch(c){return setTimeout(Jb,50)}a();p.ready()}}()}return xa.promise(c)};for(var ab in p(A))break;A.ownLast="0"!==ab;A.inlineBlockNeedsLayout=!1;p(function(){var c,a,h,f;(h=D.getElementsByTagName("body")[0])&&h.style&&(a=D.createElement("div"),f=D.createElement("div"),f.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",h.appendChild(f).appendChild(a),"undefined"!==typeof a.style.zoom&&
(a.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",A.inlineBlockNeedsLayout=c=3===a.offsetWidth,c&&(h.style.zoom=1)),h.removeChild(f))});(function(){var c=D.createElement("div");if(null==A.deleteExpando){A.deleteExpando=!0;try{delete c.test}catch(a){A.deleteExpando=!1}}})();p.acceptData=function(c){var a=p.noData[(c.nodeName+" ").toLowerCase()],h=+c.nodeType||1;return 1!==h&&9!==h?!1:!a||!0!==a&&c.getAttribute("classid")===a};var Ka=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ra=
/([A-Z])/g;p.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(c){return c=c.nodeType?p.cache[c[p.expando]]:c[p.expando],!!c&&!k(c)},data:function(c,a,h){return l(c,a,h)},removeData:function(c,a){return m(c,a)},_data:function(c,a,h){return l(c,a,h,!0)},_removeData:function(c,a){return m(c,a,!0)}});p.fn.extend({data:function(c,a){var h,f,b,d=this[0],e=d&&d.attributes;if(void 0===c){if(this.length&&(b=p.data(d),1===d.nodeType&&
!p._data(d,"parsedAttrs"))){for(h=e.length;h--;)e[h]&&(f=e[h].name,0===f.indexOf("data-")&&(f=p.camelCase(f.slice(5)),g(d,f,b[f])));p._data(d,"parsedAttrs",!0)}return b}return"object"==typeof c?this.each(function(){p.data(this,c)}):1<arguments.length?this.each(function(){p.data(this,c,a)}):d?g(d,c,p.data(d,c)):void 0},removeData:function(c){return this.each(function(){p.removeData(this,c)})}});p.extend({queue:function(c,a,h){var f;return c?(a=(a||"fx")+"queue",f=p._data(c,a),h&&(!f||p.isArray(h)?
f=p._data(c,a,p.makeArray(h)):f.push(h)),f||[]):void 0},dequeue:function(c,a){a=a||"fx";var h=p.queue(c,a),f=h.length,b=h.shift(),d=p._queueHooks(c,a),e=function(){p.dequeue(c,a)};"inprogress"===b&&(b=h.shift(),f--);b&&("fx"===a&&h.unshift("inprogress"),delete d.stop,b.call(c,e,d));!f&&d&&d.empty.fire()},_queueHooks:function(c,a){var h=a+"queueHooks";return p._data(c,h)||p._data(c,h,{empty:p.Callbacks("once memory").add(function(){p._removeData(c,a+"queue");p._removeData(c,h)})})}});p.fn.extend({queue:function(c,
a){var h=2;return"string"!=typeof c&&(a=c,c="fx",h--),arguments.length<h?p.queue(this[0],c):void 0===a?this:this.each(function(){var h=p.queue(this,c,a);p._queueHooks(this,c);"fx"===c&&"inprogress"!==h[0]&&p.dequeue(this,c)})},dequeue:function(c){return this.each(function(){p.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var h,f=1,b=p.Deferred(),d=this,e=this.length,u=function(){--f||b.resolveWith(d,[d])};"string"!=typeof c&&(a=c,c=void 0);for(c=c||
"fx";e--;)(h=p._data(d[e],c+"queueHooks"))&&h.empty&&(f++,h.empty.add(u));return u(),b.promise(a)}});var ta=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,sa=["Top","Right","Bottom","Left"],Fa=function(c,a){return c=a||c,"none"===p.css(c,"display")||!p.contains(c.ownerDocument,c)},pa=p.access=function(c,a,h,f,b,d,e){var u=0,g=c.length,x=null==h;if("object"===p.type(h))for(u in b=!0,h)p.access(c,a,u,h[u],!0,d,e);else if(void 0!==f&&(b=!0,p.isFunction(f)||(e=!0),x&&(e?(a.call(c,f),a=null):(x=a,a=function(c,
a,h){return x.call(p(c),h)})),a))for(;g>u;u++)a(c[u],h,e?f:f.call(c[u],u,a(c[u],h)));return b?c:x?a.call(c):g?a(c[0],h):d},Da=/^(?:checkbox|radio)$/i;!function(){var c=D.createElement("input"),a=D.createElement("div"),h=D.createDocumentFragment();if(a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",A.leadingWhitespace=3===a.firstChild.nodeType,A.tbody=!a.getElementsByTagName("tbody").length,A.htmlSerialize=!!a.getElementsByTagName("link").length,A.html5Clone="<:nav></:nav>"!==
D.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,h.appendChild(c),A.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",A.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,h.appendChild(a),a.innerHTML="<input type='radio' checked='checked' name='t'/>",A.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,A.noCloneEvent=!0,a.attachEvent&&(a.attachEvent("onclick",function(){A.noCloneEvent=!1}),a.cloneNode(!0).click()),null==A.deleteExpando){A.deleteExpando=
!0;try{delete a.test}catch(f){A.deleteExpando=!1}}}();(function(){var c,a,h=D.createElement("div");for(c in{submit:!0,change:!0,focusin:!0})a="on"+c,(A[c+"Bubbles"]=a in d)||(h.setAttribute(a,"t"),A[c+"Bubbles"]=!1===h.attributes[a].expando)})();var Aa=/^(?:input|select|textarea)$/i,Na=/^key/,bb=/^(?:mouse|pointer|contextmenu)|click/,O=/^(?:focusinfocus|focusoutblur)$/,ea=/^([^.]*)(?:\.(.+)|)$/;p.event={global:{},add:function(c,a,h,f,b){var d,e,u,g,x,k,l,B,m,r;if(u=p._data(c)){h.handler&&(g=h,h=g.handler,
b=g.selector);h.guid||(h.guid=p.guid++);(e=u.events)||(e=u.events={});(k=u.handle)||(k=u.handle=function(c){return"undefined"===typeof p||c&&p.event.triggered===c.type?void 0:p.event.dispatch.apply(k.elem,arguments)},k.elem=c);a=(a||"").match(ka)||[""];for(u=a.length;u--;)d=ea.exec(a[u])||[],m=r=d[1],d=(d[2]||"").split(".").sort(),m&&(x=p.event.special[m]||{},m=(b?x.delegateType:x.bindType)||m,x=p.event.special[m]||{},l=p.extend({type:m,origType:r,data:f,handler:h,guid:h.guid,selector:b,needsContext:b&&
p.expr.match.needsContext.test(b),namespace:d.join(".")},g),(B=e[m])||(B=e[m]=[],B.delegateCount=0,x.setup&&!1!==x.setup.call(c,f,d,k)||(c.addEventListener?c.addEventListener(m,k,!1):c.attachEvent&&c.attachEvent("on"+m,k))),x.add&&(x.add.call(c,l),l.handler.guid||(l.handler.guid=h.guid)),b?B.splice(B.delegateCount++,0,l):B.push(l),p.event.global[m]=!0);c=null}},remove:function(c,a,h,f,b){var d,e,u,g,x,k,l,B,m,r,V,F=p.hasData(c)&&p._data(c);if(F&&(k=F.events)){a=(a||"").match(ka)||[""];for(x=a.length;x--;)if(u=
ea.exec(a[x])||[],m=V=u[1],r=(u[2]||"").split(".").sort(),m){l=p.event.special[m]||{};m=(f?l.delegateType:l.bindType)||m;B=k[m]||[];u=u[2]&&new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=d=B.length;d--;)e=B[d],!b&&V!==e.origType||h&&h.guid!==e.guid||u&&!u.test(e.namespace)||f&&f!==e.selector&&("**"!==f||!e.selector)||(B.splice(d,1),e.selector&&B.delegateCount--,l.remove&&l.remove.call(c,e));g&&!B.length&&(l.teardown&&!1!==l.teardown.call(c,r,F.handle)||p.removeEvent(c,m,F.handle),delete k[m])}else for(m in k)p.event.remove(c,
m+a[x],h,f,!0);p.isEmptyObject(k)&&(delete F.handle,p._removeData(c,"events"))}},trigger:function(c,a,h,f){var b,e,u,g,x,k,l=[h||D],B=ca.call(c,"type")?c.type:c;k=ca.call(c,"namespace")?c.namespace.split("."):[];if(u=b=h=h||D,3!==h.nodeType&&8!==h.nodeType&&!O.test(B+p.event.triggered)&&(0<=B.indexOf(".")&&(k=B.split("."),B=k.shift(),k.sort()),e=0>B.indexOf(":")&&"on"+B,c=c[p.expando]?c:new p.Event(B,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=k.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+
k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=h),a=null==a?[c]:p.makeArray(a,[c]),x=p.event.special[B]||{},f||!x.trigger||!1!==x.trigger.apply(h,a))){if(!f&&!x.noBubble&&!p.isWindow(h)){g=x.delegateType||B;for(O.test(g+B)||(u=u.parentNode);u;u=u.parentNode)l.push(u),b=u;b===(h.ownerDocument||D)&&l.push(b.defaultView||b.parentWindow||d)}for(k=0;(u=l[k++])&&!c.isPropagationStopped();)c.type=1<k?g:x.bindType||B,(b=(p._data(u,"events")||{})[c.type]&&p._data(u,"handle"))&&
b.apply(u,a),(b=e&&u[e])&&b.apply&&p.acceptData(u)&&(c.result=b.apply(u,a),!1===c.result&&c.preventDefault());if(c.type=B,!(f||c.isDefaultPrevented()||x._default&&!1!==x._default.apply(l.pop(),a))&&p.acceptData(h)&&e&&h[B]&&!p.isWindow(h)){(b=h[e])&&(h[e]=null);p.event.triggered=B;try{h[B]()}catch(m){}p.event.triggered=void 0;b&&(h[e]=b)}return c.result}},dispatch:function(c){c=p.event.fix(c);var a,h,f,b,d,e=[],u=W.call(arguments);a=(p._data(this,"events")||{})[c.type]||[];var g=p.event.special[c.type]||
{};if(u[0]=c,c.delegateTarget=this,!g.preDispatch||!1!==g.preDispatch.call(this,c)){e=p.event.handlers.call(this,c,a);for(a=0;(b=e[a++])&&!c.isPropagationStopped();)for(c.currentTarget=b.elem,d=0;(f=b.handlers[d++])&&!c.isImmediatePropagationStopped();)c.namespace_re&&!c.namespace_re.test(f.namespace)||(c.handleObj=f,c.data=f.data,h=((p.event.special[f.origType]||{}).handle||f.handler).apply(b.elem,u),void 0===h||!1!==(c.result=h)||(c.preventDefault(),c.stopPropagation()));return g.postDispatch&&
g.postDispatch.call(this,c),c.result}},handlers:function(c,a){var h,f,b,d,e=[],u=a.delegateCount,g=c.target;if(u&&g.nodeType&&(!c.button||"click"!==c.type))for(;g!=this;g=g.parentNode||this)if(1===g.nodeType&&(!0!==g.disabled||"click"!==c.type)){b=[];for(d=0;u>d;d++)f=a[d],h=f.selector+" ",void 0===b[h]&&(b[h]=f.needsContext?0<=p(h,this).index(g):p.find(h,this,null,[g]).length),b[h]&&b.push(f);b.length&&e.push({elem:g,handlers:b})}return u<a.length&&e.push({elem:this,handlers:a.slice(u)}),e},fix:function(c){if(c[p.expando])return c;
var a,h,f;a=c.type;var b=c,d=this.fixHooks[a];d||(this.fixHooks[a]=d=bb.test(a)?this.mouseHooks:Na.test(a)?this.keyHooks:{});f=d.props?this.props.concat(d.props):this.props;c=new p.Event(b);for(a=f.length;a--;)h=f[a],c[h]=b[h];return c.target||(c.target=b.srcElement||D),3===c.target.nodeType&&(c.target=c.target.parentNode),c.metaKey=!!c.metaKey,d.filter?d.filter(c,b):c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(c,a){return null==c.which&&(c.which=null!=a.charCode?a.charCode:a.keyCode),c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(c,a){var h,f,b,d=a.button,e=a.fromElement;return null==c.pageX&&null!=a.clientX&&(f=c.target.ownerDocument||D,b=f.documentElement,h=f.body,c.pageX=a.clientX+(b&&b.scrollLeft||h&&h.scrollLeft||0)-(b&&
b.clientLeft||h&&h.clientLeft||0),c.pageY=a.clientY+(b&&b.scrollTop||h&&h.scrollTop||0)-(b&&b.clientTop||h&&h.clientTop||0)),!c.relatedTarget&&e&&(c.relatedTarget=e===c.target?a.toElement:e),c.which||void 0===d||(c.which=1&d?1:2&d?3:4&d?2:0),c}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==z()&&this.focus)try{return this.focus(),!1}catch(c){}},delegateType:"focusin"},blur:{trigger:function(){return this===z()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return p.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(c){return p.nodeName(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}},simulate:function(c,a,h,f){c=p.extend(new p.Event,h,{type:c,isSimulated:!0,originalEvent:{}});f?p.event.trigger(c,null,a):p.event.dispatch.call(a,c);c.isDefaultPrevented()&&h.preventDefault()}};p.removeEvent=D.removeEventListener?function(c,a,h){c.removeEventListener&&
c.removeEventListener(a,h,!1)}:function(c,a,h){a="on"+a;c.detachEvent&&("undefined"===typeof c[a]&&(c[a]=null),c.detachEvent(a,h))};p.Event=function(c,a){return this instanceof p.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?r:y):this.type=c,a&&p.extend(this,a),this.timeStamp=c&&c.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(c,a)};p.Event.prototype={isDefaultPrevented:y,isPropagationStopped:y,
isImmediatePropagationStopped:y,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=r;c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=r;c&&(c.stopPropagation&&c.stopPropagation(),c.cancelBubble=!0)},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=r;c&&c.stopImmediatePropagation&&c.stopImmediatePropagation();this.stopPropagation()}};p.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,a){p.event.special[c]={delegateType:a,bindType:a,handle:function(c){var h,f=c.relatedTarget,b=c.handleObj;return(!f||f!==this&&!p.contains(this,f))&&(c.type=b.origType,h=b.handler.apply(this,arguments),c.type=a),h}}});A.submitBubbles||(p.event.special.submit={setup:function(){return p.nodeName(this,"form")?!1:void p.event.add(this,"click._submit keypress._submit",function(c){c=c.target;(c=p.nodeName(c,"input")||
p.nodeName(c,"button")?c.form:void 0)&&!p._data(c,"submitBubbles")&&(p.event.add(c,"submit._submit",function(c){c._submit_bubble=!0}),p._data(c,"submitBubbles",!0))})},postDispatch:function(c){c._submit_bubble&&(delete c._submit_bubble,this.parentNode&&!c.isTrigger&&p.event.simulate("submit",this.parentNode,c,!0))},teardown:function(){return p.nodeName(this,"form")?!1:void p.event.remove(this,"._submit")}});A.changeBubbles||(p.event.special.change={setup:function(){return Aa.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(p.event.add(this,"propertychange._change",function(c){"checked"===c.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(c){this._just_changed&&!c.isTrigger&&(this._just_changed=!1);p.event.simulate("change",this,c,!0)})),!1):void p.event.add(this,"beforeactivate._change",function(c){c=c.target;Aa.test(c.nodeName)&&!p._data(c,"changeBubbles")&&(p.event.add(c,"change._change",function(c){!this.parentNode||c.isSimulated||c.isTrigger||
p.event.simulate("change",this.parentNode,c,!0)}),p._data(c,"changeBubbles",!0))})},handle:function(c){var a=c.target;return this!==a||c.isSimulated||c.isTrigger||"radio"!==a.type&&"checkbox"!==a.type?c.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return p.event.remove(this,"._change"),!Aa.test(this.nodeName)}});A.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(c,a){var h=function(c){p.event.simulate(a,c.target,p.event.fix(c),!0)};p.event.special[a]={setup:function(){var f=
this.ownerDocument||this,b=p._data(f,a);b||f.addEventListener(c,h,!0);p._data(f,a,(b||0)+1)},teardown:function(){var f=this.ownerDocument||this,b=p._data(f,a)-1;b?p._data(f,a,b):(f.removeEventListener(c,h,!0),p._removeData(f,a))}}});p.fn.extend({on:function(c,a,h,f,b){var d,e;if("object"==typeof c){"string"!=typeof a&&(h=h||a,a=void 0);for(d in c)this.on(d,a,h,c[d],b);return this}if(null==h&&null==f?(f=a,h=a=void 0):null==f&&("string"==typeof a?(f=h,h=void 0):(f=h,h=a,a=void 0)),!1===f)f=y;else if(!f)return this;
return 1===b&&(e=f,f=function(c){return p().off(c),e.apply(this,arguments)},f.guid=e.guid||(e.guid=p.guid++)),this.each(function(){p.event.add(this,c,f,h,a)})},one:function(c,a,h,f){return this.on(c,a,h,f,1)},off:function(c,a,h){var f,b;if(c&&c.preventDefault&&c.handleObj)return f=c.handleObj,p(c.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof c){for(b in c)this.off(b,a,c[b]);return this}return(!1===a||"function"==typeof a)&&(h=
a,a=void 0),!1===h&&(h=y),this.each(function(){p.event.remove(this,c,h,a)})},trigger:function(c,a){return this.each(function(){p.event.trigger(c,a,this)})},triggerHandler:function(c,a){var h=this[0];return h?p.event.trigger(c,a,h,!0):void 0}});var S="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qa=/ jQuery\d+="(?:null|\d+)"/g,la=new RegExp("<(?:"+S+")[\\s/>]","i"),Ta=/^\s+/,cb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
Ua=/<([\w:]+)/,db=/<tbody/i,eb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ra=/checked\s*(?:[^=]|=\s*.checked.)/i,Oa=/^$|\/(?:java|ecma)script/i,Kb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ma={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],_default:A.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ob=v(D).appendChild(D.createElement("div"));ma.optgroup=ma.option;ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead;ma.th=ma.td;p.extend({clone:function(a,h,f){var b,d,e,g,k,l=p.contains(a.ownerDocument,a);if(A.html5Clone||p.isXMLDoc(a)||!la.test("<"+a.nodeName+">")?e=a.cloneNode(!0):(ob.innerHTML=a.outerHTML,ob.removeChild(e=ob.firstChild)),!(A.noCloneEvent&&A.noCloneChecked||1!==a.nodeType&&11!==
a.nodeType||p.isXMLDoc(a)))for(b=c(e),k=c(a),g=0;null!=(d=k[g]);++g)if(b[g]){var m=b[g],r=void 0,F=void 0,v=void 0;if(1===m.nodeType){if(r=m.nodeName.toLowerCase(),!A.noCloneEvent&&m[p.expando]){v=p._data(m);for(F in v.events)p.removeEvent(m,F,v.handle);m.removeAttribute(p.expando)}"script"===r&&m.text!==d.text?(u(m).text=d.text,x(m)):"object"===r?(m.parentNode&&(m.outerHTML=d.outerHTML),A.html5Clone&&d.innerHTML&&!p.trim(m.innerHTML)&&(m.innerHTML=d.innerHTML)):"input"===r&&Da.test(d.type)?(m.defaultChecked=
m.checked=d.checked,m.value!==d.value&&(m.value=d.value)):"option"===r?m.defaultSelected=m.selected=d.defaultSelected:("input"===r||"textarea"===r)&&(m.defaultValue=d.defaultValue)}}if(h)if(f)for(k=k||c(a),b=b||c(e),g=0;null!=(d=k[g]);g++)V(d,b[g]);else V(a,e);return b=c(e,"script"),0<b.length&&B(b,!l&&c(a,"script")),e},buildFragment:function(a,f,b,d){for(var e,u,g,x,k,l,m,r=a.length,V=v(f),F=[],H=0;r>H;H++)if(u=a[H],u||0===u)if("object"===p.type(u))p.merge(F,u.nodeType?[u]:u);else if(eb.test(u)){x=
x||V.appendChild(f.createElement("div"));k=(Ua.exec(u)||["",""])[1].toLowerCase();m=ma[k]||ma._default;x.innerHTML=m[1]+u.replace(cb,"<$1></$2>")+m[2];for(e=m[0];e--;)x=x.lastChild;if(!A.leadingWhitespace&&Ta.test(u)&&F.push(f.createTextNode(Ta.exec(u)[0])),!A.tbody)for(e=(u="table"!==k||db.test(u)?"<table>"!==m[1]||db.test(u)?0:x:x.firstChild)&&u.childNodes.length;e--;)p.nodeName(l=u.childNodes[e],"tbody")&&!l.childNodes.length&&u.removeChild(l);p.merge(F,x.childNodes);for(x.textContent="";x.firstChild;)x.removeChild(x.firstChild);
x=V.lastChild}else F.push(f.createTextNode(u));x&&V.removeChild(x);A.appendChecked||p.grep(c(F,"input"),h);for(H=0;u=F[H++];)if((!d||-1===p.inArray(u,d))&&(g=p.contains(u.ownerDocument,u),x=c(V.appendChild(u),"script"),g&&B(x),b))for(e=0;u=x[e++];)Oa.test(u.type||"")&&b.push(u);return V},cleanData:function(c,a){for(var h,f,b,d,e=0,u=p.expando,g=p.cache,x=A.deleteExpando,k=p.event.special;null!=(h=c[e]);e++)if((a||p.acceptData(h))&&(b=h[u],d=b&&g[b])){if(d.events)for(f in d.events)k[f]?p.event.remove(h,
f):p.removeEvent(h,f,d.handle);g[b]&&(delete g[b],x?delete h[u]:"undefined"!==typeof h.removeAttribute?h.removeAttribute(u):h[u]=null,U.push(b))}}});p.fn.extend({text:function(c){return pa(this,function(c){return void 0===c?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||D).createTextNode(c))},null,c,arguments.length)},append:function(){return this.domManip(arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||f(this,c).appendChild(c)})},prepend:function(){return this.domManip(arguments,
function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=f(this,c);a.insertBefore(c,a.firstChild)}})},before:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return this.domManip(arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},remove:function(a,h){for(var f,b=a?p.filter(a,this):this,d=0;null!=(f=b[d]);d++)h||1!==f.nodeType||p.cleanData(c(f)),f.parentNode&&
(h&&p.contains(f.ownerDocument,f)&&B(c(f,"script")),f.parentNode.removeChild(f));return this},empty:function(){for(var a,h=0;null!=(a=this[h]);h++){for(1===a.nodeType&&p.cleanData(c(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&p.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(c,a){return c=null==c?!1:c,a=null==a?c:a,this.map(function(){return p.clone(this,c,a)})},html:function(a){return pa(this,function(a){var h=this[0]||{},f=0,b=this.length;if(void 0===a)return 1===
h.nodeType?h.innerHTML.replace(qa,""):void 0;if(!("string"!=typeof a||nb.test(a)||!A.htmlSerialize&&la.test(a)||!A.leadingWhitespace&&Ta.test(a)||ma[(Ua.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(cb,"<$1></$2>");try{for(;b>f;f++)h=this[f]||{},1===h.nodeType&&(p.cleanData(c(h,!1)),h.innerHTML=a);h=0}catch(d){}}h&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(h){a=this.parentNode;p.cleanData(c(this));a&&a.replaceChild(h,
this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(c){return this.remove(c,!0)},domManip:function(a,h){a=Y.apply([],a);var f,b,d,e,g=0,k=this.length,l=this,B=k-1,m=a[0],r=p.isFunction(m);if(r||1<k&&"string"==typeof m&&!A.checkClone&&ra.test(m))return this.each(function(c){var f=l.eq(c);r&&(a[0]=m.call(this,c,f.html()));f.domManip(a,h)});if(k&&(e=p.buildFragment(a,this[0].ownerDocument,!1,this),f=e.firstChild,1===e.childNodes.length&&(e=f),f)){d=p.map(c(e,"script"),u);for(b=d.length;k>
g;g++)f=e,g!==B&&(f=p.clone(f,!0,!0),b&&p.merge(d,c(f,"script"))),h.call(this[g],f,g);if(b)for(e=d[d.length-1].ownerDocument,p.map(d,x),g=0;b>g;g++)f=d[g],Oa.test(f.type||"")&&!p._data(f,"globalEval")&&p.contains(e,f)&&(f.src?p._evalUrl&&p._evalUrl(f.src):p.globalEval((f.text||f.textContent||f.innerHTML||"").replace(fb,"")));e=f=null}return this}});p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){p.fn[c]=function(c){for(var h=
0,f=[],b=p(c),d=b.length-1;d>=h;h++)c=h===d?this:this.clone(!0),p(b[h])[a](c),ia.apply(f,c.get());return this.pushStack(f)}});var Ea,Wa={};!function(){var c;A.shrinkWrapBlocks=function(){if(null!=c)return c;c=!1;var a,h,f;return h=D.getElementsByTagName("body")[0],h&&h.style?(a=D.createElement("div"),f=D.createElement("div"),f.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",h.appendChild(f).appendChild(a),"undefined"!==typeof a.style.zoom&&(a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
a.appendChild(D.createElement("div")).style.width="5px",c=3!==a.offsetWidth),h.removeChild(f),c):void 0}}();var wb=/^margin/,La=new RegExp("^("+ta+")(?!px)[a-z%]+$","i"),ja,va,xb=/^(top|right|bottom|left)$/;d.getComputedStyle?(ja=function(c){return c.ownerDocument.defaultView.opener?c.ownerDocument.defaultView.getComputedStyle(c,null):d.getComputedStyle(c,null)},va=function(c,a,h){var f,b,d,e,u=c.style;return h=h||ja(c),e=h?h.getPropertyValue(a)||h[a]:void 0,h&&(""!==e||p.contains(c.ownerDocument,
c)||(e=p.style(c,a)),La.test(e)&&wb.test(a)&&(f=u.width,b=u.minWidth,d=u.maxWidth,u.minWidth=u.maxWidth=u.width=e,e=h.width,u.width=f,u.minWidth=b,u.maxWidth=d)),void 0===e?e:e+""}):D.documentElement.currentStyle&&(ja=function(c){return c.currentStyle},va=function(c,a,h){var f,b,d,e,u=c.style;return h=h||ja(c),e=h?h[a]:void 0,null==e&&u&&u[a]&&(e=u[a]),La.test(e)&&!xb.test(a)&&(f=u.left,b=c.runtimeStyle,d=b&&b.left,d&&(b.left=c.currentStyle.left),u.left="fontSize"===a?"1em":e,e=u.pixelLeft+"px",u.left=
f,d&&(b.left=d)),void 0===e?e:e+""||"auto"});!function(){var c,a,h,f,b,e,u;if(c=D.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",h=c.getElementsByTagName("a")[0],a=h&&h.style){var g=function(){var c,a,h,g;(a=D.getElementsByTagName("body")[0])&&a.style&&(c=D.createElement("div"),h=D.createElement("div"),h.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",a.appendChild(h).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
f=b=!1,u=!0,d.getComputedStyle&&(f="1%"!==(d.getComputedStyle(c,null)||{}).top,b="4px"===(d.getComputedStyle(c,null)||{width:"4px"}).width,g=c.appendChild(D.createElement("div")),g.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",g.style.marginRight=g.style.width="0",c.style.width="1px",u=!parseFloat((d.getComputedStyle(g,null)||{}).marginRight),c.removeChild(g)),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
g=c.getElementsByTagName("td"),g[0].style.cssText="margin:0;border:0;padding:0;display:none",e=0===g[0].offsetHeight,e&&(g[0].style.display="",g[1].style.display="none",e=0===g[0].offsetHeight),a.removeChild(h))};a.cssText="float:left;opacity:.5";A.opacity="0.5"===a.opacity;A.cssFloat=!!a.cssFloat;c.style.backgroundClip="content-box";c.cloneNode(!0).style.backgroundClip="";A.clearCloneStyle="content-box"===c.style.backgroundClip;A.boxSizing=""===a.boxSizing||""===a.MozBoxSizing||""===a.WebkitBoxSizing;
p.extend(A,{reliableHiddenOffsets:function(){return null==e&&g(),e},boxSizingReliable:function(){return null==b&&g(),b},pixelPosition:function(){return null==f&&g(),f},reliableMarginRight:function(){return null==u&&g(),u}})}}();p.swap=function(c,a,h,f){var b,d={};for(b in a)d[b]=c.style[b],c.style[b]=a[b];h=h.apply(c,f||[]);for(b in a)c.style[b]=d[b];return h};var pb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Lb=new RegExp("^("+ta+")(.*)$","i"),Qb=new RegExp("^([+-])=("+
ta+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},yb={letterSpacing:"0",fontWeight:"400"},vb=["Webkit","O","Moz","ms"];p.extend({cssHooks:{opacity:{get:function(c,a){if(a){var h=va(c,"opacity");return""===h?"1":h}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":A.cssFloat?"cssFloat":"styleFloat"},style:function(c,a,h,f){if(c&&3!==c.nodeType&&8!==c.nodeType&&
c.style){var b,d,e,u=p.camelCase(a),g=c.style;if(a=p.cssProps[u]||(p.cssProps[u]=X(g,u)),e=p.cssHooks[a]||p.cssHooks[u],void 0===h)return e&&"get"in e&&void 0!==(b=e.get(c,!1,f))?b:g[a];if(d=typeof h,"string"===d&&(b=Qb.exec(h))&&(h=(b[1]+1)*b[2]+parseFloat(p.css(c,a)),d="number"),null!=h&&h===h&&("number"!==d||p.cssNumber[u]||(h+="px"),A.clearCloneStyle||""!==h||0!==a.indexOf("background")||(g[a]="inherit"),!(e&&"set"in e&&void 0===(h=e.set(c,h,f)))))try{g[a]=h}catch(x){}}},css:function(c,a,h,f){var b,
d,e,u=p.camelCase(a);return a=p.cssProps[u]||(p.cssProps[u]=X(c.style,u)),e=p.cssHooks[a]||p.cssHooks[u],e&&"get"in e&&(d=e.get(c,!0,h)),void 0===d&&(d=va(c,a,f)),"normal"===d&&a in yb&&(d=yb[a]),""===h||h?(b=parseFloat(d),!0===h||p.isNumeric(b)?b||0:d):d}});p.each(["height","width"],function(c,a){p.cssHooks[a]={get:function(c,h,f){return h?Pb.test(p.css(c,"display"))&&0===c.offsetWidth?p.swap(c,Rb,function(){return R(c,a,f)}):R(c,a,f):void 0},set:function(c,h,f){var b=f&&ja(c);return P(c,h,f?G(c,
a,f,A.boxSizing&&"border-box"===p.css(c,"boxSizing",!1,b),b):0)}}});A.opacity||(p.cssHooks.opacity={get:function(c,a){return Ob.test((a&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},set:function(c,a){var h=c.style,f=c.currentStyle,b=p.isNumeric(a)?"alpha(opacity="+100*a+")":"",d=f&&f.filter||h.filter||"";h.zoom=1;(1<=a||""===a)&&""===p.trim(d.replace(pb,""))&&h.removeAttribute&&(h.removeAttribute("filter"),""===a||f&&!f.filter)||(h.filter=pb.test(d)?
d.replace(pb,b):d+" "+b)}});p.cssHooks.marginRight=K(A.reliableMarginRight,function(c,a){return a?p.swap(c,{display:"inline-block"},va,[c,"marginRight"]):void 0});p.each({margin:"",padding:"",border:"Width"},function(c,a){p.cssHooks[c+a]={expand:function(h){var f=0,b={};for(h="string"==typeof h?h.split(" "):[h];4>f;f++)b[c+sa[f]+a]=h[f]||h[f-2]||h[0];return b}};wb.test(c)||(p.cssHooks[c+a].set=P)});p.fn.extend({css:function(c,a){return pa(this,function(c,a,h){var f,b={},d=0;if(p.isArray(a)){h=ja(c);
for(f=a.length;f>d;d++)b[a[d]]=p.css(c,a[d],!1,h);return b}return void 0!==h?p.style(c,a,h):p.css(c,a)},c,a,1<arguments.length)},show:function(){return Z(this,!0)},hide:function(){return Z(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){Fa(this)?p(this).show():p(this).hide()})}});p.Tween=J;J.prototype={constructor:J,init:function(c,a,h,f,b,d){this.elem=c;this.prop=h;this.easing=b||"swing";this.options=a;this.start=this.now=this.cur();this.end=f;this.unit=
d||(p.cssNumber[h]?"":"px")},cur:function(){var c=J.propHooks[this.prop];return c&&c.get?c.get(this):J.propHooks._default.get(this)},run:function(c){var a,h=J.propHooks[this.prop];return this.pos=a=this.options.duration?p.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):c,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):J.propHooks._default.set(this),this}};J.prototype.init.prototype=J.prototype;
J.propHooks={_default:{get:function(c){var a;return null==c.elem[c.prop]||c.elem.style&&null!=c.elem.style[c.prop]?(a=p.css(c.elem,c.prop,""),a&&"auto"!==a?a:0):c.elem[c.prop]},set:function(c){p.fx.step[c.prop]?p.fx.step[c.prop](c):c.elem.style&&(null!=c.elem.style[p.cssProps[c.prop]]||p.cssHooks[c.prop])?p.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};p.easing={linear:function(c){return c},
swing:function(c){return.5-Math.cos(c*Math.PI)/2}};p.fx=J.prototype.init;p.fx.step={};var Ma,gb,Sb=/^(?:toggle|show|hide)$/,zb=new RegExp("^(?:([+-])=|)("+ta+")([a-z%]*)$","i"),Tb=/queueHooks$/,Xa=[function(c,a,h){var f,b,d,e,u,g,x,k=this,l={},B=c.style,m=c.nodeType&&Fa(c),r=p._data(c,"fxshow");h.queue||(e=p._queueHooks(c,"fx"),null==e.unqueued&&(e.unqueued=0,u=e.empty.fire,e.empty.fire=function(){e.unqueued||u()}),e.unqueued++,k.always(function(){k.always(function(){e.unqueued--;p.queue(c,"fx").length||
e.empty.fire()})}));1===c.nodeType&&("height"in a||"width"in a)&&(h.overflow=[B.overflow,B.overflowX,B.overflowY],g=p.css(c,"display"),x="none"===g?p._data(c,"olddisplay")||F(c.nodeName):g,"inline"===x&&"none"===p.css(c,"float")&&(A.inlineBlockNeedsLayout&&"inline"!==F(c.nodeName)?B.zoom=1:B.display="inline-block"));h.overflow&&(B.overflow="hidden",A.shrinkWrapBlocks()||k.always(function(){B.overflow=h.overflow[0];B.overflowX=h.overflow[1];B.overflowY=h.overflow[2]}));for(f in a)if(b=a[f],Sb.exec(b)){if(delete a[f],
d=d||"toggle"===b,b===(m?"hide":"show")){if("show"!==b||!r||void 0===r[f])continue;m=!0}l[f]=r&&r[f]||p.style(c,f)}else g=void 0;if(p.isEmptyObject(l))"inline"===("none"===g?F(c.nodeName):g)&&(B.display=g);else for(f in r?"hidden"in r&&(m=r.hidden):r=p._data(c,"fxshow",{}),d&&(r.hidden=!m),m?p(c).show():k.done(function(){p(c).hide()}),k.done(function(){var a;p._removeData(c,"fxshow");for(a in l)p.style(c,a,l[a])}),l)a=M(m?r[f]:0,f,k),f in r||(r[f]=a.start,m&&(a.end=a.start,a.start="width"===f||"height"===
f?1:0))}],Sa={"*":[function(c,a){var h=this.createTween(c,a),f=h.cur(),b=zb.exec(a),d=b&&b[3]||(p.cssNumber[c]?"":"px"),e=(p.cssNumber[c]||"px"!==d&&+f)&&zb.exec(p.css(h.elem,c)),u=1,g=20;if(e&&e[3]!==d){d=d||e[3];b=b||[];e=+f||1;do u=u||".5",e/=u,p.style(h.elem,c,e+d);while(u!==(u=h.cur()/f)&&1!==u&&--g)}return b&&(e=h.start=+e||+f||0,h.unit=d,h.end=b[1]?e+(b[1]+1)*b[2]:+b[2]),h}]};p.Animation=p.extend(E,{tweener:function(c,a){p.isFunction(c)?(a=c,c=["*"]):c=c.split(" ");for(var h,f=0,b=c.length;b>
f;f++)h=c[f],Sa[h]=Sa[h]||[],Sa[h].unshift(a)},prefilter:function(c,a){a?Xa.unshift(c):Xa.push(c)}});p.speed=function(c,a,h){var f=c&&"object"==typeof c?p.extend({},c):{complete:h||!h&&a||p.isFunction(c)&&c,duration:c,easing:h&&a||a&&!p.isFunction(a)&&a};return f.duration=p.fx.off?0:"number"==typeof f.duration?f.duration:f.duration in p.fx.speeds?p.fx.speeds[f.duration]:p.fx.speeds._default,(null==f.queue||!0===f.queue)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){p.isFunction(f.old)&&f.old.call(this);
f.queue&&p.dequeue(this,f.queue)},f};p.fn.extend({fadeTo:function(c,a,h,f){return this.filter(Fa).css("opacity",0).show().end().animate({opacity:a},c,h,f)},animate:function(c,a,h,f){var b=p.isEmptyObject(c),d=p.speed(a,h,f);a=function(){var a=E(this,p.extend({},c),d);(b||p._data(this,"finish"))&&a.stop(!0)};return a.finish=a,b||!1===d.queue?this.each(a):this.queue(d.queue,a)},stop:function(c,a,h){var f=function(c){var a=c.stop;delete c.stop;a(h)};return"string"!=typeof c&&(h=a,a=c,c=void 0),a&&!1!==
c&&this.queue(c||"fx",[]),this.each(function(){var a=!0,b=null!=c&&c+"queueHooks",d=p.timers,e=p._data(this);if(b)e[b]&&e[b].stop&&f(e[b]);else for(b in e)e[b]&&e[b].stop&&Tb.test(b)&&f(e[b]);for(b=d.length;b--;)d[b].elem!==this||null!=c&&d[b].queue!==c||(d[b].anim.stop(h),a=!1,d.splice(b,1));!a&&h||p.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var a,h=p._data(this),f=h[c+"queue"];a=h[c+"queueHooks"];var b=p.timers,d=f?f.length:0;h.finish=!0;p.queue(this,c,
[]);a&&a.stop&&a.stop.call(this,!0);for(a=b.length;a--;)b[a].elem===this&&b[a].queue===c&&(b[a].anim.stop(!0),b.splice(a,1));for(a=0;d>a;a++)f[a]&&f[a].finish&&f[a].finish.call(this);delete h.finish})}});p.each(["toggle","show","hide"],function(c,a){var h=p.fn[a];p.fn[a]=function(c,f,b){return null==c||"boolean"==typeof c?h.apply(this,arguments):this.animate(ba(a,!0),c,f,b)}});p.each({slideDown:ba("show"),slideUp:ba("hide"),slideToggle:ba("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(c,a){p.fn[c]=function(c,h,f){return this.animate(a,c,h,f)}});p.timers=[];p.fx.tick=function(){var c,a=p.timers,h=0;for(Ma=p.now();h<a.length;h++)c=a[h],c()||a[h]!==c||a.splice(h--,1);a.length||p.fx.stop();Ma=void 0};p.fx.timer=function(c){p.timers.push(c);c()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){gb||(gb=setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){clearInterval(gb);gb=null};p.fx.speeds={slow:600,fast:200,_default:400};
p.fn.delay=function(c,a){return c=p.fx?p.fx.speeds[c]||c:c,a=a||"fx",this.queue(a,function(a,h){var f=setTimeout(a,c);h.stop=function(){clearTimeout(f)}})};(function(){var c,a,h,f,b;a=D.createElement("div");a.setAttribute("className","t");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";f=a.getElementsByTagName("a")[0];h=D.createElement("select");b=h.appendChild(D.createElement("option"));c=a.getElementsByTagName("input")[0];f.style.cssText="top:1px";A.getSetAttribute=
"t"!==a.className;A.style=/top/.test(f.getAttribute("style"));A.hrefNormalized="/a"===f.getAttribute("href");A.checkOn=!!c.value;A.optSelected=b.selected;A.enctype=!!D.createElement("form").enctype;h.disabled=!0;A.optDisabled=!b.disabled;c=D.createElement("input");c.setAttribute("value","");A.input=""===c.getAttribute("value");c.value="t";c.setAttribute("type","radio");A.radioValue="t"===c.value})();var Ub=/\r/g;p.fn.extend({val:function(c){var a,h,f,b=this[0];if(arguments.length)return f=p.isFunction(c),
this.each(function(h){var b;1===this.nodeType&&(b=f?c.call(this,h,p(this).val()):c,null==b?b="":"number"==typeof b?b+="":p.isArray(b)&&(b=p.map(b,function(c){return null==c?"":c+""})),a=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,b,"value")||(this.value=b))});if(b)return a=p.valHooks[b.type]||p.valHooks[b.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(h=a.get(b,"value"))?h:(h=b.value,"string"==typeof h?h.replace(Ub,""):null==h?"":h)}});p.extend({valHooks:{option:{get:function(c){var a=
p.find.attr(c,"value");return null!=a?a:p.trim(p.text(c))}},select:{get:function(c){for(var a,h=c.options,f=c.selectedIndex,b="select-one"===c.type||0>f,d=b?null:[],e=b?f+1:h.length,u=0>f?e:b?f:0;e>u;u++)if(a=h[u],!(!a.selected&&u!==f||(A.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&p.nodeName(a.parentNode,"optgroup"))){if(c=p(a).val(),b)return c;d.push(c)}return d},set:function(c,a){for(var h,f,b=c.options,d=p.makeArray(a),e=b.length;e--;)if(f=b[e],0<=p.inArray(p.valHooks.option.get(f),
d))try{f.selected=h=!0}catch(u){f.scrollHeight}else f.selected=!1;return h||(c.selectedIndex=-1),b}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(c,a){return p.isArray(a)?c.checked=0<=p.inArray(p(c).val(),a):void 0}};A.checkOn||(p.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var Pa,Ab,Ba=p.expr.attrHandle,qb=/^(?:checked|selected)$/i,Ia=A.getSetAttribute,hb=A.input;p.fn.extend({attr:function(c,a){return pa(this,p.attr,c,a,1<arguments.length)},
removeAttr:function(c){return this.each(function(){p.removeAttr(this,c)})}});p.extend({attr:function(c,a,h){var f,b,d=c.nodeType;if(c&&3!==d&&8!==d&&2!==d)return"undefined"===typeof c.getAttribute?p.prop(c,a,h):(1===d&&p.isXMLDoc(c)||(a=a.toLowerCase(),f=p.attrHooks[a]||(p.expr.match.bool.test(a)?Ab:Pa)),void 0===h?f&&"get"in f&&null!==(b=f.get(c,a))?b:(b=p.find.attr(c,a),null==b?void 0:b):null!==h?f&&"set"in f&&void 0!==(b=f.set(c,h,a))?b:(c.setAttribute(a,h+""),h):void p.removeAttr(c,a))},removeAttr:function(c,
a){var h,f,b=0,d=a&&a.match(ka);if(d&&1===c.nodeType)for(;h=d[b++];)f=p.propFix[h]||h,p.expr.match.bool.test(h)?hb&&Ia||!qb.test(h)?c[f]=!1:c[p.camelCase("default-"+h)]=c[f]=!1:p.attr(c,h,""),c.removeAttribute(Ia?h:f)},attrHooks:{type:{set:function(c,a){if(!A.radioValue&&"radio"===a&&p.nodeName(c,"input")){var h=c.value;return c.setAttribute("type",a),h&&(c.value=h),a}}}}});Ab={set:function(c,a,h){return!1===a?p.removeAttr(c,h):hb&&Ia||!qb.test(h)?c.setAttribute(!Ia&&p.propFix[h]||h,h):c[p.camelCase("default-"+
h)]=c[h]=!0,h}};p.each(p.expr.match.bool.source.match(/\w+/g),function(c,a){var h=Ba[a]||p.find.attr;Ba[a]=hb&&Ia||!qb.test(a)?function(c,a,f){var b,d;return f||(d=Ba[a],Ba[a]=b,b=null!=h(c,a,f)?a.toLowerCase():null,Ba[a]=d),b}:function(c,a,h){return h?void 0:c[p.camelCase("default-"+a)]?a.toLowerCase():null}});hb&&Ia||(p.attrHooks.value={set:function(c,a,h){return p.nodeName(c,"input")?void(c.defaultValue=a):Pa&&Pa.set(c,a,h)}});Ia||(Pa={set:function(c,a,h){var f=c.getAttributeNode(h);return f||
c.setAttributeNode(f=c.ownerDocument.createAttribute(h)),f.value=a+="","value"===h||a===c.getAttribute(h)?a:void 0}},Ba.id=Ba.name=Ba.coords=function(c,a,h){var f;return h?void 0:(f=c.getAttributeNode(a))&&""!==f.value?f.value:null},p.valHooks.button={get:function(c,a){var h=c.getAttributeNode(a);return h&&h.specified?h.value:void 0},set:Pa.set},p.attrHooks.contenteditable={set:function(c,a,h){Pa.set(c,""===a?!1:a,h)}},p.each(["width","height"],function(c,a){p.attrHooks[a]={set:function(c,h){return""===
h?(c.setAttribute(a,"auto"),h):void 0}}}));A.style||(p.attrHooks.style={get:function(c){return c.style.cssText||void 0},set:function(c,a){return c.style.cssText=a+""}});var Vb=/^(?:input|select|textarea|button|object)$/i,Wb=/^(?:a|area)$/i;p.fn.extend({prop:function(c,a){return pa(this,p.prop,c,a,1<arguments.length)},removeProp:function(c){return c=p.propFix[c]||c,this.each(function(){try{this[c]=void 0,delete this[c]}catch(a){}})}});p.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(c,
a,h){var f,b,d,e=c.nodeType;if(c&&3!==e&&8!==e&&2!==e)return d=1!==e||!p.isXMLDoc(c),d&&(a=p.propFix[a]||a,b=p.propHooks[a]),void 0!==h?b&&"set"in b&&void 0!==(f=b.set(c,h,a))?f:c[a]=h:b&&"get"in b&&null!==(f=b.get(c,a))?f:c[a]},propHooks:{tabIndex:{get:function(c){var a=p.find.attr(c,"tabindex");return a?parseInt(a,10):Vb.test(c.nodeName)||Wb.test(c.nodeName)&&c.href?0:-1}}}});A.hrefNormalized||p.each(["href","src"],function(c,a){p.propHooks[a]={get:function(c){return c.getAttribute(a,4)}}});A.optSelected||
(p.propHooks.selected={get:function(c){c=c.parentNode;return c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex),null}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});A.enctype||(p.propFix.enctype="encoding");var rb=/[\t\r\n\f]/g;p.fn.extend({addClass:function(c){var a,h,f,b,d,e=0,u=this.length;a="string"==typeof c&&c;if(p.isFunction(c))return this.each(function(a){p(this).addClass(c.call(this,
a,this.className))});if(a)for(a=(c||"").match(ka)||[];u>e;e++)if(h=this[e],f=1===h.nodeType&&(h.className?(" "+h.className+" ").replace(rb," "):" ")){for(d=0;b=a[d++];)0>f.indexOf(" "+b+" ")&&(f+=b+" ");f=p.trim(f);h.className!==f&&(h.className=f)}return this},removeClass:function(c){var a,h,f,b,d,e=0,u=this.length;a=0===arguments.length||"string"==typeof c&&c;if(p.isFunction(c))return this.each(function(a){p(this).removeClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(ka)||[];u>e;e++)if(h=
this[e],f=1===h.nodeType&&(h.className?(" "+h.className+" ").replace(rb," "):"")){for(d=0;b=a[d++];)for(;0<=f.indexOf(" "+b+" ");)f=f.replace(" "+b+" "," ");f=c?p.trim(f):"";h.className!==f&&(h.className=f)}return this},toggleClass:function(c,a){var h=typeof c;return"boolean"==typeof a&&"string"===h?a?this.addClass(c):this.removeClass(c):this.each(p.isFunction(c)?function(h){p(this).toggleClass(c.call(this,h,this.className,a),a)}:function(){if("string"===h)for(var a,f=0,b=p(this),d=c.match(ka)||[];a=
d[f++];)b.hasClass(a)?b.removeClass(a):b.addClass(a);else("undefined"===h||"boolean"===h)&&(this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===c?"":p._data(this,"__className__")||"")})},hasClass:function(c){c=" "+c+" ";for(var a=0,h=this.length;h>a;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(rb," ").indexOf(c))return!0;return!1}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(c,a){p.fn[a]=function(c,h){return 0<arguments.length?this.on(a,null,c,h):this.trigger(a)}});p.fn.extend({hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)},bind:function(c,a,h){return this.on(c,null,a,h)},unbind:function(c,a){return this.off(c,null,a)},delegate:function(c,a,h,f){return this.on(a,c,h,f)},undelegate:function(c,a,h){return 1===arguments.length?this.off(c,"**"):this.off(a,c||"**",h)}});var sb=p.now(),tb=/\?/,Xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
p.parseJSON=function(c){if(d.JSON&&d.JSON.parse)return d.JSON.parse(c+"");var a,h=null,f=p.trim(c+"");return f&&!p.trim(f.replace(Xb,function(c,f,b,d){return a&&f&&(h=0),0===h?c:(a=b||f,h+=!d-!b,"")}))?Function("return "+f)():p.error("Invalid JSON: "+c)};p.parseXML=function(c){var a,h;if(!c||"string"!=typeof c)return null;try{d.DOMParser?(h=new DOMParser,a=h.parseFromString(c,"text/xml")):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(c))}catch(f){a=void 0}return a&&a.documentElement&&
!a.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+c),a};var Ja,Ca,Yb=/#.*$/,Bb=/([?&])_=[^&]*/,Zb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$b=/^(?:GET|HEAD)$/,ac=/^\/\//,Cb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Db={},kb={},Eb="*/".concat("*");try{Ca=location.href}catch(hc){Ca=D.createElement("a"),Ca.href="",Ca=Ca.href}Ja=Cb.exec(Ca.toLowerCase())||[];p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ca,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ja[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Eb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?fa(fa(c,
p.ajaxSettings),a):fa(p.ajaxSettings,c)},ajaxPrefilter:Q(Db),ajaxTransport:Q(kb),ajax:function(c,a){function h(c,a,f,b){var k,v,H,y,w=a;if(2!==q){q=2;u&&clearTimeout(u);x=void 0;e=b||"";O.readyState=0<c?4:0;b=200<=c&&300>c||304===c;if(f){H=l;for(var z=O,K,n,R,S,ea=H.contents,G=H.dataTypes;"*"===G[0];)G.shift(),void 0===n&&(n=H.mimeType||z.getResponseHeader("Content-Type"));if(n)for(S in ea)if(ea[S]&&ea[S].test(n)){G.unshift(S);break}if(G[0]in f)R=G[0];else{for(S in f){if(!G[0]||H.converters[S+" "+
G[0]]){R=S;break}K||(K=S)}R=R||K}H=R?(R!==G[0]&&G.unshift(R),f[R]):void 0}var X;a:{f=l;K=H;n=O;R=b;var C,J,t;H={};z=f.dataTypes.slice();if(z[1])for(C in f.converters)H[C.toLowerCase()]=f.converters[C];for(S=z.shift();S;)if(f.responseFields[S]&&(n[f.responseFields[S]]=K),!t&&R&&f.dataFilter&&(K=f.dataFilter(K,f.dataType)),t=S,S=z.shift())if("*"===S)S=t;else if("*"!==t&&t!==S){if(C=H[t+" "+S]||H["* "+S],!C)for(X in H)if(J=X.split(" "),J[1]===S&&(C=H[t+" "+J[0]]||H["* "+J[0]])){!0===C?C=H[X]:!0!==H[X]&&
(S=J[0],z.unshift(J[1]));break}if(!0!==C)if(C&&f["throws"])K=C(K);else try{K=C(K)}catch(qa){X={state:"parsererror",error:C?qa:"No conversion from "+t+" to "+S};break a}}X={state:"success",data:K}}H=X;b?(l.ifModified&&(y=O.getResponseHeader("Last-Modified"),y&&(p.lastModified[d]=y),y=O.getResponseHeader("etag"),y&&(p.etag[d]=y)),204===c||"HEAD"===l.type?w="nocontent":304===c?w="notmodified":(w=H.state,k=H.data,v=H.error,b=!v)):(v=w,(c||!w)&&(w="error",0>c&&(c=0)));O.status=c;O.statusText=(a||w)+"";
b?r.resolveWith(B,[k,w,O]):r.rejectWith(B,[O,w,v]);O.statusCode(F);F=void 0;g&&m.trigger(b?"ajaxSuccess":"ajaxError",[O,l,b?k:v]);V.fireWith(B,[O,w]);g&&(m.trigger("ajaxComplete",[O,l]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof c&&(a=c,c=void 0);a=a||{};var f,b,d,e,u,g,x,k,l=p.ajaxSetup({},a),B=l.context||l,m=l.context&&(B.nodeType||B.jquery)?p(B):p.event,r=p.Deferred(),V=p.Callbacks("once memory"),F=l.statusCode||{},v={},H={},q=0,y="canceled",O={readyState:0,getResponseHeader:function(c){var a;
if(2===q){if(!k)for(k={};a=Zb.exec(e);)k[a[1].toLowerCase()]=a[2];a=k[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===q?e:null},setRequestHeader:function(c,a){var h=c.toLowerCase();return q||(c=H[h]=H[h]||c,v[c]=a),this},overrideMimeType:function(c){return q||(l.mimeType=c),this},statusCode:function(c){var a;if(c)if(2>q)for(a in c)F[a]=[F[a],c[a]];else O.always(c[O.status]);return this},abort:function(c){c=c||y;return x&&x.abort(c),h(0,c),this}};if(r.promise(O).complete=
V.add,O.success=O.done,O.error=O.fail,l.url=((c||l.url||Ca)+"").replace(Yb,"").replace(ac,Ja[1]+"//"),l.type=a.method||a.type||l.method||l.type,l.dataTypes=p.trim(l.dataType||"*").toLowerCase().match(ka)||[""],null==l.crossDomain&&(f=Cb.exec(l.url.toLowerCase()),l.crossDomain=!(!f||f[1]===Ja[1]&&f[2]===Ja[2]&&(f[3]||("http:"===f[1]?"80":"443"))===(Ja[3]||("http:"===Ja[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=p.param(l.data,l.traditional)),L(Db,l,a,O),2===q)return O;
(g=p.event&&l.global)&&0===p.active++&&p.event.trigger("ajaxStart");l.type=l.type.toUpperCase();l.hasContent=!$b.test(l.type);d=l.url;l.hasContent||(l.data&&(d=l.url+=(tb.test(d)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Bb.test(d)?d.replace(Bb,"$1_="+sb++):d+(tb.test(d)?"&":"?")+"_="+sb++));l.ifModified&&(p.lastModified[d]&&O.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&O.setRequestHeader("If-None-Match",p.etag[d]));(l.data&&l.hasContent&&!1!==l.contentType||a.contentType)&&
O.setRequestHeader("Content-Type",l.contentType);O.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Eb+"; q=0.01":""):l.accepts["*"]);for(b in l.headers)O.setRequestHeader(b,l.headers[b]);if(l.beforeSend&&(!1===l.beforeSend.call(B,O,l)||2===q))return O.abort();y="abort";for(b in{success:1,error:1,complete:1})O[b](l[b]);if(x=L(kb,l,a,O)){O.readyState=1;g&&m.trigger("ajaxSend",[O,l]);l.async&&0<l.timeout&&(u=setTimeout(function(){O.abort("timeout")},
l.timeout));try{q=1,x.send(v,h)}catch(w){if(!(2>q))throw w;h(-1,w)}}else h(-1,"No Transport");return O},getJSON:function(c,a,h){return p.get(c,a,h,"json")},getScript:function(c,a){return p.get(c,void 0,a,"script")}});p.each(["get","post"],function(c,a){p[a]=function(c,h,f,b){return p.isFunction(h)&&(b=b||f,f=h,h=void 0),p.ajax({url:c,type:a,dataType:b,data:h,success:f})}});p._evalUrl=function(c){return p.ajax({url:c,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};p.fn.extend({wrapAll:function(c){if(p.isFunction(c))return this.each(function(a){p(this).wrapAll(c.call(this,
a))});if(this[0]){var a=p(c,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var c=this;c.firstChild&&1===c.firstChild.nodeType;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(c){return this.each(p.isFunction(c)?function(a){p(this).wrapInner(c.call(this,a))}:function(){var a=p(this),h=a.contents();h.length?h.wrapAll(c):a.append(c)})},wrap:function(c){var a=p.isFunction(c);return this.each(function(h){p(this).wrapAll(a?
c.call(this,h):c)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}});p.expr.filters.hidden=function(c){return 0>=c.offsetWidth&&0>=c.offsetHeight||!A.reliableHiddenOffsets()&&"none"===(c.style&&c.style.display||p.css(c,"display"))};p.expr.filters.visible=function(c){return!p.expr.filters.hidden(c)};var bc=/%20/g,Mb=/\[\]$/,Fb=/\r?\n/g,cc=/^(?:submit|button|image|reset|file)$/i,dc=/^(?:input|select|textarea|keygen)/i;p.param=
function(c,a){var h,f=[],b=function(c,a){a=p.isFunction(a)?a():null==a?"":a;f[f.length]=encodeURIComponent(c)+"="+encodeURIComponent(a)};if(void 0===a&&(a=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(c)||c.jquery&&!p.isPlainObject(c))p.each(c,function(){b(this.name,this.value)});else for(h in c)aa(h,c[h],a,b);return f.join("&").replace(bc,"+")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=p.prop(this,"elements");
return c?p.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!p(this).is(":disabled")&&dc.test(this.nodeName)&&!cc.test(c)&&(this.checked||!Da.test(c))}).map(function(c,a){var h=p(this).val();return null==h?null:p.isArray(h)?p.map(h,function(c){return{name:a.name,value:c.replace(Fb,"\r\n")}}):{name:a.name,value:h.replace(Fb,"\r\n")}}).get()}});p.ajaxSettings.xhr=void 0!==d.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&
ha()))a:{try{c=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(a){}c=void 0}return c}:ha;var ec=0,ib={},jb=p.ajaxSettings.xhr();d.attachEvent&&d.attachEvent("onunload",function(){for(var c in ib)ib[c](void 0,!0)});A.cors=!!jb&&"withCredentials"in jb;(jb=A.ajax=!!jb)&&p.ajaxTransport(function(c){if(!c.crossDomain||A.cors){var a;return{send:function(h,f){var b,d=c.xhr(),e=++ec;if(d.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(b in c.xhrFields)d[b]=c.xhrFields[b];c.mimeType&&
d.overrideMimeType&&d.overrideMimeType(c.mimeType);c.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");for(b in h)void 0!==h[b]&&d.setRequestHeader(b,h[b]+"");d.send(c.hasContent&&c.data||null);a=function(h,b){var u,g,x;if(a&&(b||4===d.readyState))if(delete ib[e],a=void 0,d.onreadystatechange=p.noop,b)4!==d.readyState&&d.abort();else{x={};u=d.status;"string"==typeof d.responseText&&(x.text=d.responseText);try{g=d.statusText}catch(k){g=""}u||!c.isLocal||c.crossDomain?1223===
u&&(u=204):u=x.text?200:404}x&&f(u,g,x,d.getAllResponseHeaders())};c.async?4===d.readyState?setTimeout(a):d.onreadystatechange=ib[e]=a:a()},abort:function(){a&&a(void 0,!0)}}}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(c){return p.globalEval(c),c}}});p.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET",
c.global=!1)});p.ajaxTransport("script",function(c){if(c.crossDomain){var a,h=D.head||p("head")[0]||D.documentElement;return{send:function(f,b){a=D.createElement("script");a.async=!0;c.scriptCharset&&(a.charset=c.scriptCharset);a.src=c.url;a.onload=a.onreadystatechange=function(c,h){(h||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,h||b(200,"success"))};h.insertBefore(a,h.firstChild)},abort:function(){a&&
a.onload(void 0,!0)}}}});var Gb=[],ub=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Gb.pop()||p.expando+"_"+sb++;return this[c]=!0,c}});p.ajaxPrefilter("json jsonp",function(c,a,h){var f,b,e,u=!1!==c.jsonp&&(ub.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&ub.test(c.data)&&"data");return u||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,u?
c[u]=c[u].replace(ub,"$1"+f):!1!==c.jsonp&&(c.url+=(tb.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return e||p.error(f+" was not called"),e[0]},c.dataTypes[0]="json",b=d[f],d[f]=function(){e=arguments},h.always(function(){d[f]=b;c[f]&&(c.jsonpCallback=a.jsonpCallback,Gb.push(f));e&&p.isFunction(b)&&b(e[0]);e=b=void 0}),"script"):void 0});p.parseHTML=function(c,a,h){if(!c||"string"!=typeof c)return null;"boolean"==typeof a&&(h=a,a=!1);a=a||D;var f=Ga.exec(c);h=!h&&[];
return f?[a.createElement(f[1])]:(f=p.buildFragment([c],a,h),h&&h.length&&p(h).remove(),p.merge([],f.childNodes))};var Hb=p.fn.load;p.fn.load=function(c,a,h){if("string"!=typeof c&&Hb)return Hb.apply(this,arguments);var f,b,d,e=this,u=c.indexOf(" ");return 0<=u&&(f=p.trim(c.slice(u,c.length)),c=c.slice(0,u)),p.isFunction(a)?(h=a,a=void 0):a&&"object"==typeof a&&(d="POST"),0<e.length&&p.ajax({url:c,type:d,dataType:"html",data:a}).done(function(c){b=arguments;e.html(f?p("<div>").append(p.parseHTML(c)).find(f):
c)}).complete(h&&function(c,a){e.each(h,b||[c.responseText,a,c])}),this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){p.fn[a]=function(c){return this.on(a,c)}});p.expr.filters.animated=function(c){return p.grep(p.timers,function(a){return c===a.elem}).length};var Ib=d.document.documentElement;p.offset={setOffset:function(c,a,h){var f,b,d,e,u,g,x=p.css(c,"position"),k=p(c),l={};"static"===x&&(c.style.position="relative");u=k.offset();d=p.css(c,"top");
g=p.css(c,"left");("absolute"===x||"fixed"===x)&&-1<p.inArray("auto",[d,g])?(f=k.position(),e=f.top,b=f.left):(e=parseFloat(d)||0,b=parseFloat(g)||0);p.isFunction(a)&&(a=a.call(c,h,u));null!=a.top&&(l.top=a.top-u.top+e);null!=a.left&&(l.left=a.left-u.left+b);"using"in a?a.using.call(c,l):k.css(l)}};p.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(a){p.offset.setOffset(this,c,a)});var a,h,f={top:0,left:0},b=this[0],d=b&&b.ownerDocument;if(d)return a=d.documentElement,
p.contains(a,b)?("undefined"!==typeof b.getBoundingClientRect&&(f=b.getBoundingClientRect()),h=ga(d),{top:f.top+(h.pageYOffset||a.scrollTop)-(a.clientTop||0),left:f.left+(h.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}):f},position:function(){if(this[0]){var c,a,h={top:0,left:0},f=this[0];return"fixed"===p.css(f,"position")?a=f.getBoundingClientRect():(c=this.offsetParent(),a=this.offset(),p.nodeName(c[0],"html")||(h=c.offset()),h.top+=p.css(c[0],"borderTopWidth",!0),h.left+=p.css(c[0],"borderLeftWidth",
!0)),{top:a.top-h.top-p.css(f,"marginTop",!0),left:a.left-h.left-p.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||Ib;c&&!p.nodeName(c,"html")&&"static"===p.css(c,"position");)c=c.offsetParent;return c||Ib})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,a){var h=/Y/.test(a);p.fn[c]=function(f){return pa(this,function(c,f,b){var d=ga(c);return void 0===b?d?a in d?d[a]:d.document.documentElement[f]:c[f]:void(d?d.scrollTo(h?
p(d).scrollLeft():b,h?b:p(d).scrollTop()):c[f]=b)},c,f,arguments.length,null)}});p.each(["top","left"],function(c,a){p.cssHooks[a]=K(A.pixelPosition,function(c,h){return h?(h=va(c,a),La.test(h)?p(c).position()[a]+"px":h):void 0})});p.each({Height:"height",Width:"width"},function(c,a){p.each({padding:"inner"+c,content:a,"":"outer"+c},function(h,f){p.fn[f]=function(f,b){var d=arguments.length&&(h||"boolean"!=typeof f),e=h||(!0===f||!0===b?"margin":"border");return pa(this,function(a,h,f){var b;return p.isWindow(a)?
a.document.documentElement["client"+c]:9===a.nodeType?(b=a.documentElement,Math.max(a.body["scroll"+c],b["scroll"+c],a.body["offset"+c],b["offset"+c],b["client"+c])):void 0===f?p.css(a,h,e):p.style(a,h,f,e)},a,d?f:void 0,d,null)}})});p.fn.size=function(){return this.length};p.fn.andSelf=p.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var fc=d.jQuery,gc=d.$;return p.noConflict=function(c){return d.$===p&&(d.$=gc),c&&d.jQuery===p&&(d.jQuery=fc),p},"undefined"===
typeof t&&(d.jQuery=d.$=p),p});if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(d){d=d.fn.jquery.split(" ")[0].split(".");if(2>d[0]&&9>d[1]||1==d[0]&&9==d[1]&&1>d[2])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery);
+function(d){function t(){var d=document.createElement("bootstrap"),q={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in q)if(void 0!==d.style[e])return{end:q[e]};return!1}d.fn.emulateTransitionEnd=function(n){var q=!1,e=this;d(this).one("bsTransitionEnd",function(){q=!0});return setTimeout(function(){q||d(e).trigger(d.support.transition.end)},n),this};d(function(){d.support.transition=t();d.support.transition&&
(d.event.special.bsTransitionEnd={bindType:d.support.transition.end,delegateType:d.support.transition.end,handle:function(n){return d(n.target).is(this)?n.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);
+function(d){var t=function(q){d(q).on("click",'[data-dismiss="alert"]',this.close)};t.VERSION="3.3.2";t.TRANSITION_DURATION=150;t.prototype.close=function(q){function e(){b.detach().trigger("closed.bs.alert").remove()}var w=d(this),a=w.attr("data-target");a||(a=w.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var b=d(a);q&&q.preventDefault();b.length||(b=w.closest(".alert"));b.trigger(q=d.Event("close.bs.alert"));q.isDefaultPrevented()||(b.removeClass("in"),d.support.transition&&b.hasClass("fade")?
b.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};var n=d.fn.alert;d.fn.alert=function(q){return this.each(function(){var e=d(this),w=e.data("bs.alert");w||e.data("bs.alert",w=new t(this));"string"==typeof q&&w[q].call(e)})};d.fn.alert.Constructor=t;d.fn.alert.noConflict=function(){return d.fn.alert=n,this};d(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',t.prototype.close)}(jQuery);
+function(d){function t(e){return this.each(function(){var q=d(this),a=q.data("bs.button"),b="object"==typeof e&&e;a||q.data("bs.button",a=new n(this,b));"toggle"==e?a.toggle():e&&a.setState(e)})}var n=function(e,q){this.$element=d(e);this.options=d.extend({},n.DEFAULTS,q);this.isLoading=!1};n.VERSION="3.3.2";n.DEFAULTS={loadingText:"loading..."};n.prototype.setState=function(e){var q=this.$element,a=q.is("input")?"val":"html",b=q.data();e+="Text";null==b.resetText&&q.data("resetText",q[a]());setTimeout(d.proxy(function(){q[a](null==
b[e]?this.options[e]:b[e]);"loadingText"==e?(this.isLoading=!0,q.addClass("disabled").attr("disabled","disabled")):this.isLoading&&(this.isLoading=!1,q.removeClass("disabled").removeAttr("disabled"))},this),0)};n.prototype.toggle=function(){var d=!0,q=this.$element.closest('[data-toggle="buttons"]');if(q.length){var a=this.$element.find("input");"radio"==a.prop("type")&&(a.prop("checked")&&this.$element.hasClass("active")?d=!1:q.find(".active").removeClass("active"));d&&a.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",
!this.$element.hasClass("active"));d&&this.$element.toggleClass("active")};var q=d.fn.button;d.fn.button=t;d.fn.button.Constructor=n;d.fn.button.noConflict=function(){return d.fn.button=q,this};d(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var q=d(e.target);q.hasClass("btn")||(q=q.closest(".btn"));t.call(q,"toggle");e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){d(e.target).closest(".btn").toggleClass("focus",
/^focus(in)?$/.test(e.type))})}(jQuery);
+function(d){function t(e){return this.each(function(){var a=d(this),b=a.data("bs.carousel"),g=d.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e),k="string"==typeof e?e:g.slide;b||a.data("bs.carousel",b=new n(this,g));"number"==typeof e?b.to(e):k?b[k]():g.interval&&b.pause().cycle()})}var n=function(e,a){this.$element=d(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=a;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",
d.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};n.VERSION="3.3.2";n.TRANSITION_DURATION=600;n.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};n.prototype.keydown=function(d){if(!/input|textarea/i.test(d.target.tagName)){switch(d.which){case 37:this.prev();break;case 39:this.next();break;default:return}d.preventDefault()}};
n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this};n.prototype.getItemIndex=function(d){return this.$items=d.parent().children(".item"),this.$items.index(d||this.$active)};n.prototype.getItemForDirection=function(d,a){var b=this.getItemIndex(a);return("prev"==d&&0===b||"next"==d&&b==this.$items.length-1)&&!this.options.wrap?a:this.$items.eq((b+
("prev"==d?-1:1))%this.$items.length)};n.prototype.to=function(d){var a=this,b=this.getItemIndex(this.$active=this.$element.find(".item.active"));return d>this.$items.length-1||0>d?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){a.to(d)}):b==d?this.pause().cycle():this.slide(d>b?"next":"prev",this.$items.eq(d))};n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),
this.cycle(!0)),this.interval=clearInterval(this.interval),this};n.prototype.next=function(){return this.sliding?void 0:this.slide("next")};n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};n.prototype.slide=function(e,a){var b=this.$element.find(".item.active"),g=a||this.getItemForDirection(e,b),k=this.interval,l="next"==e?"left":"right",m=this;if(g.hasClass("active"))return this.sliding=!1;var r=g[0],q=d.Event("slide.bs.carousel",{relatedTarget:r,direction:l});if(this.$element.trigger(q),
!q.isDefaultPrevented()){if(this.sliding=!0,k&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(q=d(this.$indicators.children()[this.getItemIndex(g)]))&&q.addClass("active");var z=d.Event("slid.bs.carousel",{relatedTarget:r,direction:l});return d.support.transition&&this.$element.hasClass("slide")?(g.addClass(e),g[0].offsetWidth,b.addClass(l),g.addClass(l),b.one("bsTransitionEnd",function(){g.removeClass([e,l].join(" ")).addClass("active");b.removeClass(["active",
l].join(" "));m.sliding=!1;setTimeout(function(){m.$element.trigger(z)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(b.removeClass("active"),g.addClass("active"),this.sliding=!1,this.$element.trigger(z)),k&&this.cycle(),this}};var q=d.fn.carousel;d.fn.carousel=t;d.fn.carousel.Constructor=n;d.fn.carousel.noConflict=function(){return d.fn.carousel=q,this};var e=function(e){var a,b=d(this),g=d(b.attr("data-target")||(a=b.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));g.hasClass("carousel")&&(a=
d.extend({},g.data(),b.data()),(b=b.attr("data-slide-to"))&&(a.interval=!1),t.call(g,a),b&&g.data("bs.carousel").to(b),e.preventDefault())};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e);d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var e=d(this);t.call(e,e.data())})})}(jQuery);
+function(d){function t(e){var a;e=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return d(e)}function n(e){return this.each(function(){var a=d(this),b=a.data("bs.collapse"),g=d.extend({},q.DEFAULTS,a.data(),"object"==typeof e&&e);!b&&g.toggle&&"show"==e&&(g.toggle=!1);b||a.data("bs.collapse",b=new q(this,g));"string"==typeof e&&b[e]()})}var q=function(e,a){this.$element=d(e);this.options=d.extend({},q.DEFAULTS,a);this.$trigger=d(this.options.trigger).filter('[href="#'+
e.id+'"], [data-target="#'+e.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};q.VERSION="3.3.2";q.TRANSITION_DURATION=350;q.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'};q.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};q.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,a=this.$parent&&
this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(e=a.data("bs.collapse"),e&&e.transitioning))){var b=d.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){a&&a.length&&(n.call(a,"hide"),e||a.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g]("");
this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!d.support.transition)return e.call(this);a=d.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",d.proxy(e,this)).emulateTransitionEnd(q.TRANSITION_DURATION)[g](this.$element[0][a])}}}};q.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=d.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight;
this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var a=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return d.support.transition?void this.$element[e](0).one("bsTransitionEnd",d.proxy(a,this)).emulateTransitionEnd(q.TRANSITION_DURATION):a.call(this)}}};q.prototype.toggle=function(){this[this.$element.hasClass("in")?
"hide":"show"]()};q.prototype.getParent=function(){return d(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(d.proxy(function(e,a){var b=d(a);this.addAriaAndCollapsedClass(t(b),b)},this)).end()};q.prototype.addAriaAndCollapsedClass=function(d,a){var b=d.hasClass("in");d.attr("aria-expanded",b);a.toggleClass("collapsed",!b).attr("aria-expanded",b)};var e=d.fn.collapse;d.fn.collapse=n;d.fn.collapse.Constructor=q;d.fn.collapse.noConflict=function(){return d.fn.collapse=
e,this};d(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var a=d(this);a.attr("data-target")||e.preventDefault();e=t(a);a=e.data("bs.collapse")?"toggle":d.extend({},a.data(),{trigger:this});n.call(e,a)})}(jQuery);
+function(d){function t(a){a&&3===a.which||(d(q).remove(),d(e).each(function(){var e=d(this),k=n(e),l={relatedTarget:this};k.hasClass("open")&&(k.trigger(a=d.Event("hide.bs.dropdown",l)),a.isDefaultPrevented()||(e.attr("aria-expanded","false"),k.removeClass("open").trigger("hidden.bs.dropdown",l)))}))}function n(a){var e=a.attr("data-target");e||(e=a.attr("href"),e=e&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));return(e=e&&d(e))&&e.length?e:a.parent()}var q=".dropdown-backdrop",e='[data-toggle="dropdown"]',
w=function(a){d(a).on("click.bs.dropdown",this.toggle)};w.VERSION="3.3.2";w.prototype.toggle=function(a){var e=d(this);if(!e.is(".disabled, :disabled")){var k=n(e),l=k.hasClass("open");if(t(),!l){"ontouchstart"in document.documentElement&&!k.closest(".navbar-nav").length&&d('<div class="dropdown-backdrop"/>').insertAfter(d(this)).on("click",t);l={relatedTarget:this};if(k.trigger(a=d.Event("show.bs.dropdown",l)),a.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true");k.toggleClass("open").trigger("shown.bs.dropdown",
l)}return!1}};w.prototype.keydown=function(a){if(/(38|40|27|32)/.test(a.which)&&!/input|textarea/i.test(a.target.tagName)){var g=d(this);if(a.preventDefault(),a.stopPropagation(),!g.is(".disabled, :disabled")){var k=n(g),l=k.hasClass("open");if(!l&&27!=a.which||l&&27==a.which)return 27==a.which&&k.find(e).trigger("focus"),g.trigger("click");g=k.find('[role="menu"] li:not(.divider):visible a, [role="listbox"] li:not(.divider):visible a');g.length&&(k=g.index(a.target),38==a.which&&0<k&&k--,40==a.which&&
k<g.length-1&&k++,~k||(k=0),g.eq(k).trigger("focus"))}}};var a=d.fn.dropdown;d.fn.dropdown=function(a){return this.each(function(){var e=d(this),k=e.data("bs.dropdown");k||e.data("bs.dropdown",k=new w(this));"string"==typeof a&&k[a].call(e)})};d.fn.dropdown.Constructor=w;d.fn.dropdown.noConflict=function(){return d.fn.dropdown=a,this};d(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,
w.prototype.toggle).on("keydown.bs.dropdown.data-api",e,w.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',w.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',w.prototype.keydown)}(jQuery);
+function(d){function t(e,q){return this.each(function(){var a=d(this),b=a.data("bs.modal"),g=d.extend({},n.DEFAULTS,a.data(),"object"==typeof e&&e);b||a.data("bs.modal",b=new n(this,g));"string"==typeof e?b[e](q):g.show&&b.show(q)})}var n=function(e,q){this.options=q;this.$body=d(document.body);this.$element=d(e);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,d.proxy(function(){this.$element.trigger("loaded.bs.modal")},
this))};n.VERSION="3.3.2";n.TRANSITION_DURATION=300;n.BACKDROP_TRANSITION_DURATION=150;n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};n.prototype.toggle=function(d){return this.isShown?this.hide():this.show(d)};n.prototype.show=function(e){var q=this,a=d.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a);this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",
'[data-dismiss="modal"]',d.proxy(this.hide,this)),this.backdrop(function(){var a=d.support.transition&&q.$element.hasClass("fade");q.$element.parent().length||q.$element.appendTo(q.$body);q.$element.show().scrollTop(0);q.options.backdrop&&q.adjustBackdrop();q.adjustDialog();a&&q.$element[0].offsetWidth;q.$element.addClass("in").attr("aria-hidden",!1);q.enforceFocus();var g=d.Event("shown.bs.modal",{relatedTarget:e});a?q.$element.find(".modal-dialog").one("bsTransitionEnd",function(){q.$element.trigger("focus").trigger(g)}).emulateTransitionEnd(n.TRANSITION_DURATION):
q.$element.trigger("focus").trigger(g)}))};n.prototype.hide=function(e){e&&e.preventDefault();e=d.Event("hide.bs.modal");this.$element.trigger(e);this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),d(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),d.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",d.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):
this.hideModal())};n.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",d.proxy(function(d){this.$element[0]===d.target||this.$element.has(d.target).length||this.$element.trigger("focus")},this))};n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",d.proxy(function(d){27==d.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};n.prototype.resize=function(){this.isShown?
d(window).on("resize.bs.modal",d.proxy(this.handleUpdate,this)):d(window).off("resize.bs.modal")};n.prototype.hideModal=function(){var d=this;this.$element.hide();this.backdrop(function(){d.$body.removeClass("modal-open");d.resetAdjustments();d.resetScrollbar();d.$element.trigger("hidden.bs.modal")})};n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};n.prototype.backdrop=function(e){var q=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var b=d.support.transition&&a;if(this.$backdrop=d('<div class="modal-backdrop '+a+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",d.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),b&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e)b?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else!this.isShown&&
this.$backdrop?(this.$backdrop.removeClass("in"),a=function(){q.removeBackdrop();e&&e()},d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()):e&&e()};n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop();this.adjustDialog()};n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)};n.prototype.adjustDialog=function(){var d=
this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&d?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!d?this.scrollbarWidth:""})};n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight;this.scrollbarWidth=this.measureScrollbar()};n.prototype.setScrollbar=
function(){var d=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",d+this.scrollbarWidth)};n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};n.prototype.measureScrollbar=function(){var d=document.createElement("div");d.className="modal-scrollbar-measure";this.$body.append(d);var q=d.offsetWidth-d.clientWidth;return this.$body[0].removeChild(d),q};var q=d.fn.modal;d.fn.modal=t;d.fn.modal.Constructor=n;d.fn.modal.noConflict=
function(){return d.fn.modal=q,this};d(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var q=d(this),a=q.attr("href"),b=d(q.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),a=b.data("bs.modal")?"toggle":d.extend({remote:!/#/.test(a)&&a},b.data(),q.data());q.is("a")&&e.preventDefault();b.one("show.bs.modal",function(a){a.isDefaultPrevented()||b.one("hidden.bs.modal",function(){q.is(":visible")&&q.trigger("focus")})});t.call(b,a,this)})}(jQuery);
+function(d){var t=function(d,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",d,e)};t.VERSION="3.3.2";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(q,e,n){this.enabled=
!0;this.type=q;this.$element=d(e);this.options=this.getOptions(n);this.$viewport=this.options.viewport&&d(this.options.viewport.selector||this.options.viewport);q=this.options.trigger.split(" ");for(e=q.length;e--;)if(n=q[e],"click"==n)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else if("manual"!=n){var a="hover"==n?"mouseleave":"focusout";this.$element.on(("hover"==n?"mouseenter":"focusin")+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(a+
"."+this.type,this.options.selector,d.proxy(this.leave,this))}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(q){return q=d.extend({},this.getDefaults(),this.$element.data(),q),q.delay&&"number"==typeof q.delay&&(q.delay={show:q.delay,hide:q.delay}),q};t.prototype.getDelegateOptions=function(){var q={},e=this.getDefaults();return this._options&&d.each(this._options,
function(d,a){e[d]!=a&&(q[d]=a)}),q};t.prototype.enter=function(q){var e=q instanceof this.constructor?q:d(q.currentTarget).data("bs."+this.type);return e&&e.$tip&&e.$tip.is(":visible")?void(e.hoverState="in"):(e||(e=new this.constructor(q.currentTarget,this.getDelegateOptions()),d(q.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())};
t.prototype.leave=function(q){var e=q instanceof this.constructor?q:d(q.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(q.currentTarget,this.getDelegateOptions()),d(q.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()};t.prototype.show=function(){var q=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(q);
var e=d.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!q.isDefaultPrevented()&&e){var n=this,q=this.tip(),e=this.getUID(this.type);this.setContent();q.attr("id",e);this.$element.attr("aria-describedby",e);this.options.animation&&q.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,q[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,b=a.test(e);b&&(e=e.replace(a,"")||"top");q.detach().css({top:0,left:0,display:"block"}).addClass(e).data("bs."+
this.type,this);this.options.container?q.appendTo(this.options.container):q.insertAfter(this.$element);var a=this.getPosition(),g=q[0].offsetWidth,k=q[0].offsetHeight;if(b){var b=e,l=this.options.container?d(this.options.container):this.$element.parent(),l=this.getPosition(l),e="bottom"==e&&a.bottom+k>l.bottom?"top":"top"==e&&a.top-k<l.top?"bottom":"right"==e&&a.right+g>l.width?"left":"left"==e&&a.left-g<l.left?"right":e;q.removeClass(b).addClass(e)}a=this.getCalculatedOffset(e,a,g,k);this.applyPlacement(a,
e);e=function(){var a=n.hoverState;n.$element.trigger("shown.bs."+n.type);n.hoverState=null;"out"==a&&n.leave(n)};d.support.transition&&this.$tip.hasClass("fade")?q.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e()}}};t.prototype.applyPlacement=function(q,e){var n=this.tip(),a=n[0].offsetWidth,b=n[0].offsetHeight,g=parseInt(n.css("margin-top"),10),k=parseInt(n.css("margin-left"),10);isNaN(g)&&(g=0);isNaN(k)&&(k=0);q.top+=g;q.left+=k;d.offset.setOffset(n[0],d.extend({using:function(a){n.css({top:Math.round(a.top),
left:Math.round(a.left)})}},q),0);n.addClass("in");var k=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=b&&(q.top=q.top+b-l);var m=this.getViewportAdjustedDelta(e,q,k,l);m.left?q.left+=m.left:q.top+=m.top;a=(g=/top|bottom/.test(e))?2*m.left-a+k:2*m.top-b+l;b=g?"offsetWidth":"offsetHeight";n.offset(q);this.replaceArrow(a,n[0][b],g)};t.prototype.replaceArrow=function(d,e,n){this.arrow().css(n?"left":"top",50*(1-d/e)+"%").css(n?"top":"left","")};t.prototype.setContent=function(){var d=this.tip(),
e=this.getTitle();d.find(".tooltip-inner")[this.options.html?"html":"text"](e);d.removeClass("fade in top bottom left right")};t.prototype.hide=function(q){function e(){"in"!=n.hoverState&&a.detach();n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type);q&&q()}var n=this,a=this.tip(),b=d.Event("hide.bs."+this.type);return this.$element.trigger(b),b.isDefaultPrevented()?void 0:(a.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):
e(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var d=this.$element;(d.attr("title")||"string"!=typeof d.attr("data-original-title"))&&d.attr("data-original-title",d.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(q){q=q||this.$element;var e=q[0],n="BODY"==e.tagName,e=e.getBoundingClientRect();null==e.width&&(e=d.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var a=n?{top:0,left:0}:q.offset();
q={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:q.scrollTop()};n=n?{width:d(window).width(),height:d(window).height()}:null;return d.extend({},e,q,n,a)};t.prototype.getCalculatedOffset=function(d,e,n,a){return"bottom"==d?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==d?{top:e.top-a,left:e.left+e.width/2-n/2}:"left"==d?{top:e.top+e.height/2-a/2,left:e.left-n}:{top:e.top+e.height/2-a/2,left:e.left+e.width}};t.prototype.getViewportAdjustedDelta=function(d,e,n,a){var b=
{top:0,left:0};if(!this.$viewport)return b;var g=this.options.viewport&&this.options.viewport.padding||0,k=this.getPosition(this.$viewport);/right|left/.test(d)?(n=e.top-g-k.scroll,e=e.top+g-k.scroll+a,n<k.top?b.top=k.top-n:e>k.top+k.height&&(b.top=k.top+k.height-e)):(a=e.left-g,e=e.left+g+n,a<k.left?b.left=k.left-a:e>k.width&&(b.left=k.left+k.width-e));return b};t.prototype.getTitle=function(){var d=this.$element,e=this.options;return d.attr("data-original-title")||("function"==typeof e.title?e.title.call(d[0]):
e.title)};t.prototype.getUID=function(d){do d+=~~(1E6*Math.random());while(document.getElementById(d));return d};t.prototype.tip=function(){return this.$tip=this.$tip||d(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(q){var e=this;q&&(e=d(q.currentTarget).data("bs."+
this.type),e||(e=new this.constructor(q.currentTarget,this.getDelegateOptions()),d(q.currentTarget).data("bs."+this.type,e)));e.tip().hasClass("in")?e.leave(e):e.enter(e)};t.prototype.destroy=function(){var d=this;clearTimeout(this.timeout);this.hide(function(){d.$element.off("."+d.type).removeData("bs."+d.type)})};var n=d.fn.tooltip;d.fn.tooltip=function(q){return this.each(function(){var e=d(this),n=e.data("bs.tooltip"),a="object"==typeof q&&q;(n||"destroy"!=q)&&(n||e.data("bs.tooltip",n=new t(this,
a)),"string"==typeof q&&n[q]())})};d.fn.tooltip.Constructor=t;d.fn.tooltip.noConflict=function(){return d.fn.tooltip=n,this}}(jQuery);
+function(d){var t=function(d,e){this.init("popover",d,e)};if(!d.fn.tooltip)throw Error("Popover requires tooltip.js");t.VERSION="3.3.2";t.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});t.prototype=d.extend({},d.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};
t.prototype.setContent=function(){var d=this.tip(),e=this.getTitle(),n=this.getContent();d.find(".popover-title")[this.options.html?"html":"text"](e);d.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n);d.removeClass("fade top bottom left right in");d.find(".popover-title").html()||d.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var d=this.$element,
e=this.options;return d.attr("data-content")||("function"==typeof e.content?e.content.call(d[0]):e.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){return this.$tip||(this.$tip=d(this.options.template)),this.$tip};var n=d.fn.popover;d.fn.popover=function(q){return this.each(function(){var e=d(this),n=e.data("bs.popover"),a="object"==typeof q&&q;(n||"destroy"!=q)&&(n||e.data("bs.popover",n=new t(this,a)),"string"==typeof q&&
n[q]())})};d.fn.popover.Constructor=t;d.fn.popover.noConflict=function(){return d.fn.popover=n,this}}(jQuery);
+function(d){function t(e,q){var a=d.proxy(this.process,this);this.$body=d("body");this.$scrollElement=d(d(e).is("body")?window:e);this.options=d.extend({},t.DEFAULTS,q);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",a);this.refresh();this.process()}function n(e){return this.each(function(){var q=d(this),a=q.data("bs.scrollspy"),b="object"==typeof e&&e;a||q.data("bs.scrollspy",
a=new t(this,b));"string"==typeof e&&a[e]()})}t.VERSION="3.3.2";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var e="offset",q=0;d.isWindow(this.$scrollElement[0])||(e="position",q=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=
d(this),a=a.data("target")||a.attr("href"),g=/^#./.test(a)&&d(a);return g&&g.length&&g.is(":visible")&&[[g[e]().top+q,a]]||null}).sort(function(a,d){return a[0]-d[0]}).each(function(){a.offsets.push(this[0]);a.targets.push(this[1])})};t.prototype.process=function(){var d,q=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),b=this.options.offset+a-this.$scrollElement.height(),g=this.offsets,k=this.targets,l=this.activeTarget;if(this.scrollHeight!=a&&this.refresh(),q>=b)return l!=
(d=k[k.length-1])&&this.activate(d);if(l&&q<g[0])return this.activeTarget=null,this.clear();for(d=g.length;d--;)l!=k[d]&&q>=g[d]&&(!g[d+1]||q<=g[d+1])&&this.activate(k[d])};t.prototype.activate=function(e){this.activeTarget=e;this.clear();e=d(this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]').parents("li").addClass("active");e.parent(".dropdown-menu").length&&(e=e.closest("li.dropdown").addClass("active"));e.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){d(this.selector).parentsUntil(this.options.target,
".active").removeClass("active")};var q=d.fn.scrollspy;d.fn.scrollspy=n;d.fn.scrollspy.Constructor=t;d.fn.scrollspy.noConflict=function(){return d.fn.scrollspy=q,this};d(window).on("load.bs.scrollspy.data-api",function(){d('[data-spy="scroll"]').each(function(){var e=d(this);n.call(e,e.data())})})}(jQuery);
+function(d){function t(e){return this.each(function(){var a=d(this),b=a.data("bs.tab");b||a.data("bs.tab",b=new n(this));"string"==typeof e&&b[e]()})}var n=function(e){this.element=d(e)};n.VERSION="3.3.2";n.TRANSITION_DURATION=150;n.prototype.show=function(){var e=this.element,a=e.closest("ul:not(.dropdown-menu)"),b=e.data("target");if(b||(b=e.attr("href"),b=b&&b.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var g=a.find(".active:last a"),k=d.Event("hide.bs.tab",{relatedTarget:e[0]}),
l=d.Event("show.bs.tab",{relatedTarget:g[0]});(g.trigger(k),e.trigger(l),l.isDefaultPrevented()||k.isDefaultPrevented())||(b=d(b),this.activate(e.closest("li"),a),this.activate(b,b.parent(),function(){g.trigger({type:"hidden.bs.tab",relatedTarget:e[0]});e.trigger({type:"shown.bs.tab",relatedTarget:g[0]})}))}};n.prototype.activate=function(e,a,b){function g(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);
e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);l?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade");e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);b&&b()}var k=a.find("> .active"),l=b&&d.support.transition&&(k.length&&k.hasClass("fade")||!!a.find("> .fade").length);k.length&&l?k.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g();k.removeClass("in")};var q=d.fn.tab;
d.fn.tab=t;d.fn.tab.Constructor=n;d.fn.tab.noConflict=function(){return d.fn.tab=q,this};var e=function(e){e.preventDefault();t.call(d(this),"show")};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery);
+function(d){function t(e){return this.each(function(){var q=d(this),a=q.data("bs.affix"),b="object"==typeof e&&e;a||q.data("bs.affix",a=new n(this,b));"string"==typeof e&&a[e]()})}var n=function(e,q){this.options=d.extend({},n.DEFAULTS,q);this.$target=d(this.options.target).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this));this.$element=d(e);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};
n.VERSION="3.3.2";n.RESET="affix affix-top affix-bottom";n.DEFAULTS={offset:0,target:window};n.prototype.getState=function(d,q,a,b){var g=this.$target.scrollTop(),k=this.$element.offset(),l=this.$target.height();if(null!=a&&"top"==this.affixed)return a>g?"top":!1;if("bottom"==this.affixed)return null!=a?g+this.unpin<=k.top?!1:"bottom":d-b>=g+l?!1:"bottom";var m=null==this.affixed,k=m?g:k.top;return null!=a&&a>=g?"top":null!=b&&k+(m?l:q)>=d-b?"bottom":!1};n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(n.RESET).addClass("affix");var d=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-d};n.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)};n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),q=this.options.offset,a=q.top,b=q.bottom,g=d("body").height();"object"!=typeof q&&(b=a=q);"function"==typeof a&&(a=q.top(this.$element));"function"==typeof b&&(b=q.bottom(this.$element));
q=this.getState(g,e,a,b);if(this.affixed!=q){null!=this.unpin&&this.$element.css("top","");var a="affix"+(q?"-"+q:""),k=d.Event(a+".bs.affix");if(this.$element.trigger(k),k.isDefaultPrevented())return;this.affixed=q;this.unpin="bottom"==q?this.getPinnedOffset():null;this.$element.removeClass(n.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==q&&this.$element.offset({top:g-e-b})}};var q=d.fn.affix;d.fn.affix=t;d.fn.affix.Constructor=n;d.fn.affix.noConflict=function(){return d.fn.affix=
q,this};d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var e=d(this),q=e.data();q.offset=q.offset||{};null!=q.offsetBottom&&(q.offset.bottom=q.offsetBottom);null!=q.offsetTop&&(q.offset.top=q.offsetTop);t.call(e,q)})})}(jQuery);(function(d){"function"==typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){function t(c,a){var f,b,e,g=c.nodeName.toLowerCase();return"area"===g?(f=c.parentNode,b=f.name,c.href&&b&&"map"===f.nodeName.toLowerCase()?(e=d("img[usemap='#"+b+"']")[0],!!e&&n(e)):!1):(/^(input|select|textarea|button|object)$/.test(g)?!c.disabled:"a"===g?c.href||a:a)&&n(c)}function n(c){return d.expr.filters.visible(c)&&!d(c).parents().addBack().filter(function(){return"hidden"===d.css(this,"visibility")}).length}
function q(c){for(var a,f;c.length&&c[0]!==document;){if(a=c.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(f=parseInt(c.css("zIndex"),10),!isNaN(f)&&0!==f))return f;c=c.parent()}return 0}function e(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";
this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,
calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,this.regional[""]);this.regional.en=d.extend(!0,{},this.regional[""]);this.regional["en-US"]=d.extend(!0,{},this.regional.en);this.dpDiv=w(d("<div id='"+
this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function w(c){return c.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){d(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",
"mouseover",a)}function a(){d.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))}function b(c,a){d.extend(c,a);for(var f in a)null==a[f]&&(c[f]=a[f]);return c}function g(c){return function(){var a=
this.element.val();c.apply(this,arguments);this._refresh();a!==this.element.val()&&this._trigger("change")}}d.ui=d.ui||{};d.extend(d.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});d.fn.extend({scrollParent:function(c){var a=this.css("position"),f="absolute"===a,b=c?/(auto|scroll|hidden)/:/(auto|scroll)/;c=this.parents().filter(function(){var c=d(this);return f&&"static"===
c.css("position")?!1:b.test(c.css("overflow")+c.css("overflow-y")+c.css("overflow-x"))}).eq(0);return"fixed"!==a&&c.length?c:d(this[0].ownerDocument||document)},uniqueId:function(){var c=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&d(this).removeAttr("id")})}});d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(c){return function(a){return!!d.data(a,
c)}}):function(c,a,f){return!!d.data(c,f[3])},focusable:function(c){return t(c,!isNaN(d.attr(c,"tabindex")))},tabbable:function(c){var a=d.attr(c,"tabindex"),f=isNaN(a);return(f||0<=a)&&t(c,!f)}});d("<a>").outerWidth(1).jquery||d.each(["Width","Height"],function(c,a){function f(c,a,h,f){return d.each(b,function(){a-=parseFloat(d.css(c,"padding"+this))||0;h&&(a-=parseFloat(d.css(c,"border"+this+"Width"))||0);f&&(a-=parseFloat(d.css(c,"margin"+this))||0)}),a}var b="Width"===a?["Left","Right"]:["Top",
"Bottom"],e=a.toLowerCase(),g={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+a]=function(c){return void 0===c?g["inner"+a].call(this):this.each(function(){d(this).css(e,f(this,c)+"px")})};d.fn["outer"+a]=function(c,b){return"number"!=typeof c?g["outer"+a].call(this,c):this.each(function(){d(this).css(e,f(this,c,!0,b)+"px")})}});d.fn.addBack||(d.fn.addBack=function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))});
d("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(d.fn.removeData=function(c){return function(a){return arguments.length?c.call(this,d.camelCase(a)):c.call(this)}}(d.fn.removeData));d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());d.fn.extend({focus:function(c){return function(a,f){return"number"==typeof a?this.each(function(){var c=this;setTimeout(function(){d(c).focus();f&&f.call(c)},a)}):c.apply(this,arguments)}}(d.fn.focus),disableSelection:function(){var c="onselectstart"in
document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(c+".ui-disableSelection",function(c){c.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(c){if(void 0!==c)return this.css("zIndex",c);if(this.length){var a,f;for(c=d(this[0]);c.length&&c[0]!==document;){if(a=c.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(f=parseInt(c.css("zIndex"),10),!isNaN(f)&&0!==f))return f;c=c.parent()}}return 0}});
d.ui.plugin={add:function(c,a,f){var b;c=d.ui[c].prototype;for(b in f)c.plugins[b]=c.plugins[b]||[],c.plugins[b].push([a,f[b]])},call:function(c,a,f,b){if((a=c.plugins[a])&&(b||c.element[0].parentNode&&11!==c.element[0].parentNode.nodeType))for(b=0;a.length>b;b++)c.options[a[b][0]]&&a[b][1].apply(c.element,f)}};var k=0,l=Array.prototype.slice;d.cleanData=function(c){return function(a){var f,b,e;for(e=0;null!=(b=a[e]);e++)try{(f=d._data(b,"events"))&&f.remove&&d(b).triggerHandler("remove")}catch(g){}c(a)}}(d.cleanData);
d.widget=function(c,a,f){var b,e,g,k,l={},m=c.split(".")[0];return c=c.split(".")[1],b=m+"-"+c,f||(f=a,a=d.Widget),d.expr[":"][b.toLowerCase()]=function(c){return!!d.data(c,b)},d[m]=d[m]||{},e=d[m][c],g=d[m][c]=function(c,a){return this._createWidget?(arguments.length&&this._createWidget(c,a),void 0):new g(c,a)},d.extend(g,e,{version:f.version,_proto:d.extend({},f),_childConstructors:[]}),k=new a,k.options=d.widget.extend({},k.options),d.each(f,function(c,f){return d.isFunction(f)?(l[c]=function(){var b=
function(){return a.prototype[c].apply(this,arguments)},d=function(f){return a.prototype[c].apply(this,f)};return function(){var c,a=this._super,h=this._superApply;return this._super=b,this._superApply=d,c=f.apply(this,arguments),this._super=a,this._superApply=h,c}}(),void 0):(l[c]=f,void 0)}),g.prototype=d.widget.extend(k,{widgetEventPrefix:e?k.widgetEventPrefix||c:c},l,{constructor:g,namespace:m,widgetName:c,widgetFullName:b}),e?(d.each(e._childConstructors,function(c,a){var h=a.prototype;d.widget(h.namespace+
"."+h.widgetName,g,a._proto)}),delete e._childConstructors):a._childConstructors.push(g),d.widget.bridge(c,g),g};d.widget.extend=function(c){for(var a,f,b=l.call(arguments,1),e=0,g=b.length;g>e;e++)for(a in b[e])f=b[e][a],b[e].hasOwnProperty(a)&&void 0!==f&&(c[a]=d.isPlainObject(f)?d.isPlainObject(c[a])?d.widget.extend({},c[a],f):d.widget.extend({},f):f);return c};d.widget.bridge=function(c,a){var f=a.prototype.widgetFullName||c;d.fn[c]=function(b){var e="string"==typeof b,g=l.call(arguments,1),k=
this;return e?this.each(function(){var a,h=d.data(this,f);return"instance"===b?(k=h,!1):h?d.isFunction(h[b])&&"_"!==b.charAt(0)?(a=h[b].apply(h,g),a!==h&&void 0!==a?(k=a&&a.jquery?k.pushStack(a.get()):a,!1):void 0):d.error("no such method '"+b+"' for "+c+" widget instance"):d.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+b+"'")}):(g.length&&(b=d.widget.extend.apply(null,[b].concat(g))),this.each(function(){var c=d.data(this,f);c?(c.option(b||{}),c._init&&
c._init()):d.data(this,f,new a(b,this))})),k}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,a){a=d(a||this.defaultElement||this)[0];this.element=d(a);this.uuid=k++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=d();this.hoverable=d();this.focusable=d();a!==this&&(d.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===
a&&this.destroy()}}),this.document=d(a.style?a.ownerDocument:a.document||a),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this.options=d.widget.extend({},this.options,this._getCreateOptions(),c);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName));
this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(c,a){var f,b,e,g=c;if(0===arguments.length)return d.widget.extend({},this.options);if("string"==typeof c)if(g={},f=c.split("."),c=f.shift(),f.length){b=g[c]=d.widget.extend({},
this.options[c]);for(e=0;f.length-1>e;e++)b[f[e]]=b[f[e]]||{},b=b[f[e]];if(c=f.pop(),1===arguments.length)return void 0===b[c]?null:b[c];b[c]=a}else{if(1===arguments.length)return void 0===this.options[c]?null:this.options[c];g[c]=a}return this._setOptions(g),this},_setOptions:function(c){for(var a in c)this._setOption(a,c[a]);return this},_setOption:function(c,a){return this.options[c]=a,"disabled"===c&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!a),a&&(this.hoverable.removeClass("ui-state-hover"),
this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(c,a,f){var b,e=this;"boolean"!=typeof c&&(f=a,a=c,c=!1);f?(a=b=d(a),this.bindings=this.bindings.add(a)):(f=a,a=this.element,b=this.widget());d.each(f,function(f,g){function k(){return c||!0!==e.options.disabled&&!d(this).hasClass("ui-state-disabled")?("string"==typeof g?e[g]:g).apply(e,arguments):void 0}"string"!=typeof g&&
(k.guid=g.guid=g.guid||k.guid||d.guid++);var l=f.match(/^([\w:-]*)\s*(.*)$/),m=l[1]+e.eventNamespace;(l=l[2])?b.delegate(l,m,k):a.bind(m,k)})},_off:function(c,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;c.unbind(a).undelegate(a);this.bindings=d(this.bindings.not(c).get());this.focusable=d(this.focusable.not(c).get());this.hoverable=d(this.hoverable.not(c).get())},_delay:function(c,a){var f=this;return setTimeout(function(){return("string"==typeof c?f[c]:c).apply(f,arguments)},
a||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){d(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){d(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){d(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){d(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(c,a,f){var b,e=this.options[c];if(f=f||{},a=d.Event(a),
a.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase(),a.target=this.element[0],c=a.originalEvent)for(b in c)b in a||(a[b]=c[b]);return this.element.trigger(a,f),!(d.isFunction(e)&&!1===e.apply(this.element[0],[a].concat(f))||a.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(c,a){d.Widget.prototype["_"+c]=function(f,b,e){"string"==typeof b&&(b={effect:b});var g,k=b?!0===b||"number"==typeof b?a:b.effect||a:c;b=b||{};"number"==typeof b&&(b={duration:b});
g=!d.isEmptyObject(b);b.complete=e;b.delay&&f.delay(b.delay);g&&d.effects&&d.effects.effect[k]?f[c](b):k!==c&&f[k]?f[k](b.duration,b.easing,e):f.queue(function(a){d(this)[c]();e&&e.call(f[0]);a()})}});d.widget;var m=!1;d(document).mouseup(function(){m=!1});d.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,
function(a){return!0===d.data(a.target,c.widgetName+".preventClickEvent")?(d.removeData(a.target,c.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!m){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(c);
this._mouseDownEvent=c;var a=this,f=1===c.which,b="string"==typeof this.options.cancel&&c.target.nodeName?d(c.target).closest(this.options.cancel).length:!1;return f&&!b&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===d.data(c.target,
this.widgetName+".preventClickEvent")&&d.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(c){return a._mouseMove(c)},this._mouseUpDelegate=function(c){return a._mouseUp(c)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),m=!0,!0)):!0}},_mouseMove:function(c){return this._mouseMoved&&(d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button||!c.which)?
this._mouseUp(c):((c.which||c.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted))},_mouseUp:function(c){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=
!1,c.target===this._mouseDownEvent.target&&d.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),m=!1,!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function c(c,a,h){return[parseFloat(c[0])*
(q.test(c[0])?a/100:1),parseFloat(c[1])*(q.test(c[1])?h/100:1)]}function a(c){var h=c[0];return 9===h.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:d.isWindow(h)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:h.preventDefault?{width:0,height:0,offset:{top:h.pageY,left:h.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()}}d.ui=d.ui||{};var f,b,e=Math.max,g=Math.abs,k=Math.round,l=/left|center|right/,m=/top|center|bottom/,
r=/[\+\-]\d+(\.[\d]+)?%?/,v=/^\w+/,q=/%$/,y=d.fn.position;d.position={scrollbarWidth:function(){if(void 0!==f)return f;var c,a,h=d("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),b=h.children()[0];return d("body").append(h),c=b.offsetWidth,h.css("overflow","scroll"),a=b.offsetWidth,c===a&&(a=h[0].clientWidth),h.remove(),f=c-a},getScrollInfo:function(c){var a=c.isWindow||c.isDocument?"":c.element.css("overflow-x"),
h=c.isWindow||c.isDocument?"":c.element.css("overflow-y"),a="scroll"===a||"auto"===a&&c.width<c.element[0].scrollWidth;return{width:"scroll"===h||"auto"===h&&c.height<c.element[0].scrollHeight?d.position.scrollbarWidth():0,height:a?d.position.scrollbarWidth():0}},getWithinInfo:function(c){c=d(c||window);var a=d.isWindow(c[0]),h=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:a,isDocument:h,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:a||h?c.width():
c.outerWidth(),height:a||h?c.height():c.outerHeight()}}};d.fn.position=function(f){if(!f||!f.of)return y.apply(this,arguments);f=d.extend({},f);var q,z,n,t,Z,w,E=d(f.of),Q=d.position.getWithinInfo(f.within),L=d.position.getScrollInfo(Q),fa=(f.collision||"flip").split(" "),aa={};return w=a(E),E[0].preventDefault&&(f.at="left top"),z=w.width,n=w.height,t=w.offset,Z=d.extend({},t),d.each(["my","at"],function(){var c,a,h=(f[this]||"").split(" ");1===h.length&&(h=l.test(h[0])?h.concat(["center"]):m.test(h[0])?
["center"].concat(h):["center","center"]);h[0]=l.test(h[0])?h[0]:"center";h[1]=m.test(h[1])?h[1]:"center";c=r.exec(h[0]);a=r.exec(h[1]);aa[this]=[c?c[0]:0,a?a[0]:0];f[this]=[v.exec(h[0])[0],v.exec(h[1])[0]]}),1===fa.length&&(fa[1]=fa[0]),"right"===f.at[0]?Z.left+=z:"center"===f.at[0]&&(Z.left+=z/2),"bottom"===f.at[1]?Z.top+=n:"center"===f.at[1]&&(Z.top+=n/2),q=c(aa.at,z,n),Z.left+=q[0],Z.top+=q[1],this.each(function(){var a,h,l=d(this),m=l.outerWidth(),r=l.outerHeight(),F=parseInt(d.css(this,"marginLeft"),
10)||0,v=parseInt(d.css(this,"marginTop"),10)||0,H=m+F+(parseInt(d.css(this,"marginRight"),10)||0)+L.width,y=r+v+(parseInt(d.css(this,"marginBottom"),10)||0)+L.height,K=d.extend({},Z),X=c(aa.my,l.outerWidth(),l.outerHeight());"right"===f.my[0]?K.left-=m:"center"===f.my[0]&&(K.left-=m/2);"bottom"===f.my[1]?K.top-=r:"center"===f.my[1]&&(K.top-=r/2);K.left+=X[0];K.top+=X[1];b||(K.left=k(K.left),K.top=k(K.top));a={marginLeft:F,marginTop:v};d.each(["left","top"],function(c,h){d.ui.position[fa[c]]&&d.ui.position[fa[c]][h](K,
{targetWidth:z,targetHeight:n,elemWidth:m,elemHeight:r,collisionPosition:a,collisionWidth:H,collisionHeight:y,offset:[q[0]+X[0],q[1]+X[1]],my:f.my,at:f.at,within:Q,elem:l})});f.using&&(h=function(c){var a=t.left-K.left,h=a+z-m,b=t.top-K.top,d=b+n-r,u={target:{element:E,left:t.left,top:t.top,width:z,height:n},element:{element:l,left:K.left,top:K.top,width:m,height:r},horizontal:0>h?"left":0<a?"right":"center",vertical:0>d?"top":0<b?"bottom":"middle"};m>z&&z>g(a+h)&&(u.horizontal="center");r>n&&n>g(b+
d)&&(u.vertical="middle");u.important=e(g(a),g(h))>e(g(b),g(d))?"horizontal":"vertical";f.using.call(this,c,u)});l.offset(d.extend(K,{using:h}))})};d.ui.position={fit:{left:function(c,a){var h,f=a.within,b=f.isWindow?f.scrollLeft:f.offset.left,f=f.width,d=c.left-a.collisionPosition.marginLeft,u=b-d,g=d+a.collisionWidth-f-b;a.collisionWidth>f?0<u&&0>=g?(h=c.left+u+a.collisionWidth-f-b,c.left+=u-h):c.left=0<g&&0>=u?b:u>g?b+f-a.collisionWidth:b:0<u?c.left+=u:0<g?c.left-=g:c.left=e(c.left-d,c.left)},
top:function(c,a){var h,f=a.within,f=f.isWindow?f.scrollTop:f.offset.top,b=a.within.height,d=c.top-a.collisionPosition.marginTop,u=f-d,g=d+a.collisionHeight-b-f;a.collisionHeight>b?0<u&&0>=g?(h=c.top+u+a.collisionHeight-b-f,c.top+=u-h):c.top=0<g&&0>=u?f:u>g?f+b-a.collisionHeight:f:0<u?c.top+=u:0<g?c.top-=g:c.top=e(c.top-d,c.top)}},flip:{left:function(c,a){var h,f,b=a.within,d=b.offset.left+b.scrollLeft,e=b.width,b=b.isWindow?b.scrollLeft:b.offset.left,u=c.left-a.collisionPosition.marginLeft,x=u-b,
u=u+a.collisionWidth-e-b,k="left"===a.my[0]?-a.elemWidth:"right"===a.my[0]?a.elemWidth:0,l="left"===a.at[0]?a.targetWidth:"right"===a.at[0]?-a.targetWidth:0,m=-2*a.offset[0];0>x?(h=c.left+k+l+m+a.collisionWidth-e-d,(0>h||g(x)>h)&&(c.left+=k+l+m)):0<u&&(f=c.left-a.collisionPosition.marginLeft+k+l+m-b,(0<f||u>g(f))&&(c.left+=k+l+m))},top:function(c,a){var h,f,b=a.within,d=b.offset.top+b.scrollTop,e=b.height,b=b.isWindow?b.scrollTop:b.offset.top,u=c.top-a.collisionPosition.marginTop,x=u-b,u=u+a.collisionHeight-
e-b,k="top"===a.my[1]?-a.elemHeight:"bottom"===a.my[1]?a.elemHeight:0,l="top"===a.at[1]?a.targetHeight:"bottom"===a.at[1]?-a.targetHeight:0,m=-2*a.offset[1];0>x?(f=c.top+k+l+m+a.collisionHeight-e-d,(0>f||g(x)>f)&&(c.top+=k+l+m)):0<u&&(h=c.top-a.collisionPosition.marginTop+k+l+m-b,(0<h||u>g(h))&&(c.top+=k+l+m))}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,
arguments)}}};(function(){var c,a,h,f,e=document.getElementsByTagName("body")[0];h=document.createElement("div");c=document.createElement(e?"div":"body");a={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&d.extend(a,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in a)c.style[f]=a[f];c.appendChild(h);a=e||document.documentElement;a.insertBefore(c,a.firstChild);h.style.cssText="position: absolute; left: 10.7432222px;";h=d(h).offset().left;b=10<h&&11>h;c.innerHTML=
"";a.removeChild(c)})()})();d.ui.position;d.widget("ui.accordion",{version:"1.11.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",
paddingBottom:"show",height:"show"},_create:function(){var c=this.options;this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");c.collapsible||!1!==c.active&&null!=c.active||(c.active=0);this._processPanels();0>c.active&&(c.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d()}},_createIcons:function(){var c=this.options.icons;c&&(d("<span>").addClass("ui-accordion-header-icon ui-icon "+
c.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(c.header).addClass(c.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var c;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();
this._destroyIcons();c=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&c.css("height","")},_setOption:function(c,a){return"active"===c?(this._activate(a),void 0):("event"===c&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),
this._super(c,a),"collapsible"!==c||a||!1!==this.options.active||this._activate(0),"icons"===c&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===c&&(this.element.toggleClass("ui-state-disabled",!!a).attr("aria-disabled",a),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a)),void 0)},_keydown:function(c){if(!c.altKey&&!c.ctrlKey){var a=d.ui.keyCode,f=this.headers.length,b=this.headers.index(c.target),e=!1;switch(c.keyCode){case a.RIGHT:case a.DOWN:e=this.headers[(b+
1)%f];break;case a.LEFT:case a.UP:e=this.headers[(b-1+f)%f];break;case a.SPACE:case a.ENTER:this._eventHandler(c);break;case a.HOME:e=this.headers[0];break;case a.END:e=this.headers[f-1]}e&&(d(c.target).attr("tabIndex",-1),d(e).attr("tabIndex",0),e.focus(),c.preventDefault())}},_panelKeyDown:function(c){c.keyCode===d.ui.keyCode.UP&&c.ctrlKey&&d(c.currentTarget).prev().focus()},refresh:function(){var c=this.options;this._processPanels();!1===c.active&&!0===c.collapsible||!this.headers.length?(c.active=
!1,this.active=d()):!1===c.active?this._activate(0):this.active.length&&!d.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(c.active=!1,this.active=d()):this._activate(Math.max(0,c.active-1)):c.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var c=this.headers,a=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");
this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();a&&(this._off(c.not(this.headers)),this._off(a.not(this.panels)))},_refresh:function(){var c,a=this.options,f=a.heightStyle,b=this.element.parent();this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();
this.headers.attr("role","tab").each(function(){var c=d(this),a=c.uniqueId().attr("id"),h=c.next(),f=h.uniqueId().attr("id");c.attr("aria-controls",f);h.attr("aria-labelledby",a)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",
0);this._createIcons();this._setupEvents(a.event);"fill"===f?(c=b.height(),this.element.siblings(":visible").each(function(){var a=d(this),h=a.css("position");"absolute"!==h&&"fixed"!==h&&(c-=a.outerHeight(!0))}),this.headers.each(function(){c-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,c-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===f&&(c=0,this.headers.next().each(function(){c=Math.max(c,d(this).css("height","").height())}).height(c))},
_activate:function(c){c=this._findActive(c)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:d.noop}))},_findActive:function(c){return"number"==typeof c?this.headers.eq(c):d()},_setupEvents:function(c){var a={keydown:"_keydown"};c&&d.each(c.split(" "),function(c,b){a[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,a);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);
this._focusable(this.headers)},_eventHandler:function(c){var a=this.options,f=this.active,b=d(c.currentTarget),e=b[0]===f[0],g=e&&a.collapsible,k=g?d():b.next(),l=f.next(),k={oldHeader:f,oldPanel:l,newHeader:g?d():b,newPanel:k};c.preventDefault();e&&!a.collapsible||!1===this._trigger("beforeActivate",c,k)||(a.active=g?!1:this.headers.index(b),this.active=e?d():b,this._toggle(k),f.removeClass("ui-accordion-header-active ui-state-active"),a.icons&&f.children(".ui-accordion-header-icon").removeClass(a.icons.activeHeader).addClass(a.icons.header),
e||(b.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),a.icons&&b.children(".ui-accordion-header-icon").removeClass(a.icons.header).addClass(a.icons.activeHeader),b.next().addClass("ui-accordion-content-active")))},_toggle:function(c){var a=c.newPanel,f=this.prevShow.length?this.prevShow:c.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=a;this.prevHide=f;this.options.animate?this._animate(a,f,c):(f.hide(),a.show(),this._toggleComplete(c));
f.attr({"aria-hidden":"true"});f.prev().attr({"aria-selected":"false","aria-expanded":"false"});a.length&&f.length?f.prev().attr({tabIndex:-1,"aria-expanded":"false"}):a.length&&this.headers.filter(function(){return 0===parseInt(d(this).attr("tabIndex"),10)}).attr("tabIndex",-1);a.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(c,a,f){var b,d,e,g=this,k=0,l=c.length&&(!a.length||c.index()<a.index()),m=this.options.animate||{},
l=l&&m.down||m,r=function(){g._toggleComplete(f)};return"number"==typeof l&&(e=l),"string"==typeof l&&(d=l),d=d||l.easing||m.easing,e=e||l.duration||m.duration,a.length?c.length?(b=c.show().outerHeight(),a.animate(this.hideProps,{duration:e,easing:d,step:function(c,a){a.now=Math.round(c)}}),c.hide().animate(this.showProps,{duration:e,easing:d,complete:r,step:function(c,f){f.now=Math.round(c);"height"!==f.prop?k+=f.now:"content"!==g.options.heightStyle&&(f.now=Math.round(b-a.outerHeight()-k),k=0)}}),
void 0):a.animate(this.hideProps,e,d,r):c.animate(this.showProps,e,d,r)},_toggleComplete:function(c){var a=c.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");a.length&&(a.parent()[0].className=a.parent()[0].className);this._trigger("activate",null,c)}});d.widget("ui.menu",{version:"1.11.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",
blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(c){c.preventDefault()},"click .ui-menu-item":function(c){var a=d(c.target);!this.mouseHandled&&
a.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&d(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){if(!this.previousFilter){var a=d(c.currentTarget);a.siblings(".ui-state-active").removeClass("ui-state-active");
this.focus(c,a)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,a){var f=this.active||this.element.find(this.options.items).eq(0);a||this.focus(c,f)},blur:function(c){this._delay(function(){d.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){this._closeOnDocumentClick(c)&&this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=d(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){var a,f,b,e=!0;switch(c.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(c);
break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case d.ui.keyCode.HOME:this._move("first","first",c);break;case d.ui.keyCode.END:this._move("last","last",c);break;case d.ui.keyCode.UP:this.previous(c);break;case d.ui.keyCode.DOWN:this.next(c);break;case d.ui.keyCode.LEFT:this.collapse(c);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(c);break;case d.ui.keyCode.ESCAPE:this.collapse(c);
break;default:e=!1,a=this.previousFilter||"",f=String.fromCharCode(c.keyCode),b=!1,clearTimeout(this.filterTimer),f===a?b=!0:f=a+f,a=this._filterMenuItems(f),a=b&&-1!==a.index(this.active.next())?this.active.nextAll(".ui-menu-item"):a,a.length||(f=String.fromCharCode(c.keyCode),a=this._filterMenuItems(f)),a.length?(this.focus(c,a),this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}e&&c.preventDefault()},_activate:function(c){this.active.is(".ui-state-disabled")||
(this.active.is("[aria-haspopup='true']")?this.expand(c):this.select(c))},refresh:function(){var c,a=this,f=this.options.icons.submenu;c=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var c=d(this),a=c.parent(),h=d("<span>").addClass("ui-menu-icon ui-icon "+
f).data("ui-menu-submenu-carat",!0);a.attr("aria-haspopup","true").prepend(h);c.attr("aria-labelledby",a.attr("id"))});c=c.add(this.element).find(this.options.items);c.not(".ui-menu-item").each(function(){var c=d(this);a._isDivider(c)&&c.addClass("ui-widget-content ui-menu-divider")});c.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});c.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],
this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,a){"icons"===c&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(a.submenu);"disabled"===c&&this.element.toggleClass("ui-state-disabled",!!a).attr("aria-disabled",a);this._super(c,a)},focus:function(c,a){var f;this.blur(c,c&&"focus"===c.type);this._scrollIntoView(a);this.active=a.first();f=this.active.addClass("ui-state-focus").removeClass("ui-state-active");
this.options.role&&this.element.attr("aria-activedescendant",f.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);f=a.children(".ui-menu");f.length&&c&&/^mouse/.test(c.type)&&this._startOpening(f);this.activeMenu=a.parent();this._trigger("focus",c,{item:a})},_scrollIntoView:function(c){var a,f,b,e,g,k;this._hasScroll()&&(a=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||
0,f=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0,b=c.offset().top-this.activeMenu.offset().top-a-f,e=this.activeMenu.scrollTop(),g=this.activeMenu.height(),k=c.outerHeight(),0>b?this.activeMenu.scrollTop(e+b):b+k>g&&this.activeMenu.scrollTop(e+b-g+k))},blur:function(c,a){a||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",c,{item:this.active}))},_startOpening:function(c){clearTimeout(this.timer);"true"===c.attr("aria-hidden")&&
(this.timer=this._delay(function(){this._close();this._open(c)},this.delay))},_open:function(c){var a=d.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(c,a){clearTimeout(this.timer);this.timer=this._delay(function(){var f=a?this.element:d(c&&c.target).closest(this.element.find(".ui-menu"));
f.length||(f=this.element);this._close(f);this.blur(c);this.activeMenu=f},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element);c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(c){return!d(c.target).closest(".ui-menu").length},_isDivider:function(c){return!/[^\-\u2014\u2013\s]/.test(c.text())},collapse:function(c){var a=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);a&&a.length&&(this._close(),this.focus(c,a))},expand:function(c){var a=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();a&&a.length&&(this._open(a.parent()),this._delay(function(){this.focus(c,a)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(c,a,f){var b;this.active&&(b="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0));b&&b.length&&this.active||(b=this.activeMenu.find(this.options.items)[a]());this.focus(f,b)},nextPage:function(c){var a,f,b;return this.active?(this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,b=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return a=
d(this),0>a.offset().top-f-b}),this.focus(c,a)):this.focus(c,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(c),void 0)},previousPage:function(c){var a,f,b;return this.active?(this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,b=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return a=d(this),0<a.offset().top-f+b}),this.focus(c,a)):this.focus(c,this.activeMenu.find(this.options.items).first())),void 0):(this.next(c),
void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||d(c.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,a)},_filterMenuItems:function(c){c=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var a=RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return a.test(d.trim(d(this).text()))})}});
d.widget("ui.autocomplete",{version:"1.11.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,a,f,b=this.element[0].nodeName.toLowerCase(),e="textarea"===b,b="input"===b;this.isMultiLine=e?!0:b?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[e||
b?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(b){if(this.element.prop("readOnly"))return c=!0,f=!0,a=!0,void 0;a=f=c=!1;var e=d.ui.keyCode;switch(b.keyCode){case e.PAGE_UP:c=!0;this._move("previousPage",b);break;case e.PAGE_DOWN:c=!0;this._move("nextPage",b);break;case e.UP:c=!0;this._keyEvent("previous",b);break;case e.DOWN:c=!0;this._keyEvent("next",b);break;case e.ENTER:this.menu.active&&(c=!0,
b.preventDefault(),this.menu.select(b));break;case e.TAB:this.menu.active&&this.menu.select(b);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(b),b.preventDefault());break;default:a=!0,this._searchTimeout(b)}},keypress:function(f){if(c)return c=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&f.preventDefault(),void 0;if(!a){var b=d.ui.keyCode;switch(f.keyCode){case b.PAGE_UP:this._move("previousPage",f);break;case b.PAGE_DOWN:this._move("nextPage",
f);break;case b.UP:this._keyEvent("previous",f);break;case b.DOWN:this._keyEvent("next",f)}}},input:function(c){return f?(f=!1,c.preventDefault(),void 0):(this._searchTimeout(c),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(c){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(c),this._change(c),void 0)}});this._initSource();this.menu=d("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");
this._on(this.menu.element,{mousedown:function(c){c.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var a=this.menu.element[0];d(c.target).closest(".ui-menu-item").length||this._delay(function(){var c=this;this.document.one("mousedown",function(h){h.target===c.element[0]||h.target===a||d.contains(a,h.target)||c.close()})})},menufocus:function(c,a){var h,f;return this.isNewMenu&&(this.isNewMenu=!1,c.originalEvent&&/^mouse/.test(c.originalEvent.type))?(this.menu.blur(),
this.document.one("mousemove",function(){d(c.target).trigger(c.originalEvent)}),void 0):(f=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",c,{item:f})&&c.originalEvent&&/^key/.test(c.originalEvent.type)&&this._value(f.value),h=a.item.attr("aria-label")||f.value,h&&d.trim(h).length&&(this.liveRegion.children().hide(),d("<div>").text(h).appendTo(this.liveRegion)),void 0)},menuselect:function(c,a){var h=a.item.data("ui-autocomplete-item"),f=this.previous;this.element[0]!==this.document[0].activeElement&&
(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f;this.selectedItem=h}));!1!==this._trigger("select",c,{item:h})&&this._value(h.value);this.term=this._value();this.close(c);this.selectedItem=h}});this.liveRegion=d("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);
this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(c,a){this._super(c,a);"source"===c&&this._initSource();"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&a&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?d(c):this.document.find(c).eq(0)),c&&c[0]||(c=this.element.closest(".ui-front")),c.length||(c=this.document[0].body),
c},_initSource:function(){var c,a,f=this;d.isArray(this.options.source)?(c=this.options.source,this.source=function(a,h){h(d.ui.autocomplete.filter(c,a.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(c,b){f.xhr&&f.xhr.abort();f.xhr=d.ajax({url:a,data:c,dataType:"json",success:function(c){b(c)},error:function(){b([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);this.searching=this._delay(function(){var a=this.term===
this._value(),f=this.menu.element.is(":visible"),b=c.altKey||c.ctrlKey||c.metaKey||c.shiftKey;a&&(!a||f||b)||(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,a){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(a):!1!==this._trigger("search",a)?this._search(c):void 0},_search:function(c){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:c},this._response())},_response:function(){var c=
++this.requestIndex;return d.proxy(function(a){c===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(c){c&&(c=this._normalize(c));this._trigger("response",null,{content:c});!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),
this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:d.map(c,function(c){return"string"==typeof c?{label:c,value:c}:d.extend({},c,{label:c.label||c.value,value:c.value||c.label})})},_suggest:function(c){var a=this.menu.element.empty();this._renderMenu(a,c);this.isNewMenu=!0;this.menu.refresh();a.show();this._resizeMenu();a.position(d.extend({of:this.element},
this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,a){var f=this;d.each(a,function(a,h){f._renderItemData(c,h)})},_renderItemData:function(c,a){return this._renderItem(c,a).data("ui-autocomplete-item",a)},_renderItem:function(c,a){return d("<li>").text(a.label).appendTo(c)},_move:function(c,a){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&
/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[c](a),void 0):(this.search(null,a),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,a){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(c,a),a.preventDefault())}});d.extend(d.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")},filter:function(c,a){var f=RegExp(d.ui.autocomplete.escapeRegex(a),"i");return d.grep(c,function(c){return f.test(c.label||c.value||c)})}});d.widget("ui.autocomplete",d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var a;this._superApply(arguments);this.options.disabled||this.cancelSearch||(a=c&&c.length?this.options.messages.results(c.length):
this.options.messages.noResults,this.liveRegion.children().hide(),d("<div>").text(a).appendTo(this.liveRegion))}});d.ui.autocomplete;var r,y=function(){var c=d(this);setTimeout(function(){c.find(":ui-button").button("refresh")},1)},z=function(c){var a=c.name,f=c.form,b=d([]);return a&&(a=a.replace(/'/g,"\\'"),b=f?d(f).find("[name='"+a+"'][type=radio]"):d("[name='"+a+"'][type=radio]",c.ownerDocument).filter(function(){return!this.form})),b};d.widget("ui.button",{version:"1.11.3",defaultElement:"<button>",
options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,y);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var c=this,a=this.options,f="checkbox"===this.type||"radio"===this.type,b=f?"":
"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===r&&d(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||d(this).removeClass(b)}).bind("click"+this.eventNamespace,function(c){a.disabled&&
(c.preventDefault(),c.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});f&&this.element.bind("change"+this.eventNamespace,function(){c.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled)return!1;d(this).addClass("ui-state-active");
c.buttonElement.attr("aria-pressed","true");var f=c.element[0];z(f).not(f).map(function(){return d(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(d(this).addClass("ui-state-active"),r=this,c.document.one("mouseup",function(){r=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:(d(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+
this.eventNamespace,function(c){return a.disabled?!1:((c.keyCode===d.ui.keyCode.SPACE||c.keyCode===d.ui.keyCode.ENTER)&&d(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){d(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(c){c.keyCode===d.ui.keyCode.SPACE&&d(this).click()}));this._setOption("disabled",a.disabled);this._resetButton()},_determineButtonType:function(){var c,a,f;this.type=
this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(c=this.element.parents().last(),a="label[for='"+this.element.attr("id")+"']",this.buttonElement=c.find(a),this.buttonElement.length||(c=c.length?c.siblings():this.element.siblings(),this.buttonElement=c.filter(a),this.buttonElement.length||(this.buttonElement=c.find(a))),this.element.addClass("ui-helper-hidden-accessible"),f=this.element.is(":checked"),
f&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",f)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(c,a){return this._super(c,a),"disabled"===c?(this.widget().toggleClass("ui-state-disabled",!!a),this.element.prop("disabled",!!a),a&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var c=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");
c!==this.options.disabled&&this._setOption("disabled",c);"radio"===this.type?z(this.element[0]).each(function(){d(this).is(":checked")?d(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):d(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",
"false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var c=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),a=d("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(c.empty()).text(),f=this.options.icons,b=f.primary&&f.secondary,e=[];f.primary||f.secondary?(this.options.text&&
e.push("ui-button-text-icon"+(b?"s":f.primary?"-primary":"-secondary")),f.primary&&c.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&c.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||(e.push(b?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||c.attr("title",d.trim(a)))):e.push("ui-button-text-only");c.addClass(e.join(" "))}});d.widget("ui.buttonset",{version:"1.11.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},
_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(c,a){"disabled"===c&&this.buttons.button("option",c,a);this._super(c,a)},refresh:function(){var c="rtl"===this.element.css("direction"),a=this.element.find(this.options.items),f=a.filter(":ui-button");a.not(":ui-button").button();f.button("refresh");this.buttons=a.map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(c?
"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(c?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});d.ui.button;d.extend(d.ui,{datepicker:{version:"1.11.3"}});var v;d.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){return b(this._defaults,
c||{}),this},_attachDatepicker:function(c,a){var f,b,e;f=c.nodeName.toLowerCase();b="div"===f||"span"===f;c.id||(this.uuid+=1,c.id="dp"+this.uuid);e=this._newInst(d(c),b);e.settings=d.extend({},a||{});"input"===f?this._connectDatepicker(c,e):b&&this._inlineDatepicker(c,e)},_newInst:function(c,a){return{id:c[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:c,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?w(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(c,a){var f=d(c);a.append=d([]);a.trigger=d([]);f.hasClass(this.markerClassName)||(this._attachments(f,a),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),d.data(c,"datepicker",a),a.settings.disabled&&this._disableDatepicker(c))},_attachments:function(c,a){var f,b,e;f=this._get(a,"appendText");var g=this._get(a,"isRTL");a.append&&a.append.remove();f&&(a.append=d("<span class='"+this._appendClass+
"'>"+f+"</span>"),c[g?"before":"after"](a.append));c.unbind("focus",this._showDatepicker);a.trigger&&a.trigger.remove();f=this._get(a,"showOn");"focus"!==f&&"both"!==f||c.focus(this._showDatepicker);"button"!==f&&"both"!==f||(b=this._get(a,"buttonText"),e=this._get(a,"buttonImage"),a.trigger=d(this._get(a,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:e,alt:b,title:b}):d("<button type='button'></button>").addClass(this._triggerClass).html(e?d("<img/>").attr({src:e,alt:b,title:b}):
b)),c[g?"before":"after"](a.trigger),a.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput===c[0]?d.datepicker._hideDatepicker():d.datepicker._datepickerShowing&&d.datepicker._lastInput!==c[0]?(d.datepicker._hideDatepicker(),d.datepicker._showDatepicker(c[0])):d.datepicker._showDatepicker(c[0]),!1}))},_autoSize:function(c){if(this._get(c,"autoSize")&&!c.inline){var a,f,b,d,e=new Date(2009,11,20),g=this._get(c,"dateFormat");g.match(/[DM]/)&&(a=function(c){for(d=
b=f=0;c.length>d;d++)c[d].length>f&&(f=c[d].length,b=d);return b},e.setMonth(a(this._get(c,g.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(a(this._get(c,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay()));c.input.attr("size",this._formatDate(c,e).length)}},_inlineDatepicker:function(c,a){var f=d(c);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(a.dpDiv),d.data(c,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),
a.settings.disabled&&this._disableDatepicker(c),a.dpDiv.css("display","block"))},_dialogDatepicker:function(c,a,f,e,g){var k,l,m,r,v;c=this._dialogInst;return c||(this.uuid+=1,k="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+k+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},d.data(this._dialogInput[0],"datepicker",c)),b(c.settings,
e||{}),a=a&&a.constructor===Date?this._formatDate(c,a):a,this._dialogInput.val(a),this._pos=g?g.length?g:[g.pageX,g.pageY]:null,this._pos||(l=document.documentElement.clientWidth,m=document.documentElement.clientHeight,r=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+r,m/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(c){var a,f=d(c),b=d.data(c,"datepicker");f.hasClass(this.markerClassName)&&(a=c.nodeName.toLowerCase(),d.removeData(c,"datepicker"),"input"===a?(b.append.remove(),b.trigger.remove(),f.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===a||"span"===a)&&f.removeClass(this.markerClassName).empty(),v===b&&(v=null))},_enableDatepicker:function(c){var a,f,b=d(c),e=d.data(c,"datepicker");b.hasClass(this.markerClassName)&&(a=c.nodeName.toLowerCase(),"input"===a?(c.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===a||"span"===a)&&(f=b.children("."+this._inlineClass),f.children().removeClass("ui-state-disabled"),f.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=d.map(this._disabledInputs,function(a){return a===c?null:a}))},_disableDatepicker:function(c){var a,f,b=d(c),e=d.data(c,"datepicker");b.hasClass(this.markerClassName)&&(a=c.nodeName.toLowerCase(),"input"===a?(c.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===a||"span"===a)&&(f=b.children("."+this._inlineClass),f.children().addClass("ui-state-disabled"),f.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=d.map(this._disabledInputs,function(a){return a===c?null:a}),this._disabledInputs[this._disabledInputs.length]=c)},_isDisabledDatepicker:function(c){if(!c)return!1;for(var a=0;this._disabledInputs.length>a;a++)if(this._disabledInputs[a]===c)return!0;return!1},_getInst:function(c){try{return d.data(c,"datepicker")}catch(a){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,a,f){var e,g,k,l,m=this._getInst(c);return 2===arguments.length&&"string"==
typeof a?"defaults"===a?d.extend({},d.datepicker._defaults):m?"all"===a?d.extend({},m.settings):this._get(m,a):null:(e=a||{},"string"==typeof a&&(e={},e[a]=f),m&&(this._curInst===m&&this._hideDatepicker(),g=this._getDateDatepicker(c,!0),k=this._getMinMaxDate(m,"min"),l=this._getMinMaxDate(m,"max"),b(m.settings,e),null!==k&&void 0!==e.dateFormat&&void 0===e.minDate&&(m.settings.minDate=this._formatDate(m,k)),null!==l&&void 0!==e.dateFormat&&void 0===e.maxDate&&(m.settings.maxDate=this._formatDate(m,
l)),"disabled"in e&&(e.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(d(c),m),this._autoSize(m),this._setDate(m,g),this._updateAlternate(m),this._updateDatepicker(m)),void 0)},_changeDatepicker:function(c,a,f){this._optionDatepicker(c,a,f)},_refreshDatepicker:function(c){(c=this._getInst(c))&&this._updateDatepicker(c)},_setDateDatepicker:function(c,a){var f=this._getInst(c);f&&(this._setDate(f,a),this._updateDatepicker(f),this._updateAlternate(f))},_getDateDatepicker:function(c,
a){var f=this._getInst(c);return f&&!f.inline&&this._setDateFromField(f,a),f?this._getDate(f):null},_doKeyDown:function(c){var a,f,b,e=d.datepicker._getInst(c.target),g=!0,k=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,d.datepicker._datepickerShowing)switch(c.keyCode){case 9:d.datepicker._hideDatepicker();g=!1;break;case 13:return b=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",e.dpDiv),b[0]&&d.datepicker._selectDay(c.target,e.selectedMonth,e.selectedYear,b[0]),
a=d.datepicker._get(e,"onSelect"),a?(f=d.datepicker._formatDate(e),a.apply(e.input?e.input[0]:null,[f,e])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(c.target,c.ctrlKey?-d.datepicker._get(e,"stepBigMonths"):-d.datepicker._get(e,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(e,"stepBigMonths"):+d.datepicker._get(e,"stepMonths"),"M");break;case 35:(c.ctrlKey||c.metaKey)&&d.datepicker._clearDate(c.target);
g=c.ctrlKey||c.metaKey;break;case 36:(c.ctrlKey||c.metaKey)&&d.datepicker._gotoToday(c.target);g=c.ctrlKey||c.metaKey;break;case 37:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,k?1:-1,"D");g=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?-d.datepicker._get(e,"stepBigMonths"):-d.datepicker._get(e,"stepMonths"),"M");break;case 38:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,-7,"D");g=c.ctrlKey||c.metaKey;break;case 39:(c.ctrlKey||c.metaKey)&&
d.datepicker._adjustDate(c.target,k?-1:1,"D");g=c.ctrlKey||c.metaKey;c.originalEvent.altKey&&d.datepicker._adjustDate(c.target,c.ctrlKey?+d.datepicker._get(e,"stepBigMonths"):+d.datepicker._get(e,"stepMonths"),"M");break;case 40:(c.ctrlKey||c.metaKey)&&d.datepicker._adjustDate(c.target,7,"D");g=c.ctrlKey||c.metaKey;break;default:g=!1}else 36===c.keyCode&&c.ctrlKey?d.datepicker._showDatepicker(this):g=!1;g&&(c.preventDefault(),c.stopPropagation())},_doKeyPress:function(c){var a,f,b=d.datepicker._getInst(c.target);
return d.datepicker._get(b,"constrainInput")?(a=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat")),f=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">f||!a||-1<a.indexOf(f)):void 0},_doKeyUp:function(c){var a;c=d.datepicker._getInst(c.target);if(c.input.val()!==c.lastVal)try{(a=d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,d.datepicker._getFormatConfig(c)))&&(d.datepicker._setDateFromField(c),d.datepicker._updateAlternate(c),
d.datepicker._updateDatepicker(c))}catch(f){}return!0},_showDatepicker:function(c){if(c=c.target||c,"input"!==c.nodeName.toLowerCase()&&(c=d("input",c.parentNode)[0]),!d.datepicker._isDisabledDatepicker(c)&&d.datepicker._lastInput!==c){var a,f,e,g,k,l;a=d.datepicker._getInst(c);d.datepicker._curInst&&d.datepicker._curInst!==a&&(d.datepicker._curInst.dpDiv.stop(!0,!0),a&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));f=(f=d.datepicker._get(a,"beforeShow"))?
f.apply(c,[c,a]):{};!1!==f&&(b(a.settings,f),a.lastVal=null,d.datepicker._lastInput=c,d.datepicker._setDateFromField(a),d.datepicker._inDialog&&(c.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(c),d.datepicker._pos[1]+=c.offsetHeight),e=!1,d(c).parents().each(function(){return e|="fixed"===d(this).css("position"),!e}),g={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
d.datepicker._updateDatepicker(a),g=d.datepicker._checkOffset(a,g,e),a.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),a.inline||(k=d.datepicker._get(a,"showAnim"),l=d.datepicker._get(a,"duration"),a.dpDiv.css("z-index",q(d(c))+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects.effect[k]?a.dpDiv.show(k,d.datepicker._get(a,"showOptions"),l):a.dpDiv[k||"show"](k?l:null),d.datepicker._shouldFocusInput(a)&&a.input.focus(),
d.datepicker._curInst=a))}},_updateDatepicker:function(c){this.maxRows=4;v=c;c.dpDiv.empty().append(this._generateHTML(c));this._attachHandlers(c);var h,f=this._getNumberOfMonths(c),b=f[1],e=c.dpDiv.find("."+this._dayOverClass+" a");0<e.length&&a.apply(e.get(0));c.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<b&&c.dpDiv.addClass("ui-datepicker-multi-"+b).css("width",17*b+"em");c.dpDiv[(1!==f[0]||1!==f[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
c.dpDiv[(this._get(c,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");c===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(c)&&c.input.focus();c.yearshtml&&(h=c.yearshtml,setTimeout(function(){h===c.yearshtml&&c.yearshtml&&c.dpDiv.find("select.ui-datepicker-year:first").replaceWith(c.yearshtml);h=c.yearshtml=null},0))},_shouldFocusInput:function(c){return c.input&&c.input.is(":visible")&&!c.input.is(":disabled")&&!c.input.is(":focus")},_checkOffset:function(c,
a,f){var b=c.dpDiv.outerWidth(),e=c.dpDiv.outerHeight(),g=c.input?c.input.outerWidth():0,k=c.input?c.input.outerHeight():0,l=document.documentElement.clientWidth+(f?0:d(document).scrollLeft()),m=document.documentElement.clientHeight+(f?0:d(document).scrollTop());return a.left-=this._get(c,"isRTL")?b-g:0,a.left-=f&&a.left===c.input.offset().left?d(document).scrollLeft():0,a.top-=f&&a.top===c.input.offset().top+k?d(document).scrollTop():0,a.left-=Math.min(a.left,a.left+b>l&&l>b?Math.abs(a.left+b-l):
0),a.top-=Math.min(a.top,a.top+e>m&&m>e?Math.abs(e+k):0),a},_findPos:function(c){for(var a,f=this._getInst(c),f=this._get(f,"isRTL");c&&("hidden"===c.type||1!==c.nodeType||d.expr.filters.hidden(c));)c=c[f?"previousSibling":"nextSibling"];return a=d(c).offset(),[a.left,a.top]},_hideDatepicker:function(c){var a,f,b,e,g=this._curInst;!g||c&&g!==d.data(c,"datepicker")||this._datepickerShowing&&(a=this._get(g,"showAnim"),f=this._get(g,"duration"),b=function(){d.datepicker._tidyDialog(g)},d.effects&&(d.effects.effect[a]||
d.effects[a])?g.dpDiv.hide(a,d.datepicker._get(g,"showOptions"),f,b):g.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?f:null,b),a||b(),this._datepickerShowing=!1,e=this._get(g,"onClose"),e&&e.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(c){c.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(c){if(d.datepicker._curInst){c=d(c.target);var a=d.datepicker._getInst(c[0]);(!(c[0].id===d.datepicker._mainDivId||0!==c.parents("#"+d.datepicker._mainDivId).length||c.hasClass(d.datepicker.markerClassName)||c.closest("."+d.datepicker._triggerClass).length||!d.datepicker._datepickerShowing||d.datepicker._inDialog&&d.blockUI)||c.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==a)&&d.datepicker._hideDatepicker()}},_adjustDate:function(c,a,f){c=d(c);var b=
this._getInst(c[0]);this._isDisabledDatepicker(c[0])||(this._adjustInstDate(b,a+("M"===f?this._get(b,"showCurrentAtPos"):0),f),this._updateDatepicker(b))},_gotoToday:function(c){var a;c=d(c);var f=this._getInst(c[0]);this._get(f,"gotoCurrent")&&f.currentDay?(f.selectedDay=f.currentDay,f.drawMonth=f.selectedMonth=f.currentMonth,f.drawYear=f.selectedYear=f.currentYear):(a=new Date,f.selectedDay=a.getDate(),f.drawMonth=f.selectedMonth=a.getMonth(),f.drawYear=f.selectedYear=a.getFullYear());this._notifyChange(f);
this._adjustDate(c)},_selectMonthYear:function(c,a,f){c=d(c);var b=this._getInst(c[0]);b["selected"+("M"===f?"Month":"Year")]=b["draw"+("M"===f?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10);this._notifyChange(b);this._adjustDate(c)},_selectDay:function(c,a,f,b){var e,g=d(c);d(b).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(e=this._getInst(g[0]),e.selectedDay=e.currentDay=d("a",b).html(),e.selectedMonth=e.currentMonth=a,e.selectedYear=e.currentYear=f,this._selectDate(c,
this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(c){c=d(c);this._selectDate(c,"")},_selectDate:function(c,a){var f;f=d(c);var b=this._getInst(f[0]);a=null!=a?a:this._formatDate(b);b.input&&b.input.val(a);this._updateAlternate(b);(f=this._get(b,"onSelect"))?f.apply(b.input?b.input[0]:null,[a,b]):b.input&&b.input.trigger("change");b.inline?this._updateDatepicker(b):(this._hideDatepicker(),this._lastInput=b.input[0],"object"!=typeof b.input[0]&&b.input.focus(),this._lastInput=
null)},_updateAlternate:function(c){var a,f,b,e=this._get(c,"altField");e&&(a=this._get(c,"altFormat")||this._get(c,"dateFormat"),f=this._getDate(c),b=this.formatDate(a,f,this._getFormatConfig(c)),d(e).each(function(){d(this).val(b)}))},noWeekends:function(c){c=c.getDay();return[0<c&&6>c,""]},iso8601Week:function(c){var a;c=new Date(c.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),a=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((a-c)/864E5)/7)+1},parseDate:function(c,a,
f){if(null==c||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var b,e,g,k,l=0,m=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff,m="string"!=typeof m?m:(new Date).getFullYear()%100+parseInt(m,10),r=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,v=(f?f.dayNames:null)||this._defaults.dayNames,q=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort;f=(f?f.monthNames:null)||this._defaults.monthNames;var y=-1,z=-1,n=-1,t=-1,C=!1,w=function(a){a=
c.length>b+1&&c.charAt(b+1)===a;return a&&b++,a},M=function(c){var f=w(c),f="@"===c?14:"!"===c?20:"y"===c&&f?4:"o"===c?3:2;c=RegExp("^\\d{"+("y"===c?f:1)+","+f+"}");c=a.substring(l).match(c);if(!c)throw"Missing number at position "+l;return l+=c[0].length,parseInt(c[0],10)},N=function(c,f,b){var e=-1;c=d.map(w(c)?b:f,function(c,a){return[[a,c]]}).sort(function(c,a){return-(c[1].length-a[1].length)});if(d.each(c,function(c,f){var b=f[1];return a.substr(l,b.length).toLowerCase()===b.toLowerCase()?(e=
f[0],l+=b.length,!1):void 0}),-1!==e)return e+1;throw"Unknown name at position "+l;},E=function(){if(a.charAt(l)!==c.charAt(b))throw"Unexpected literal at position "+l;l++};for(b=0;c.length>b;b++)if(C)"'"!==c.charAt(b)||w("'")?E():C=!1;else switch(c.charAt(b)){case "d":n=M("d");break;case "D":N("D",r,v);break;case "o":t=M("o");break;case "m":z=M("m");break;case "M":z=N("M",q,f);break;case "y":y=M("y");break;case "@":k=new Date(M("@"));y=k.getFullYear();z=k.getMonth()+1;n=k.getDate();break;case "!":k=
new Date((M("!")-this._ticksTo1970)/1E4);y=k.getFullYear();z=k.getMonth()+1;n=k.getDate();break;case "'":w("'")?E():C=!0;break;default:E()}if(a.length>l&&(g=a.substr(l),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===y?y=(new Date).getFullYear():100>y&&(y+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m>=y?0:-100)),-1<t)for(z=1,n=t;!(e=this._getDaysInMonth(y,z-1),e>=n);)z++,n-=e;if(k=this._daylightSavingAdjust(new Date(y,z-1,n)),k.getFullYear()!==y||k.getMonth()+
1!==z||k.getDate()!==n)throw"Invalid date";return k},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(c,a,f){if(!a)return"";var b,d=(f?f.dayNamesShort:null)||this._defaults.dayNamesShort,e=(f?f.dayNames:null)||this._defaults.dayNames,g=(f?
f.monthNamesShort:null)||this._defaults.monthNamesShort;f=(f?f.monthNames:null)||this._defaults.monthNames;var k=function(a){a=c.length>b+1&&c.charAt(b+1)===a;return a&&b++,a},l=function(c,a,f){a=""+a;if(k(c))for(;f>a.length;)a="0"+a;return a},m=function(c,a,f,h){return k(c)?h[a]:f[a]},r="",v=!1;if(a)for(b=0;c.length>b;b++)if(v)"'"!==c.charAt(b)||k("'")?r+=c.charAt(b):v=!1;else switch(c.charAt(b)){case "d":r+=l("d",a.getDate(),2);break;case "D":r+=m("D",a.getDay(),d,e);break;case "o":r+=l("o",Math.round(((new Date(a.getFullYear(),
a.getMonth(),a.getDate())).getTime()-(new Date(a.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":r+=l("m",a.getMonth()+1,2);break;case "M":r+=m("M",a.getMonth(),g,f);break;case "y":r+=k("y")?a.getFullYear():(10>a.getYear()%100?"0":"")+a.getYear()%100;break;case "@":r+=a.getTime();break;case "!":r+=1E4*a.getTime()+this._ticksTo1970;break;case "'":k("'")?r+="'":v=!0;break;default:r+=c.charAt(b)}return r},_possibleChars:function(c){var a,f="",b=!1,d=function(f){f=c.length>a+1&&c.charAt(a+1)===
f;return f&&a++,f};for(a=0;c.length>a;a++)if(b)"'"!==c.charAt(a)||d("'")?f+=c.charAt(a):b=!1;else switch(c.charAt(a)){case "d":case "m":case "y":case "@":f+="0123456789";break;case "D":case "M":return null;case "'":d("'")?f+="'":b=!0;break;default:f+=c.charAt(a)}return f},_get:function(c,a){return void 0!==c.settings[a]?c.settings[a]:this._defaults[a]},_setDateFromField:function(c,a){if(c.input.val()!==c.lastVal){var f=this._get(c,"dateFormat"),b=c.lastVal=c.input?c.input.val():null,d=this._getDefaultDate(c),
e=d,g=this._getFormatConfig(c);try{e=this.parseDate(f,b,g)||d}catch(k){b=a?"":b}c.selectedDay=e.getDate();c.drawMonth=c.selectedMonth=e.getMonth();c.drawYear=c.selectedYear=e.getFullYear();c.currentDay=b?e.getDate():0;c.currentMonth=b?e.getMonth():0;c.currentYear=b?e.getFullYear():0;this._adjustInstDate(c)}},_getDefaultDate:function(c){return this._restrictMinMax(c,this._determineDate(c,this._get(c,"defaultDate"),new Date))},_determineDate:function(c,a,f){var b=function(c){var a=new Date;return a.setDate(a.getDate()+
c),a},e=function(a){try{return d.datepicker.parseDate(d.datepicker._get(c,"dateFormat"),a,d.datepicker._getFormatConfig(c))}catch(f){}for(var h=(a.toLowerCase().match(/^c/)?d.datepicker._getDate(c):null)||new Date,b=h.getFullYear(),e=h.getMonth(),h=h.getDate(),g=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=g.exec(a);u;){switch(u[2]||"d"){case "d":case "D":h+=parseInt(u[1],10);break;case "w":case "W":h+=7*parseInt(u[1],10);break;case "m":case "M":e+=parseInt(u[1],10);h=Math.min(h,d.datepicker._getDaysInMonth(b,
e));break;case "y":case "Y":b+=parseInt(u[1],10),h=Math.min(h,d.datepicker._getDaysInMonth(b,e))}u=g.exec(a)}return new Date(b,e,h)};a=null==a||""===a?f:"string"==typeof a?e(a):"number"==typeof a?isNaN(a)?f:b(a):new Date(a.getTime());return a=a&&"Invalid Date"==""+a?f:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(c){return c?(c.setHours(12<c.getHours()?c.getHours()+2:0),c):null},_setDate:function(c,a,f){var b=
!a,d=c.selectedMonth,e=c.selectedYear;a=this._restrictMinMax(c,this._determineDate(c,a,new Date));c.selectedDay=c.currentDay=a.getDate();c.drawMonth=c.selectedMonth=c.currentMonth=a.getMonth();c.drawYear=c.selectedYear=c.currentYear=a.getFullYear();d===c.selectedMonth&&e===c.selectedYear||f||this._notifyChange(c);this._adjustInstDate(c);c.input&&c.input.val(b?"":this._formatDate(c))},_getDate:function(c){return!c.currentYear||c.input&&""===c.input.val()?null:this._daylightSavingAdjust(new Date(c.currentYear,
c.currentMonth,c.currentDay))},_attachHandlers:function(c){var a=this._get(c,"stepMonths"),f="#"+c.id.replace(/\\\\/g,"\\");c.dpDiv.find("[data-handler]").map(function(){d(this).bind(this.getAttribute("data-event"),{prev:function(){d.datepicker._adjustDate(f,-a,"M")},next:function(){d.datepicker._adjustDate(f,+a,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(f)},selectDay:function(){return d.datepicker._selectDay(f,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this),!1},selectMonth:function(){return d.datepicker._selectMonthYear(f,this,"M"),!1},selectYear:function(){return d.datepicker._selectMonthYear(f,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(c){var a,f,b,d,e,g,k,l,m,r,v,q,y,z,n,t,w,M,N,E,Q,L,fa,aa,ha,ga,U,W=new Date,W=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),Y=this._get(c,"isRTL");g=this._get(c,"showButtonPanel");b=this._get(c,"hideIfNoPrevNext");e=this._get(c,"navigationAsDateFormat");
var ia=this._getNumberOfMonths(c),T=this._get(c,"showCurrentAtPos");d=this._get(c,"stepMonths");var oa=1!==ia[0]||1!==ia[1],ya=this._daylightSavingAdjust(c.currentDay?new Date(c.currentYear,c.currentMonth,c.currentDay):new Date(9999,9,9)),ca=this._getMinMaxDate(c,"min"),A=this._getMinMaxDate(c,"max"),T=c.drawMonth-T,p=c.drawYear;if(0>T&&(T+=12,p--),A)for(a=this._daylightSavingAdjust(new Date(A.getFullYear(),A.getMonth()-ia[0]*ia[1]+1,A.getDate())),a=ca&&ca>a?ca:a;this._daylightSavingAdjust(new Date(p,
T,1))>a;)T--,0>T&&(T=11,p--);c.drawMonth=T;c.drawYear=p;a=this._get(c,"prevText");a=e?this.formatDate(a,this._daylightSavingAdjust(new Date(p,T-d,1)),this._getFormatConfig(c)):a;a=this._canAdjustMonth(c,-1,p,T)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+a+"</span></a>":b?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+
(Y?"e":"w")+"'>"+a+"</span></a>";f=this._get(c,"nextText");f=e?this.formatDate(f,this._daylightSavingAdjust(new Date(p,T+d,1)),this._getFormatConfig(c)):f;b=this._canAdjustMonth(c,1,p,T)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+f+"</span></a>":b?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+f+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":
"e")+"'>"+f+"</span></a>";d=this._get(c,"currentText");f=this._get(c,"gotoCurrent")&&c.currentDay?ya:W;d=e?this.formatDate(d,f,this._getFormatConfig(c)):d;e=c.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(c,"closeText")+"</button>";g=g?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?e:"")+(this._isInRange(c,f)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
d+"</button>":"")+(Y?"":e)+"</div>":"";e=parseInt(this._get(c,"firstDay"),10);e=isNaN(e)?0:e;d=this._get(c,"showWeek");f=this._get(c,"dayNames");k=this._get(c,"dayNamesMin");l=this._get(c,"monthNames");m=this._get(c,"monthNamesShort");r=this._get(c,"beforeShowDay");v=this._get(c,"showOtherMonths");q=this._get(c,"selectOtherMonths");y=this._getDefaultDate(c);z="";for(t=0;ia[0]>t;t++){w="";this.maxRows=4;for(M=0;ia[1]>M;M++){if(N=this._daylightSavingAdjust(new Date(p,T,c.selectedDay)),n=" ui-corner-all",
E="",oa){if(E+="<div class='ui-datepicker-group",1<ia[1])switch(M){case 0:E+=" ui-datepicker-group-first";n=" ui-corner-"+(Y?"right":"left");break;case ia[1]-1:E+=" ui-datepicker-group-last";n=" ui-corner-"+(Y?"left":"right");break;default:E+=" ui-datepicker-group-middle",n=""}E+="'>"}E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+n+"'>"+(/all|left/.test(n)&&0===t?Y?b:a:"")+(/all|right/.test(n)&&0===t?Y?a:b:"")+this._generateMonthYearHeader(c,T,p,ca,A,0<t||0<M,l,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
Q=d?"<th class='ui-datepicker-week-col'>"+this._get(c,"weekHeader")+"</th>":"";for(n=0;7>n;n++)L=(n+e)%7,Q+="<th scope='col'"+(5<=(n+e+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+f[L]+"'>"+k[L]+"</span></th>";E+=Q+"</tr></thead><tbody>";Q=this._getDaysInMonth(p,T);p===c.selectedYear&&T===c.selectedMonth&&(c.selectedDay=Math.min(c.selectedDay,Q));n=(this._getFirstDayOfMonth(p,T)-e+7)%7;Q=Math.ceil((n+Q)/7);this.maxRows=Q=oa?this.maxRows>Q?this.maxRows:Q:Q;L=this._daylightSavingAdjust(new Date(p,
T,1-n));for(fa=0;Q>fa;fa++){E+="<tr>";aa=d?"<td class='ui-datepicker-week-col'>"+this._get(c,"calculateWeek")(L)+"</td>":"";for(n=0;7>n;n++)ha=r?r.apply(c.input?c.input[0]:null,[L]):[!0,""],U=(ga=L.getMonth()!==T)&&!q||!ha[0]||ca&&ca>L||A&&L>A,aa+="<td class='"+(5<=(n+e+6)%7?" ui-datepicker-week-end":"")+(ga?" ui-datepicker-other-month":"")+(L.getTime()===N.getTime()&&T===c.selectedMonth&&c._keyEvent||y.getTime()===L.getTime()&&y.getTime()===N.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+
" ui-state-disabled":"")+(ga&&!v?"":" "+ha[1]+(L.getTime()===ya.getTime()?" "+this._currentClass:"")+(L.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(ga&&!v||!ha[2]?"":" title='"+ha[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(ga&&!v?"&#xa0;":U?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===W.getTime()?" ui-state-highlight":"")+(L.getTime()===
ya.getTime()?" ui-state-active":"")+(ga?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);E+=aa+"</tr>"}T++;11<T&&(T=0,p++);E+="</tbody></table>"+(oa?"</div>"+(0<ia[0]&&M===ia[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");w+=E}z+=w}return z+=g,c._keyEvent=!1,z},_generateMonthYearHeader:function(c,a,f,b,d,e,g,k){var l,m,r,v=this._get(c,"changeMonth"),q=this._get(c,"changeYear"),y=this._get(c,"showMonthAfterYear"),
n="<div class='ui-datepicker-title'>",z="";if(e||!v)z+="<span class='ui-datepicker-month'>"+g[a]+"</span>";else{g=b&&b.getFullYear()===f;l=d&&d.getFullYear()===f;z+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(m=0;12>m;m++)(!g||m>=b.getMonth())&&(!l||d.getMonth()>=m)&&(z+="<option value='"+m+"'"+(m===a?" selected='selected'":"")+">"+k[m]+"</option>");z+="</select>"}if(y||(n+=z+(!e&&v&&q?"":"&#xa0;")),!c.yearshtml)if(c.yearshtml="",e||!q)n+="<span class='ui-datepicker-year'>"+
f+"</span>";else{k=this._get(c,"yearRange").split(":");r=(new Date).getFullYear();g=function(c){c=c.match(/c[+\-].*/)?f+parseInt(c.substring(1),10):c.match(/[+\-].*/)?r+parseInt(c,10):parseInt(c,10);return isNaN(c)?r:c};a=g(k[0]);k=Math.max(a,g(k[1]||""));a=b?Math.max(a,b.getFullYear()):a;k=d?Math.min(k,d.getFullYear()):k;for(c.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";k>=a;a++)c.yearshtml+="<option value='"+a+"'"+(a===f?" selected='selected'":
"")+">"+a+"</option>";c.yearshtml+="</select>";n+=c.yearshtml;c.yearshtml=null}return n+=this._get(c,"yearSuffix"),y&&(n+=(!e&&v&&q?"":"&#xa0;")+z),n+="</div>"},_adjustInstDate:function(c,a,f){var b=c.drawYear+("Y"===f?a:0),d=c.drawMonth+("M"===f?a:0);a=Math.min(c.selectedDay,this._getDaysInMonth(b,d))+("D"===f?a:0);b=this._restrictMinMax(c,this._daylightSavingAdjust(new Date(b,d,a)));c.selectedDay=b.getDate();c.drawMonth=c.selectedMonth=b.getMonth();c.drawYear=c.selectedYear=b.getFullYear();"M"!==
f&&"Y"!==f||this._notifyChange(c)},_restrictMinMax:function(c,a){var f=this._getMinMaxDate(c,"min"),b=this._getMinMaxDate(c,"max"),f=f&&f>a?f:a;return b&&f>b?b:f},_notifyChange:function(c){var a=this._get(c,"onChangeMonthYear");a&&a.apply(c.input?c.input[0]:null,[c.selectedYear,c.selectedMonth+1,c])},_getNumberOfMonths:function(c){c=this._get(c,"numberOfMonths");return null==c?[1,1]:"number"==typeof c?[1,c]:c},_getMinMaxDate:function(c,a){return this._determineDate(c,this._get(c,a+"Date"),null)},
_getDaysInMonth:function(c,a){return 32-this._daylightSavingAdjust(new Date(c,a,32)).getDate()},_getFirstDayOfMonth:function(c,a){return(new Date(c,a,1)).getDay()},_canAdjustMonth:function(c,a,f,b){var d=this._getNumberOfMonths(c);f=this._daylightSavingAdjust(new Date(f,b+(0>a?a:d[0]*d[1]),1));return 0>a&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(c,f)},_isInRange:function(c,a){var f,b,d=this._getMinMaxDate(c,"min"),e=this._getMinMaxDate(c,"max"),g=null,k=null,l=
this._get(c,"yearRange");return l&&(f=l.split(":"),b=(new Date).getFullYear(),g=parseInt(f[0],10),k=parseInt(f[1],10),f[0].match(/[+\-].*/)&&(g+=b),f[1].match(/[+\-].*/)&&(k+=b)),(!d||a.getTime()>=d.getTime())&&(!e||a.getTime()<=e.getTime())&&(!g||a.getFullYear()>=g)&&(!k||k>=a.getFullYear())},_getFormatConfig:function(c){var a=this._get(c,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(c,"dayNamesShort"),dayNames:this._get(c,
"dayNames"),monthNamesShort:this._get(c,"monthNamesShort"),monthNames:this._get(c,"monthNames")}},_formatDate:function(c,a,f,b){a||(c.currentDay=c.selectedDay,c.currentMonth=c.selectedMonth,c.currentYear=c.selectedYear);a=a?"object"==typeof a?a:this._daylightSavingAdjust(new Date(b,f,a)):this._daylightSavingAdjust(new Date(c.currentYear,c.currentMonth,c.currentDay));return this.formatDate(this._get(c,"dateFormat"),a,this._getFormatConfig(c))}});d.fn.datepicker=function(c){if(!this.length)return this;
d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick),d.datepicker.initialized=!0);0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof c||"isDisabled"!==c&&"getDate"!==c&&"widget"!==c?"option"===c&&2===arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof c?d.datepicker["_"+
c+"Datepicker"].apply(d.datepicker,[this].concat(a)):d.datepicker._attachDatepicker(this,c)}):d.datepicker["_"+c+"Datepicker"].apply(d.datepicker,[this[0]].concat(a))};d.datepicker=new e;d.datepicker.initialized=!1;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.11.3";d.datepicker;d.widget("ui.draggable",d.ui.mouse,{version:"1.11.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,
helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},
_setOption:function(c,a){this._super(c,a);"handle"===c&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(c){var a=this.options;return this._blurActiveElement(c),this.helper||a.disabled||0<d(c.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(c),this.handle?(this._blockFrames(!0===a.iframeFix?"iframe":a.iframeFix),!0):!1)},_blockFrames:function(c){this.iframeBlocks=this.document.find(c).map(function(){var c=d(this);return d("<div>").css("position","absolute").appendTo(c.parent()).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()).offset(c.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var a=this.document[0];
if(this.handleElement.is(c.target))try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&d(a.activeElement).blur()}catch(f){}},_mouseStart:function(c){var a=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),
this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===d(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(c),this.originalPosition=this.position=this._generatePosition(c,!1),this.originalPageX=c.pageX,this.originalPageY=c.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),d.ui.ddmanager&&!a.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,
c),this._normalizeRightBottom(),this._mouseDrag(c,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,c),!0)},_refreshOffsets:function(c){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:c.pageX-this.offset.left,top:c.pageY-this.offset.top}},_mouseDrag:function(c,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=
this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var f=this._uiHash();if(!1===this._trigger("drag",c,f))return this._mouseUp({}),!1;this.position=f.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",d.ui.ddmanager&&d.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var a=this,f=!1;return d.ui.ddmanager&&!this.options.dropBehaviour&&(f=d.ui.ddmanager.drop(this,c)),this.dropped&&(f=this.dropped,this.dropped=
!1),"invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==a._trigger("stop",c)&&a._clear()}):!1!==this._trigger("stop",c)&&this._clear(),!1},_mouseUp:function(c){return this._unblockFrames(),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,c),this.handleElement.is(c.target)&&this.element.focus(),
d.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){return this.options.handle?!!d(c.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},
_createHelper:function(c){var a=this.options,f=d.isFunction(a.helper);c=f?d(a.helper.apply(this.element[0],[c])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),f&&c[0]===this.element[0]&&this._setPositionRelative(),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||
(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(c){"string"==typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_isRootNode:function(c){return/(html|body)/i.test(c.tagName)||
c===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(c={top:0,left:0}),{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==
this.cssPosition)return{top:0,left:0};var c=this.element.position(),a=this._isRootNode(this.scrollParent[0]);return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+(a?0:this.scrollParent.scrollTop()),left:c.left-(parseInt(this.helper.css("left"),10)||0)+(a?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,a,f,b=this.options,e=this.document[0];return this.relativeContainer=null,b.containment?"window"===b.containment?(this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-
this.margins.left,d(window).scrollTop()+(d(window).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===b.containment?(this.containment=[0,0,d(e).width()-this.helperProportions.width-this.margins.left,(d(e).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):b.containment.constructor===Array?(this.containment=b.containment,void 0):("parent"===b.containment&&(b.containment=this.helper[0].parentNode),
a=d(b.containment),f=a[0],f&&(c=/(scroll|auto)/.test(a.css("overflow")),this.containment=[(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(c?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(f.scrollHeight,f.offsetHeight):
f.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=a),void 0):(this.containment=null,void 0)},_convertPositionTo:function(c,a){a||(a=this.position);var f="absolute"===c?1:-1,b=this._isRootNode(this.scrollParent[0]);return{top:a.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.offset.scroll.top:b?0:this.offset.scroll.top)*
f,left:a.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.offset.scroll.left:b?0:this.offset.scroll.left)*f}},_generatePosition:function(c,a){var f,b,d,e,g=this.options,k=this._isRootNode(this.scrollParent[0]),l=c.pageX,m=c.pageY;return k&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),a&&(this.containment&&(this.relativeContainer?(b=this.relativeContainer.offset(),f=[this.containment[0]+
b.left,this.containment[1]+b.top,this.containment[2]+b.left,this.containment[3]+b.top]):f=this.containment,c.pageX-this.offset.click.left<f[0]&&(l=f[0]+this.offset.click.left),c.pageY-this.offset.click.top<f[1]&&(m=f[1]+this.offset.click.top),c.pageX-this.offset.click.left>f[2]&&(l=f[2]+this.offset.click.left),c.pageY-this.offset.click.top>f[3]&&(m=f[3]+this.offset.click.top)),g.grid&&(d=g.grid[1]?this.originalPageY+Math.round((m-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,m=f?d-this.offset.click.top>=
f[1]||d-this.offset.click.top>f[3]?d:d-this.offset.click.top>=f[1]?d-g.grid[1]:d+g.grid[1]:d,e=g.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,l=f?e-this.offset.click.left>=f[0]||e-this.offset.click.left>f[2]?e:e-this.offset.click.left>=f[0]?e-g.grid[0]:e+g.grid[0]:e),"y"===g.axis&&(l=this.originalPageX),"x"===g.axis&&(m=this.originalPageY)),{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?
-this.offset.scroll.top:k?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:k?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&
"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto"));"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(c,a,f){return f=f||this._uiHash(),d.ui.plugin.call(this,c,[a,f,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),f.offset=this.positionAbs),d.Widget.prototype._trigger.call(this,c,a,f)},plugins:{},
_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(c,a,f){var b=d.extend({},a,{item:f.element});f.sortables=[];d(f.options.connectToSortable).each(function(){var a=d(this).sortable("instance");a&&!a.options.disabled&&(f.sortables.push(a),a.refreshPositions(),a._trigger("activate",c,b))})},stop:function(c,a,f){var b=d.extend({},a,{item:f.element});f.cancelHelperRemoval=
!1;d.each(f.sortables,function(){this.isOver?(this.isOver=0,f.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(c),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",c,b))})},drag:function(c,a,f){d.each(f.sortables,function(){var b=!1,e=this;e.positionAbs=f.positionAbs;e.helperProportions=f.helperProportions;e.offset.click=
f.offset.click;e._intersectsWith(e.containerCache)&&(b=!0,d.each(f.sortables,function(){return this.positionAbs=f.positionAbs,this.helperProportions=f.helperProportions,this.offset.click=f.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&d.contains(e.element[0],this.element[0])&&(b=!1),b}));b?(e.isOver||(e.isOver=1,e.currentItem=a.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return a.helper[0]},c.target=e.currentItem[0],
e._mouseCapture(c,!0),e._mouseStart(c,!0,!0),e.offset.click.top=f.offset.click.top,e.offset.click.left=f.offset.click.left,e.offset.parent.left-=f.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=f.offset.parent.top-e.offset.parent.top,f._trigger("toSortable",c),f.dropped=e.element,d.each(f.sortables,function(){this.refreshPositions()}),f.currentItem=f.element,e.fromOutside=f),e.currentItem&&(e._mouseDrag(c),a.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=
e.options.revert,e.options.revert=!1,e._trigger("out",c,e._uiHash(e)),e._mouseStop(c,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),f._refreshOffsets(c),a.position=f._generatePosition(c,!0),f._trigger("fromSortable",c),f.dropped=!1,d.each(f.sortables,function(){this.refreshPositions()}))})}});d.ui.plugin.add("draggable","cursor",{start:function(c,a,f){c=d("body");f=f.options;c.css("cursor")&&(f._cursor=c.css("cursor"));c.css("cursor",
f.cursor)},stop:function(c,a,f){c=f.options;c._cursor&&d("body").css("cursor",c._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(c,a,f){c=d(a.helper);f=f.options;c.css("opacity")&&(f._opacity=c.css("opacity"));c.css("opacity",f.opacity)},stop:function(c,a,f){c=f.options;c._opacity&&d(a.helper).css("opacity",c._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(c,a,f){f.scrollParentNotHidden||(f.scrollParentNotHidden=f.helper.scrollParent(!1));f.scrollParentNotHidden[0]!==
f.document[0]&&"HTML"!==f.scrollParentNotHidden[0].tagName&&(f.overflowOffset=f.scrollParentNotHidden.offset())},drag:function(c,a,f){a=f.options;var b=!1,e=f.scrollParentNotHidden[0],g=f.document[0];e!==g&&"HTML"!==e.tagName?(a.axis&&"x"===a.axis||(f.overflowOffset.top+e.offsetHeight-c.pageY<a.scrollSensitivity?e.scrollTop=b=e.scrollTop+a.scrollSpeed:c.pageY-f.overflowOffset.top<a.scrollSensitivity&&(e.scrollTop=b=e.scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(f.overflowOffset.left+e.offsetWidth-
c.pageX<a.scrollSensitivity?e.scrollLeft=b=e.scrollLeft+a.scrollSpeed:c.pageX-f.overflowOffset.left<a.scrollSensitivity&&(e.scrollLeft=b=e.scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(c.pageY-d(g).scrollTop()<a.scrollSensitivity?b=d(g).scrollTop(d(g).scrollTop()-a.scrollSpeed):d(window).height()-(c.pageY-d(g).scrollTop())<a.scrollSensitivity&&(b=d(g).scrollTop(d(g).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(c.pageX-d(g).scrollLeft()<a.scrollSensitivity?b=d(g).scrollLeft(d(g).scrollLeft()-
a.scrollSpeed):d(window).width()-(c.pageX-d(g).scrollLeft())<a.scrollSensitivity&&(b=d(g).scrollLeft(d(g).scrollLeft()+a.scrollSpeed))));!1!==b&&d.ui.ddmanager&&!a.dropBehaviour&&d.ui.ddmanager.prepareOffsets(f,c)}});d.ui.plugin.add("draggable","snap",{start:function(c,a,f){c=f.options;f.snapElements=[];d(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=d(this),a=c.offset();this!==f.element[0]&&f.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),
top:a.top,left:a.left})})},drag:function(c,a,f){var b,e,g,k,l,m,r,v,q,y,n=f.options,z=n.snapTolerance,t=a.offset.left,C=t+f.helperProportions.width,w=a.offset.top,M=w+f.helperProportions.height;for(q=f.snapElements.length-1;0<=q;q--)l=f.snapElements[q].left-f.margins.left,m=l+f.snapElements[q].width,r=f.snapElements[q].top-f.margins.top,v=r+f.snapElements[q].height,l-z>C||t>m+z||r-z>M||w>v+z||!d.contains(f.snapElements[q].item.ownerDocument,f.snapElements[q].item)?(f.snapElements[q].snapping&&f.options.snap.release&&
f.options.snap.release.call(f.element,c,d.extend(f._uiHash(),{snapItem:f.snapElements[q].item})),f.snapElements[q].snapping=!1):("inner"!==n.snapMode&&(b=z>=Math.abs(r-M),e=z>=Math.abs(v-w),g=z>=Math.abs(l-C),k=z>=Math.abs(m-t),b&&(a.position.top=f._convertPositionTo("relative",{top:r-f.helperProportions.height,left:0}).top),e&&(a.position.top=f._convertPositionTo("relative",{top:v,left:0}).top),g&&(a.position.left=f._convertPositionTo("relative",{top:0,left:l-f.helperProportions.width}).left),k&&
(a.position.left=f._convertPositionTo("relative",{top:0,left:m}).left)),y=b||e||g||k,"outer"!==n.snapMode&&(b=z>=Math.abs(r-w),e=z>=Math.abs(v-M),g=z>=Math.abs(l-t),k=z>=Math.abs(m-C),b&&(a.position.top=f._convertPositionTo("relative",{top:r,left:0}).top),e&&(a.position.top=f._convertPositionTo("relative",{top:v-f.helperProportions.height,left:0}).top),g&&(a.position.left=f._convertPositionTo("relative",{top:0,left:l}).left),k&&(a.position.left=f._convertPositionTo("relative",{top:0,left:m-f.helperProportions.width}).left)),
!f.snapElements[q].snapping&&(b||e||g||k||y)&&f.options.snap.snap&&f.options.snap.snap.call(f.element,c,d.extend(f._uiHash(),{snapItem:f.snapElements[q].item})),f.snapElements[q].snapping=b||e||g||k||y)}});d.ui.plugin.add("draggable","stack",{start:function(c,a,f){var b;c=d.makeArray(d(f.options.stack)).sort(function(c,a){return(parseInt(d(c).css("zIndex"),10)||0)-(parseInt(d(a).css("zIndex"),10)||0)});c.length&&(b=parseInt(d(c[0]).css("zIndex"),10)||0,d(c).each(function(c){d(this).css("zIndex",b+
c)}),this.css("zIndex",b+c.length))}});d.ui.plugin.add("draggable","zIndex",{start:function(c,a,f){c=d(a.helper);f=f.options;c.css("zIndex")&&(f._zIndex=c.css("zIndex"));c.css("zIndex",f.zIndex)},stop:function(c,a,f){c=f.options;c._zIndex&&d(a.helper).css("zIndex",c._zIndex)}});d.ui.draggable;d.widget("ui.resizable",d.ui.mouse,{version:"1.11.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,
grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(c){return parseInt(c,10)||0},_isNumber:function(c){return!isNaN(parseInt(c,10))},_hasScroll:function(c,a){if("hidden"===d(c).css("overflow"))return!1;var f=a&&"left"===a?"scrollLeft":"scrollTop",b=!1;return 0<c[f]?!0:(c[f]=1,b=0<c[f],c[f]=0,b)},_create:function(){var c,a,f,b,e,g=this,k=this.options;if(this.element.addClass("ui-resizable"),d.extend(this,
{_aspectRatio:!!k.aspectRatio,aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(d("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),
this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize",
"none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=k.handles||(d(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===
this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),c=this.handles.split(","),this.handles={},a=0;c.length>a;a++)f=d.trim(c[a]),e="ui-resizable-"+f,b=d("<div class='ui-resizable-handle "+e+"'></div>"),b.css({zIndex:k.zIndex}),"se"===f&&b.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(b);this._renderAxis=function(c){var a,f,b,h;c=c||this.element;for(a in this.handles)this.handles[a].constructor===String&&(this.handles[a]=this.element.children(this.handles[a]).first().show()),
this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(f=d(this.handles[a],this.element),h=/sw|ne|nw|se|n|s/.test(a)?f.outerHeight():f.outerWidth(),b=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),c.css(b,h),this._proportionallyResize()),d(this.handles[a]).length};this._renderAxis(this.element);this._handles=d(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){g.resizing||
(this.className&&(b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=b&&b[1]?b[1]:"se")});k.autoHide&&(this._handles.hide(),d(this.element).addClass("ui-resizable-autohide").mouseenter(function(){k.disabled||(d(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){k.disabled||g.resizing||(d(this).addClass("ui-resizable-autohide"),g._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var c,a=function(c){d(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
return this.elementIsWrapper&&(a(this.element),c=this.element,this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(c){var a,f,b=!1;for(a in this.handles)f=d(this.handles[a])[0],(f===c.target||d.contains(f,c.target))&&(b=!0);return!this.options.disabled&&b},_mouseStart:function(c){var a,
f,b,e=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),a=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),e.containment&&(a+=d(e.containment).scrollLeft()||0,f+=d(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),
height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:a,top:f},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1,b=d(".ui-resizable-"+this.axis).css("cursor"),d("body").css("cursor","auto"===b?this.axis+"-resize":b),g.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(c){var a,
f,b=this.originalMousePosition,e=c.pageX-b.left||0,b=c.pageY-b.top||0,g=this._change[this.axis];return this._updatePrevProperties(),g?(a=g.apply(this,[c,e,b]),this._updateVirtualBoundaries(c.shiftKey),(this._aspectRatio||c.shiftKey)&&(a=this._updateRatio(a,c)),a=this._respectSize(a,c),this._updateCache(a),this._propagate("resize",c),f=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),d.isEmptyObject(f)||(this._updatePrevProperties(),this._trigger("resize",
c,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(c){this.resizing=!1;var a,f,b,e,g,k,l,m=this.options;return this._helper&&(a=this._proportionallyResizeElements,f=a.length&&/textarea/i.test(a[0].nodeName),b=f&&this._hasScroll(a[0],"left")?0:this.sizeDiff.height,e=f?0:this.sizeDiff.width,g={width:this.helper.width()-e,height:this.helper.height()-b},k=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,l=parseInt(this.element.css("top"),10)+(this.position.top-
this.originalPosition.top)||null,m.animate||this.element.css(d.extend(g,{top:l,left:k})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!m.animate&&this._proportionallyResize()),d("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",c),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},
_applyChanges:function(){var c={};return this.position.top!==this.prevPosition.top&&(c.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(c.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(c.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(c.height=this.size.height+"px"),this.helper.css(c),c},_updateVirtualBoundaries:function(c){var a,f,b,e,d;d=this.options;d={minWidth:this._isNumber(d.minWidth)?d.minWidth:0,maxWidth:this._isNumber(d.maxWidth)?
d.maxWidth:1/0,minHeight:this._isNumber(d.minHeight)?d.minHeight:0,maxHeight:this._isNumber(d.maxHeight)?d.maxHeight:1/0};(this._aspectRatio||c)&&(a=d.minHeight*this.aspectRatio,b=d.minWidth/this.aspectRatio,f=d.maxHeight*this.aspectRatio,e=d.maxWidth/this.aspectRatio,a>d.minWidth&&(d.minWidth=a),b>d.minHeight&&(d.minHeight=b),d.maxWidth>f&&(d.maxWidth=f),d.maxHeight>e&&(d.maxHeight=e));this._vBoundaries=d},_updateCache:function(c){this.offset=this.helper.offset();this._isNumber(c.left)&&(this.position.left=
c.left);this._isNumber(c.top)&&(this.position.top=c.top);this._isNumber(c.height)&&(this.size.height=c.height);this._isNumber(c.width)&&(this.size.width=c.width)},_updateRatio:function(c){var a=this.position,f=this.size,b=this.axis;return this._isNumber(c.height)?c.width=c.height*this.aspectRatio:this._isNumber(c.width)&&(c.height=c.width/this.aspectRatio),"sw"===b&&(c.left=a.left+(f.width-c.width),c.top=null),"nw"===b&&(c.top=a.top+(f.height-c.height),c.left=a.left+(f.width-c.width)),c},_respectSize:function(c){var a=
this._vBoundaries,f=this.axis,b=this._isNumber(c.width)&&a.maxWidth&&a.maxWidth<c.width,e=this._isNumber(c.height)&&a.maxHeight&&a.maxHeight<c.height,d=this._isNumber(c.width)&&a.minWidth&&a.minWidth>c.width,g=this._isNumber(c.height)&&a.minHeight&&a.minHeight>c.height,k=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,m=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);return d&&(c.width=a.minWidth),g&&(c.height=a.minHeight),b&&(c.width=a.maxWidth),e&&(c.height=a.maxHeight),
d&&m&&(c.left=k-a.minWidth),b&&m&&(c.left=k-a.maxWidth),g&&f&&(c.top=l-a.minHeight),e&&f&&(c.top=l-a.maxHeight),c.width||c.height||c.left||!c.top?c.width||c.height||c.top||!c.left||(c.left=null):c.top=null,c},_getPaddingPlusBorderDimensions:function(c){var a=0,f=[],b=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")];for(c=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];4>a;a++)f[a]=parseInt(b[a],10)||0,f[a]+=
parseInt(c[a],10)||0;return{height:f[0]+f[2],width:f[1]+f[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var c,a=0,f=this.helper||this.element;this._proportionallyResizeElements.length>a;a++)c=this._proportionallyResizeElements[a],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(c)),c.css({height:f.height()-this.outerDimensions.height||0,width:f.width()-this.outerDimensions.width||0})},_renderProxy:function(){var c=this.options;
this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||d("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(c,a){return{width:this.originalSize.width+a}},w:function(c,a){return{left:this.originalPosition.left+
a,width:this.originalSize.width-a}},n:function(a,b,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(a,b,f){return{height:this.originalSize.height+f}},se:function(a,b,f){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,f]))},sw:function(a,b,f){return d.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,f]))},ne:function(a,b,f){return d.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,
[a,b,f]))},nw:function(a,b,f){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,f]))}},_propagate:function(a,b){d.ui.plugin.call(this,a,[b,this.ui()]);"resize"!==a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});d.ui.plugin.add("resizable","animate",{stop:function(a){var b=
d(this).resizable("instance"),f=b.options,e=b._proportionallyResizeElements,g=e.length&&/textarea/i.test(e[0].nodeName),k=g&&b._hasScroll(e[0],"left")?0:b.sizeDiff.height,g={width:b.size.width-(g?0:b.sizeDiff.width),height:b.size.height-k},k=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,l=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate(d.extend(g,l&&k?{top:l,left:k}:{}),{duration:f.animateDuration,easing:f.animateEasing,
step:function(){var f={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),10)};e&&e.length&&d(e[0]).css({width:f.width,height:f.height});b._updateCache(f);b._propagate("resize",a)}})}});d.ui.plugin.add("resizable","containment",{start:function(){var a,b,f,e,g,k,l,m=d(this).resizable("instance"),r=m.element,v=m.options.containment;(r=v instanceof d?v.get(0):/parent/.test(v)?r.parent().get(0):
v)&&(m.containerElement=d(r),/document/.test(v)||v===document?(m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:d(document),left:0,top:0,width:d(document).width(),height:d(document).height()||document.body.parentNode.scrollHeight}):(a=d(r),b=[],d(["Top","Right","Left","Bottom"]).each(function(f,e){b[f]=m._num(a.css("padding"+e))}),m.containerOffset=a.offset(),m.containerPosition=a.position(),m.containerSize={height:a.innerHeight()-b[3],width:a.innerWidth()-
b[1]},f=m.containerOffset,e=m.containerSize.height,g=m.containerSize.width,k=m._hasScroll(r,"left")?r.scrollWidth:g,l=m._hasScroll(r)?r.scrollHeight:e,m.parentData={element:r,left:f.left,top:f.top,width:k,height:l}))},resize:function(a){var b,f,e,g=d(this).resizable("instance");b=g.options;f=g.containerOffset;e=g.position;a=g._aspectRatio||a.shiftKey;var k={top:0,left:0},l=g.containerElement,m=!0;l[0]!==document&&/static/.test(l.css("position"))&&(k=f);e.left<(g._helper?f.left:0)&&(g.size.width+=
g._helper?g.position.left-f.left:g.position.left-k.left,a&&(g.size.height=g.size.width/g.aspectRatio,m=!1),g.position.left=b.helper?f.left:0);e.top<(g._helper?f.top:0)&&(g.size.height+=g._helper?g.position.top-f.top:g.position.top,a&&(g.size.width=g.size.height*g.aspectRatio,m=!1),g.position.top=g._helper?f.top:0);b=g.containerElement.get(0)===g.element.parent().get(0);e=/relative|absolute/.test(g.containerElement.css("position"));b&&e?(g.offset.left=g.parentData.left+g.position.left,g.offset.top=
g.parentData.top+g.position.top):(g.offset.left=g.element.offset().left,g.offset.top=g.element.offset().top);b=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-k.left:g.offset.left-f.left));f=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-k.top:g.offset.top-f.top));b+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-b,a&&(g.size.height=g.size.width/g.aspectRatio,m=!1));f+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-f,a&&(g.size.width=g.size.height*
g.aspectRatio,m=!1));m||(g.position.left=g.prevPosition.left,g.position.top=g.prevPosition.top,g.size.width=g.prevSize.width,g.size.height=g.prevSize.height)},stop:function(){var a=d(this).resizable("instance"),b=a.options,f=a.containerOffset,e=a.containerPosition,g=a.containerElement,k=d(a.helper),l=k.offset(),m=k.outerWidth()-a.sizeDiff.width,k=k.outerHeight()-a.sizeDiff.height;a._helper&&!b.animate&&/relative/.test(g.css("position"))&&d(this).css({left:l.left-e.left-f.left,width:m,height:k});a._helper&&
!b.animate&&/static/.test(g.css("position"))&&d(this).css({left:l.left-e.left-f.left,width:m,height:k})}});d.ui.plugin.add("resizable","alsoResize",{start:function(){var a=d(this).resizable("instance").options,b=function(a){d(a).each(function(){var a=d(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?b(a.alsoResize):a.alsoResize.length?
(a.alsoResize=a.alsoResize[0],b(a.alsoResize)):d.each(a.alsoResize,function(a){b(a)})},resize:function(a,b){var f=d(this).resizable("instance"),e=f.options,g=f.originalSize,k=f.originalPosition,l={height:f.size.height-g.height||0,width:f.size.width-g.width||0,top:f.position.top-k.top||0,left:f.position.left-k.left||0},m=function(a,c){d(a).each(function(){var a=d(this),f=d(this).data("ui-resizable-alsoresize"),e={},g=c&&c.length?c:a.parents(b.originalElement[0]).length?["width","height"]:["width",
"height","top","left"];d.each(g,function(a,c){var b=(f[c]||0)+(l[c]||0);b&&0<=b&&(e[c]=b||null)});a.css(e)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?m(e.alsoResize):d.each(e.alsoResize,function(a,c){m(a,c)})},stop:function(){d(this).removeData("resizable-alsoresize")}});d.ui.plugin.add("resizable","ghost",{start:function(){var a=d(this).resizable("instance"),b=a.options,f=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,
width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:"");a.ghost.appendTo(a.helper)},resize:function(){var a=d(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=d(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});d.ui.plugin.add("resizable","grid",{resize:function(){var a,b=d(this).resizable("instance"),f=b.options,
e=b.size,g=b.originalSize,k=b.originalPosition,l=b.axis,m="number"==typeof f.grid?[f.grid,f.grid]:f.grid,r=m[0]||1,v=m[1]||1,q=Math.round((e.width-g.width)/r)*r,e=Math.round((e.height-g.height)/v)*v,y=g.width+q,n=g.height+e,z=f.maxWidth&&y>f.maxWidth,t=f.maxHeight&&n>f.maxHeight,w=f.minWidth&&f.minWidth>y,C=f.minHeight&&f.minHeight>n;f.grid=m;w&&(y+=r);C&&(n+=v);z&&(y-=r);t&&(n-=v);/^(se|s|e)$/.test(l)?(b.size.width=y,b.size.height=n):/^(ne)$/.test(l)?(b.size.width=y,b.size.height=n,b.position.top=
k.top-e):/^(sw)$/.test(l)?(b.size.width=y,b.size.height=n,b.position.left=k.left-q):((0>=n-v||0>=y-r)&&(a=b._getPaddingPlusBorderDimensions(this)),0<n-v?(b.size.height=n,b.position.top=k.top-e):(n=v-a.height,b.size.height=n,b.position.top=k.top+g.height-n),0<y-r?(b.size.width=y,b.position.left=k.left-q):(y=r-a.width,b.size.width=y,b.position.left=k.left+g.width-y))}});d.ui.resizable;d.widget("ui.dialog",{version:"1.11.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",
dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=d(this).css(a).offset().top;0>b&&d(this).css("top",a.top-b)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,
minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=
this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&d.fn.draggable&&this._makeDraggable();this.options.resizable&&d.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||
a.nodeType)?d(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},
disable:d.noop,enable:d.noop,close:function(a){var b,f=this;if(this._isOpen&&!1!==this._trigger("beforeClose",a)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(b=this.document[0].activeElement)&&"body"!==b.nodeName.toLowerCase()&&d(b).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){f._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},
_moveToTop:function(a,b){var f=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+d(this).css("z-index")}).get(),e=Math.max.apply(null,e);return e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),f=!0),f&&!b&&this._trigger("focus",a),f},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=d(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,
!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable();a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);
a.eq(0).focus()},_keepFocus:function(a){function b(){var a=this.document[0].activeElement;this.uiDialog[0]===a||d.contains(this.uiDialog[0],a)||this._focusTabbable()}a.preventDefault();b.call(this);this._delay(b)},_createWrapper:function(){this.uiDialog=d("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&
!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===d.ui.keyCode.ESCAPE)return a.preventDefault(),this.close(a),void 0;if(a.keyCode===d.ui.keyCode.TAB&&!a.isDefaultPrevented()){var b=this.uiDialog.find(":tabbable"),f=b.filter(":first"),e=b.filter(":last");a.target!==e[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==f[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||(this._delay(function(){e.focus()}),a.preventDefault()):(this._delay(function(){f.focus()}),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&
this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=d("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(a){d(a.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=d("<button type='button'></button>").button({label:this.options.closeText,
icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});a=d("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(a);this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=d("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");
this.uiButtonSet=d("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var a=this,b=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),d.isEmptyObject(b)||d.isArray(b)&&!b.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(d.each(b,function(b,h){var e,g;h=d.isFunction(h)?{click:h,text:b}:h;h=d.extend({type:"button"},h);e=h.click;h.click=function(){e.apply(a.element[0],arguments)};
g={icons:h.icons,text:h.showText};delete h.icons;delete h.showText;d("<button></button>",h).button(g).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function a(c){return{position:c.position,offset:c.offset}}var b=this,f=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,e){d(this).addClass("ui-dialog-dragging");
b._blockFrames();b._trigger("dragStart",f,a(e))},drag:function(f,e){b._trigger("drag",f,a(e))},stop:function(e,g){var k=g.offset.left-b.document.scrollLeft(),l=g.offset.top-b.document.scrollTop();f.position={my:"left top",at:"left"+(0<=k?"+":"")+k+" top"+(0<=l?"+":"")+l,of:b.window};d(this).removeClass("ui-dialog-dragging");b._unblockFrames();b._trigger("dragStop",e,a(g))}})},_makeResizable:function(){function a(c){return{originalPosition:c.originalPosition,originalSize:c.originalSize,position:c.position,
size:c.size}}var b=this,f=this.options,e=f.resizable,g=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:this._minHeight(),handles:e,start:function(f,e){d(this).addClass("ui-dialog-resizing");b._blockFrames();b._trigger("resizeStart",f,a(e))},resize:function(f,e){b._trigger("resize",f,a(e))},stop:function(e,
g){var k=b.uiDialog.offset(),u=k.left-b.document.scrollLeft(),k=k.top-b.document.scrollTop();f.height=b.uiDialog.height();f.width=b.uiDialog.width();f.position={my:"left top",at:"left"+(0<=u?"+":"")+u+" top"+(0<=k?"+":"")+k,of:b.window};d(this).removeClass("ui-dialog-resizing");b._unblockFrames();b._trigger("resizeStop",e,a(g))}}).css("position",g)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget();this._focusedElement=d(a.target)}})},_makeFocusTarget:function(){this._untrackInstance();
this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),b=d.inArray(this,a);-1!==b&&a.splice(b,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);
a||this.uiDialog.hide()},_setOptions:function(a){var b=this,f=!1,e={};d.each(a,function(a,c){b._setOption(a,c);a in b.sizeRelatedOptions&&(f=!0);a in b.resizableRelatedOptions&&(e[a]=c)});f&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var f,e,d=this.uiDialog;"dialogClass"===a&&d.removeClass(this.options.dialogClass).addClass(b);"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),
"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(f=d.is(":data(ui-draggable)"),f&&!b&&d.draggable("destroy"),!f&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(e=d.is(":data(ui-resizable)"),e&&!b&&d.resizable("destroy"),e&&"string"==typeof b&&d.resizable("option","handles",b),e||!1===b||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,
b,f,e=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});e.minWidth>e.width&&(e.width=e.minWidth);a=this.uiDialog.css({height:"auto",width:e.width}).outerHeight();b=Math.max(0,e.minHeight-a);f="number"==typeof e.maxHeight?Math.max(0,e.maxHeight-a):"none";"auto"===e.height?this.element.css({minHeight:b,maxHeight:f,height:"auto"}):this.element.height(Math.max(0,e.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",
this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=d(this);return d("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return d(a.target).closest(".ui-dialog").length?!0:!!d(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=
!0;this._delay(function(){a=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){a||this._allowInteraction(b)||(b.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=d("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=
this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});d.widget("ui.droppable",{version:"1.11.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,b=this.options,f=b.accept;this.isover=!1;
this.isout=!0;this.accept=d.isFunction(f)?f:function(a){return a.is(f)};this.proportions=function(){return arguments.length?(a=arguments[0],void 0):a?a:a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(b.scope);b.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){d.ui.ddmanager.droppables[a]=d.ui.ddmanager.droppables[a]||[];d.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;a.length>b;b++)a[b]===this&&a.splice(b,
1)},_destroy:function(){this._splice(d.ui.ddmanager.droppables[this.options.scope]);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,b){"accept"===a?this.accept=d.isFunction(b)?b:function(a){return a.is(b)}:"scope"===a&&(this._splice(d.ui.ddmanager.droppables[this.options.scope]),this._addToManager(b));this._super(a,b)},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);b&&this._trigger("activate",
a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=d.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(b)))},_out:function(a){var b=d.ui.ddmanager.current;
b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(b)))},_drop:function(a,b){var f=b||d.ui.ddmanager.current,e=!1;return f&&(f.currentItem||f.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=d(this).droppable("instance");return b.options.greedy&&!b.options.disabled&&
b.options.scope===f.options.scope&&b.accept.call(b.element[0],f.currentItem||f.element)&&d.ui.intersect(f,d.extend(b,{offset:b.element.offset()}),b.options.tolerance,a)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],f.currentItem||f.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(f)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||
a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});d.ui.intersect=function(){return function(a,b,f,e){if(!b.offset)return!1;var d=(a.positionAbs||a.position.absolute).left+a.margins.left,g=(a.positionAbs||a.position.absolute).top+a.margins.top,k=d+a.helperProportions.width,l=g+a.helperProportions.height,m=b.offset.left,r=b.offset.top,v=m+b.proportions().width,q=r+b.proportions().height;switch(f){case "fit":return d>=m&&v>=k&&g>=r&&q>=l;case "intersect":return d+a.helperProportions.width/
2>m&&v>k-a.helperProportions.width/2&&g+a.helperProportions.height/2>r&&q>l-a.helperProportions.height/2;case "pointer":a=e.pageY;f=b.proportions().height;if(r=a>=r&&r+f>a)e=e.pageX,b=b.proportions().width,r=e>=m&&m+b>e;return r;case "touch":return(g>=r&&q>=g||l>=r&&q>=l||r>g&&l>q)&&(d>=m&&v>=d||k>=m&&v>=k||m>d&&k>v);default:return!1}}}();d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var f,e,g=d.ui.ddmanager.droppables[a.options.scope]||[],k=b?b.type:null,l=(a.currentItem||
a.element).find(":data(ui-droppable)").addBack();f=0;a:for(;g.length>f;f++)if(!(g[f].options.disabled||a&&!g[f].accept.call(g[f].element[0],a.currentItem||a.element))){for(e=0;l.length>e;e++)if(l[e]===g[f].element[0]){g[f].proportions().height=0;continue a}g[f].visible="none"!==g[f].element.css("display");g[f].visible&&("mousedown"===k&&g[f]._activate.call(g[f],b),g[f].offset=g[f].element.offset(),g[f].proportions({width:g[f].element[0].offsetWidth,height:g[f].element[0].offsetHeight}))}},drop:function(a,
b){var f=!1;return d.each((d.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance,b)&&(f=this._drop.call(this,b)||f),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,b)))}),f},dragStart:function(a,b){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||
d.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,e,g,k=d.ui.intersect(a,this,this.options.tolerance,b);(k=!k&&this.isover?"isout":k&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,g=this.element.parents(":data(ui-droppable)").filter(function(){return d(this).droppable("instance").options.scope===
e}),g.length&&(f=d(g[0]).droppable("instance"),f.greedyChild="isover"===k)),f&&"isover"===k&&(f.isover=!1,f.isout=!0,f._out.call(f,b)),this[k]=!0,this["isout"===k?"isover":"isout"]=!1,this["isover"===k?"_over":"_out"].call(this,b),f&&"isout"===k&&(f.isout=!1,f.isover=!0,f._over.call(f,b)))}})},dragStop:function(a,b){a.element.parentsUntil("body").unbind("scroll.droppable");a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,b)}};d.ui.droppable;d.effects={effect:{}};(function(a,b){function f(a,
c,b){var f=v[c.type]||{};return null==a?b||!c.def?null:c.def:(a=f.floor?~~a:parseFloat(a),isNaN(a)?c.def:f.mod?(a+f.mod)%f.mod:0>a?0:a>f.max?f.max:a)}function e(f){var d=m(),k=d._rgba=[];return f=f.toLowerCase(),n(l,function(a,c){var e,g=c.re.exec(f),g=g&&c.parse(g),u=c.space||"rgba";return g?(e=d[u](g),d[r[u].cache]=e[r[u].cache],k=d._rgba=e._rgba,!1):b}),k.length?("0,0,0,0"===k.join()&&a.extend(k,g.transparent),d):g[f]}function d(a,c,b){return b=(b+1)%1,1>6*b?a+6*(c-a)*b:1>2*b?c:2>3*b?a+6*(c-a)*
(2/3-b):a}var g,k=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,
parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],m=a.Color=function(b,f,e,h){return new a.Color.fn.parse(b,f,e,h)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},
lightness:{idx:2,type:"percent"}}}},v={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},q=m.support={},y=a("<p>")[0],n=a.each;y.style.cssText="background-color:rgba(1,1,1,.5)";q.rgba=-1<y.style.backgroundColor.indexOf("rgba");n(r,function(a,c){c.cache="_"+a;c.props.alpha={idx:3,type:"percent",def:1}});m.fn=a.extend(m.prototype,{parse:function(d,k,l,x){if(d===b)return this._rgba=[null,null,null,null],this;(d.jquery||d.nodeType)&&(d=a(d).css(k),k=b);var v=this,q=a.type(d),y=this._rgba=
[];return k!==b&&(d=[d,k,l,x],q="array"),"string"===q?this.parse(e(d)||g._default):"array"===q?(n(r.rgba.props,function(a,c){y[c.idx]=f(d[c.idx],c)}),this):"object"===q?(d instanceof m?n(r,function(a,c){d[c.cache]&&(v[c.cache]=d[c.cache].slice())}):n(r,function(b,e){var h=e.cache;n(e.props,function(a,c){if(!v[h]&&e.to){if("alpha"===a||null==d[a])return;v[h]=e.to(v._rgba)}v[h][c.idx]=f(d[a],c,!0)});v[h]&&0>a.inArray(null,v[h].slice(0,3))&&(v[h][3]=1,e.from&&(v._rgba=e.from(v[h])))}),this):b},is:function(a){var c=
m(a),f=!0,e=this;return n(r,function(a,d){var g,k=c[d.cache];return k&&(g=e[d.cache]||d.to&&d.to(e._rgba)||[],n(d.props,function(a,c){return null!=k[c.idx]?f=k[c.idx]===g[c.idx]:b})),f}),f},_space:function(){var a=[],c=this;return n(r,function(b,f){c[f.cache]&&a.push(b)}),a.pop()},transition:function(a,c){var b=m(a),e=b._space(),d=r[e],h=0===this.alpha()?m("transparent"):this,g=h[d.cache]||d.to(h._rgba),k=g.slice();return b=b[d.cache],n(d.props,function(a,e){var d=e.idx,h=g[d],u=b[d],l=v[e.type]||
{};null!==u&&(null===h?k[d]=u:(l.mod&&(u-h>l.mod/2?h+=l.mod:h-u>l.mod/2&&(h-=l.mod)),k[d]=f((u-h)*c+h,e)))}),this[e](k)},blend:function(b){if(1===this._rgba[3])return this;var f=this._rgba.slice(),e=f.pop(),h=m(b)._rgba;return m(a.map(f,function(a,c){return(1-e)*h[c]+e*a}))},toRgbaString:function(){var b="rgba(",f=a.map(this._rgba,function(a,c){return null==a?2<c?1:0:a});return 1===f[3]&&(f.pop(),b="rgb("),b+f.join()+")"},toHslaString:function(){var b="hsla(",f=a.map(this.hsla(),function(a,c){return null==
a&&(a=2<c?1:0),c&&3>c&&(a=Math.round(100*a)+"%"),a});return 1===f[3]&&(f.pop(),b="hsl("),b+f.join()+")"},toHexString:function(b){var f=this._rgba.slice(),e=f.pop();return b&&f.push(~~(255*e)),"#"+a.map(f,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});m.fn.parse.prototype=m.fn;r.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c,b,f=a[0]/255,e=a[1]/255,
h=a[2]/255;a=a[3];var d=Math.max(f,e,h),g=Math.min(f,e,h),k=d-g,u=d+g,l=.5*u;return c=g===d?0:f===d?60*(e-h)/k+360:e===d?60*(h-f)/k+120:60*(f-e)/k+240,b=0===k?0:.5>=l?k/u:k/(2-u),[Math.round(c)%360,b,l,null==a?1:a]};r.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c=a[0]/360,b=a[1],f=a[2];a=a[3];b=.5>=f?f*(1+b):f+b-f*b;f=2*f-b;return[Math.round(255*d(f,b,c+1/3)),Math.round(255*d(f,b,c)),Math.round(255*d(f,b,c-1/3)),a]};n(r,function(e,d){var g=d.props,u=
d.cache,l=d.to,r=d.from;m.fn[e]=function(e){if(l&&!this[u]&&(this[u]=l(this._rgba)),e===b)return this[u].slice();var d,k=a.type(e),x="array"===k||"object"===k?e:arguments,v=this[u].slice();return n(g,function(a,c){var b=x["object"===k?a:c.idx];null==b&&(b=v[c.idx]);v[c.idx]=f(b,c)}),r?(d=m(r(v)),d[u]=v,d):m(v)};n(g,function(b,f){m.fn[b]||(m.fn[b]=function(d){var h,g=a.type(d),u="alpha"===b?this._hsla?"hsla":"rgba":e,l=this[u](),m=l[f.idx];return"undefined"===g?m:("function"===g&&(d=d.call(this,m),
g=a.type(d)),null==d&&f.empty?this:("string"===g&&(h=k.exec(d),h&&(d=m+parseFloat(h[2])*("+"===h[1]?1:-1))),l[f.idx]=d,this[u](l)))})})});m.hook=function(b){b=b.split(" ");n(b,function(b,f){a.cssHooks[f]={set:function(b,d){var h,g="";if("transparent"!==d&&("string"!==a.type(d)||(h=e(d)))){if(d=m(h||d),!q.rgba&&1!==d._rgba[3]){for(h="backgroundColor"===f?b.parentNode:b;(""===g||"transparent"===g)&&h&&h.style;)try{g=a.css(h,"backgroundColor"),h=h.parentNode}catch(k){}d=d.blend(g&&"transparent"!==g?
g:"_default")}d=d.toRgbaString()}try{b.style[f]=d}catch(l){}}};a.fx.step[f]=function(b){b.colorInit||(b.start=m(b.elem,f),b.end=m(b.end),b.colorInit=!0);a.cssHooks[f].set(b.elem,b.start.transition(b.end,b.pos))}})};m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor={expand:function(a){var c={};return n(["Top","Right","Bottom","Left"],function(b,f){c["border"+f+"Color"]=
a}),c}};g=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(d);(function(){function a(c){var b,f=c.ownerDocument.defaultView?c.ownerDocument.defaultView.getComputedStyle(c,null):c.currentStyle,e={};if(f&&f.length&&f[0]&&f[f[0]])for(c=
f.length;c--;)b=f[c],"string"==typeof f[b]&&(e[d.camelCase(b)]=f[b]);else for(b in f)"string"==typeof f[b]&&(e[b]=f[b]);return e}var b=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(a,c){d.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(d.style(a.elem,c,a.end),a.setAttr=!0)}});d.fn.addBack||
(d.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});d.effects.animateClass=function(e,g,k,l){var m=d.speed(g,k,l);return this.queue(function(){var g,k=d(this),l=k.attr("class")||"",r=m.children?k.find("*").addBack():k,r=r.map(function(){return{el:d(this),start:a(this)}});g=function(){d.each(b,function(a,c){e[c]&&k[c+"Class"](e[c])})};g();r=r.map(function(){this.end=a(this.el[0]);var b=this.start,e=this.end,h,g,k={};for(h in e)g=e[h],b[h]!==g&&(f[h]||(d.fx.step[h]||
!isNaN(parseFloat(g)))&&(k[h]=g));return this.diff=k,this});k.attr("class",l);r=r.map(function(){var a=this,c=d.Deferred(),b=d.extend({},m,{queue:!1,complete:function(){c.resolve(a)}});return this.el.animate(this.diff,b),c.promise()});d.when.apply(d,r.get()).done(function(){g();d.each(arguments,function(){var a=this.el;d.each(this.diff,function(c){a.css(c,"")})});m.complete.call(k[0])})})};d.fn.extend({addClass:function(a){return function(c,b,f,e){return b?d.effects.animateClass.call(this,{add:c},
b,f,e):a.apply(this,arguments)}}(d.fn.addClass),removeClass:function(a){return function(c,b,f,e){return 1<arguments.length?d.effects.animateClass.call(this,{remove:c},b,f,e):a.apply(this,arguments)}}(d.fn.removeClass),toggleClass:function(a){return function(c,b,f,e,h){return"boolean"==typeof b||void 0===b?f?d.effects.animateClass.call(this,b?{add:c}:{remove:c},f,e,h):a.apply(this,arguments):d.effects.animateClass.call(this,{toggle:c},b,f,e)}}(d.fn.toggleClass),switchClass:function(a,c,b,f,e){return d.effects.animateClass.call(this,
{add:c,remove:a},b,f,e)}})})();(function(){function a(c,b,e,h){return d.isPlainObject(c)&&(b=c,c=c.effect),c={effect:c},null==b&&(b={}),d.isFunction(b)&&(h=b,e=null,b={}),("number"==typeof b||d.fx.speeds[b])&&(h=e,e=b,b={}),d.isFunction(e)&&(h=e,e=null),b&&d.extend(c,b),e=e||b.duration,c.duration=d.fx.off?0:"number"==typeof e?e:e in d.fx.speeds?d.fx.speeds[e]:d.fx.speeds._default,c.complete=h||b.complete,c}function b(a){return!a||"number"==typeof a||d.fx.speeds[a]?!0:"string"!=typeof a||d.effects.effect[a]?
d.isFunction(a)?!0:"object"!=typeof a||a.effect?!1:!0:!0}d.extend(d.effects,{version:"1.11.3",save:function(a,c){for(var b=0;c.length>b;b++)null!==c[b]&&a.data("ui-effects-"+c[b],a[0].style[c[b]])},restore:function(a,c){var b,e;for(e=0;c.length>e;e++)null!==c[e]&&(b=a.data("ui-effects-"+c[e]),void 0===b&&(b=""),a.css(c[e],b))},setMode:function(a,c){return"toggle"===c&&(c=a.is(":hidden")?"show":"hide"),c},getBaseline:function(a,c){var b,e;switch(a[0]){case "top":b=0;break;case "middle":b=.5;break;
case "bottom":b=1;break;default:b=a[0]/c.height}switch(a[1]){case "left":e=0;break;case "center":e=.5;break;case "right":e=1;break;default:e=a[1]/c.width}return{x:e,y:b}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var c={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},b=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:a.width(),height:a.height()},
h=document.activeElement;try{h.id}catch(g){h=document.body}return a.wrap(b),(a[0]===h||d.contains(a[0],h))&&d(h).focus(),b=a.parent(),"static"===a.css("position")?(b.css({position:"relative"}),a.css({position:"relative"})):(d.extend(c,{position:a.css("position"),zIndex:a.css("z-index")}),d.each(["top","left","bottom","right"],function(b,e){c[e]=a.css(e);isNaN(parseInt(c[e],10))&&(c[e]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),a.css(e),b.css(c).show()},removeWrapper:function(a){var c=
document.activeElement;return a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===c||d.contains(a[0],c))&&d(c).focus()),a},setTransition:function(a,c,b,e){return e=e||{},d.each(c,function(c,h){var d=a.cssUnit(h);0<d[0]&&(e[h]=d[0]*b+d[1])}),e}});d.fn.extend({effect:function(){function b(a){function c(){d.isFunction(h)&&h.call(f[0]);d.isFunction(a)&&a()}var f=d(this),h=e.complete,g=e.mode;(f.is(":hidden")?"hide"===g:"show"===g)?(f[g](),c()):k.call(f[0],e,c)}var e=a.apply(this,
arguments),h=e.mode,g=e.queue,k=d.effects.effect[e.effect];return d.fx.off||!k?h?this[h](e.duration,e.complete):this.each(function(){e.complete&&e.complete.call(this)}):!1===g?this.each(b):this.queue(g||"fx",b)},show:function(f){return function(e){if(b(e))return f.apply(this,arguments);var d=a.apply(this,arguments);return d.mode="show",this.effect.call(this,d)}}(d.fn.show),hide:function(f){return function(e){if(b(e))return f.apply(this,arguments);var d=a.apply(this,arguments);return d.mode="hide",
this.effect.call(this,d)}}(d.fn.hide),toggle:function(f){return function(e){if(b(e)||"boolean"==typeof e)return f.apply(this,arguments);var d=a.apply(this,arguments);return d.mode="toggle",this.effect.call(this,d)}}(d.fn.toggle),cssUnit:function(a){var c=this.css(a),b=[];return d.each(["em","px","%","pt"],function(a,f){0<c.indexOf(f)&&(b=[parseFloat(c),f])}),b}})})();(function(){var a={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,f){a[f]=function(a){return Math.pow(a,b+2)}});d.extend(a,
{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var c,b=4;((c=Math.pow(2,--b))-1)/11>a;);return 1/Math.pow(4,3-b)-7.5625*Math.pow((3*c-2)/22-a,2)}});d.each(a,function(a,c){d.easing["easeIn"+a]=c;d.easing["easeOut"+a]=function(a){return 1-c(1-a)};d.easing["easeInOut"+a]=function(a){return.5>a?c(2*
a)/2:1-c(-2*a+2)/2}})})();d.effects;d.effects.effect.blind=function(a,b){var f,e,g,k=d(this),l="position top bottom left right height width".split(" "),m=d.effects.setMode(k,a.mode||"hide");f=a.direction||"up";var r=/up|down|vertical/.test(f),v=r?"height":"width",q=r?"top":"left",y=/up|left|vertical|horizontal/.test(f),n={},z="show"===m;k.parent().is(".ui-effects-wrapper")?d.effects.save(k.parent(),l):d.effects.save(k,l);k.show();f=d.effects.createWrapper(k).css({overflow:"hidden"});e=f[v]();g=parseFloat(f.css(q))||
0;n[v]=z?e:0;y||(k.css(r?"bottom":"right",0).css(r?"top":"left","auto").css({position:"absolute"}),n[q]=z?g:e+g);z&&(f.css(v,0),y||f.css(q,g+e));f.animate(n,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){"hide"===m&&k.hide();d.effects.restore(k,l);d.effects.removeWrapper(k);b()}})};d.effects.effect.bounce=function(a,b){var f,e,g,k=d(this),l="position top bottom left right height width".split(" "),m=d.effects.setMode(k,a.mode||"effect"),r="hide"===m;f="show"===m;var v=a.direction||
"up",m=a.distance,q=a.times||5,y=2*q+(f||r?1:0),n=a.duration/y,z=a.easing,t="up"===v||"down"===v?"top":"left",v="up"===v||"left"===v,w=k.queue(),C=w.length;(f||r)&&l.push("opacity");d.effects.save(k,l);k.show();d.effects.createWrapper(k);m||(m=k["top"===t?"outerHeight":"outerWidth"]()/3);f&&(g={opacity:1},g[t]=0,k.css("opacity",0).css(t,v?2*-m:2*m).animate(g,n,z));r&&(m/=Math.pow(2,q-1));g={};for(f=g[t]=0;q>f;f++)e={},e[t]=(v?"-=":"+=")+m,k.animate(e,n,z).animate(g,n,z),m=r?2*m:m/2;r&&(e={opacity:0},
e[t]=(v?"-=":"+=")+m,k.animate(e,n,z));k.queue(function(){r&&k.hide();d.effects.restore(k,l);d.effects.removeWrapper(k);b()});1<C&&w.splice.apply(w,[1,0].concat(w.splice(C,y+1)));k.dequeue()};d.effects.effect.clip=function(a,b){var f,e,g=d(this),k="position top bottom left right height width".split(" "),l="show"===d.effects.setMode(g,a.mode||"hide"),m="vertical"===(a.direction||"vertical"),r=m?"height":"width",m=m?"top":"left",v={};d.effects.save(g,k);g.show();f=d.effects.createWrapper(g).css({overflow:"hidden"});
f="IMG"===g[0].tagName?f:g;e=f[r]();l&&(f.css(r,0),f.css(m,e/2));v[r]=l?e:0;v[m]=l?0:e/2;f.animate(v,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){l||g.hide();d.effects.restore(g,k);d.effects.removeWrapper(g);b()}})};d.effects.effect.drop=function(a,b){var f,e=d(this),g="position top bottom left right opacity height width".split(" "),k=d.effects.setMode(e,a.mode||"hide"),l="show"===k;f=a.direction||"left";var m="up"===f||"down"===f?"top":"left",r="up"===f||"left"===f?"pos":"neg",
v={opacity:l?1:0};d.effects.save(e,g);e.show();d.effects.createWrapper(e);f=a.distance||e["top"===m?"outerHeight":"outerWidth"](!0)/2;l&&e.css("opacity",0).css(m,"pos"===r?-f:f);v[m]=(l?"pos"===r?"+=":"-=":"pos"===r?"-=":"+=")+f;e.animate(v,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===k&&e.hide();d.effects.restore(e,g);d.effects.removeWrapper(e);b()}})};d.effects.effect.explode=function(a,b){function f(){C.push(this);C.length===v*q&&(y.css({visibility:"visible"}),d(C).remove(),
n||y.hide(),b())}var e,g,k,l,m,r,v=a.pieces?Math.round(Math.sqrt(a.pieces)):3,q=v,y=d(this),n="show"===d.effects.setMode(y,a.mode||"hide"),z=y.show().css("visibility","hidden").offset(),t=Math.ceil(y.outerWidth()/q),w=Math.ceil(y.outerHeight()/v),C=[];for(e=0;v>e;e++)for(l=z.top+e*w,r=e-(v-1)/2,g=0;q>g;g++)k=z.left+g*t,m=g-(q-1)/2,y.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*t,top:-e*w}).parent().addClass("ui-effects-explode").css({position:"absolute",
overflow:"hidden",width:t,height:w,left:k+(n?m*t:0),top:l+(n?r*w:0),opacity:n?0:1}).animate({left:k+(n?0:m*t),top:l+(n?0:r*w),opacity:n?1:0},a.duration||500,a.easing,f)};d.effects.effect.fade=function(a,b){var f=d(this),e=d.effects.setMode(f,a.mode||"toggle");f.animate({opacity:e},{queue:!1,duration:a.duration,easing:a.easing,complete:b})};d.effects.effect.fold=function(a,b){var f,e,g=d(this),k="position top bottom left right height width".split(" ");f=d.effects.setMode(g,a.mode||"hide");var l="show"===
f,m="hide"===f,r=a.size||15,v=/([0-9]+)%/.exec(r),q=!!a.horizFirst,y=(e=l!==q)?["width","height"]:["height","width"],n=a.duration/2,z={},t={};d.effects.save(g,k);g.show();f=d.effects.createWrapper(g).css({overflow:"hidden"});e=e?[f.width(),f.height()]:[f.height(),f.width()];v&&(r=parseInt(v[1],10)/100*e[m?0:1]);l&&f.css(q?{height:0,width:r}:{height:r,width:0});z[y[0]]=l?e[0]:r;t[y[1]]=l?e[1]:0;f.animate(z,n,a.easing).animate(t,n,a.easing,function(){m&&g.hide();d.effects.restore(g,k);d.effects.removeWrapper(g);
b()})};d.effects.effect.highlight=function(a,b){var f=d(this),e=["backgroundImage","backgroundColor","opacity"],g=d.effects.setMode(f,a.mode||"show"),k={backgroundColor:f.css("backgroundColor")};"hide"===g&&(k.opacity=0);d.effects.save(f,e);f.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===g&&f.hide();d.effects.restore(f,e);b()}})};d.effects.effect.size=function(a,b){var f,e,g,k,l,m,r=d(this),
v="position top bottom left right width height overflow opacity".split(" ");l="position top bottom left right overflow opacity".split(" ");var q=["width","height","overflow"],y=["fontSize"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],z=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],t=d.effects.setMode(r,a.mode||"effect"),w=a.restore||"effect"!==t,C=a.scale||"both",ba=a.origin||["middle","center"],M=r.css("position"),N=w?v:l,E={height:0,width:0,outerHeight:0,
outerWidth:0};"show"===t&&r.show();l={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};"toggle"===a.mode&&"show"===t?(r.from=a.to||E,r.to=a.from||l):(r.from=a.from||("show"===t?E:l),r.to=a.to||("hide"===t?E:l));g=r.from.height/l.height;k=r.from.width/l.width;f=r.to.height/l.height;e=r.to.width/l.width;("box"===C||"both"===C)&&(g!==f&&(N=N.concat(n),r.from=d.effects.setTransition(r,n,g,r.from),r.to=d.effects.setTransition(r,n,f,r.to)),k!==e&&(N=N.concat(z),r.from=
d.effects.setTransition(r,z,k,r.from),r.to=d.effects.setTransition(r,z,e,r.to)));("content"===C||"both"===C)&&g!==f&&(N=N.concat(y).concat(q),r.from=d.effects.setTransition(r,y,g,r.from),r.to=d.effects.setTransition(r,y,f,r.to));d.effects.save(r,N);r.show();d.effects.createWrapper(r);r.css("overflow","hidden").css(r.from);ba&&(m=d.effects.getBaseline(ba,l),r.from.top=(l.outerHeight-r.outerHeight())*m.y,r.from.left=(l.outerWidth-r.outerWidth())*m.x,r.to.top=(l.outerHeight-r.to.outerHeight)*m.y,r.to.left=
(l.outerWidth-r.to.outerWidth)*m.x);r.css(r.from);"content"!==C&&"both"!==C||(n=n.concat(["marginTop","marginBottom"]).concat(y),z=z.concat(["marginLeft","marginRight"]),q=v.concat(n).concat(z),r.find("*[width]").each(function(){var b=d(this),h=b.height(),l=b.width(),m=b.outerHeight(),r=b.outerWidth();w&&d.effects.save(b,q);b.from={height:h*g,width:l*k,outerHeight:m*g,outerWidth:r*k};b.to={height:h*f,width:l*e,outerHeight:h*f,outerWidth:l*e};g!==f&&(b.from=d.effects.setTransition(b,n,g,b.from),b.to=
d.effects.setTransition(b,n,f,b.to));k!==e&&(b.from=d.effects.setTransition(b,z,k,b.from),b.to=d.effects.setTransition(b,z,e,b.to));b.css(b.from);b.animate(b.to,a.duration,a.easing,function(){w&&d.effects.restore(b,q)})}));r.animate(r.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity);"hide"===t&&r.hide();d.effects.restore(r,N);w||("static"===M?r.css({position:"relative",top:r.to.top,left:r.to.left}):d.each(["top","left"],function(a,
c){r.css(c,function(c,b){var f=parseInt(b,10),e=a?r.to.left:r.to.top;return"auto"===b?e+"px":f+e+"px"})}));d.effects.removeWrapper(r);b()}})};d.effects.effect.scale=function(a,b){var f=d(this),e=d.extend(!0,{},a),g=d.effects.setMode(f,a.mode||"effect"),k=parseInt(a.percent,10)||(0===parseInt(a.percent,10)?0:"hide"===g?0:100),l=a.direction||"both",m=a.origin,r={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()},v="horizontal"!==l?k/100:1,k="vertical"!==l?k/100:
1;e.effect="size";e.queue=!1;e.complete=b;"effect"!==g&&(e.origin=m||["middle","center"],e.restore=!0);e.from=a.from||("show"===g?{height:0,width:0,outerHeight:0,outerWidth:0}:r);e.to={height:r.height*v,width:r.width*k,outerHeight:r.outerHeight*v,outerWidth:r.outerWidth*k};e.fade&&("show"===g&&(e.from.opacity=0,e.to.opacity=1),"hide"===g&&(e.from.opacity=1,e.to.opacity=0));f.effect(e)};d.effects.effect.puff=function(a,b){var f=d(this),e=d.effects.setMode(f,a.mode||"hide"),g="hide"===e,k=parseInt(a.percent,
10)||150,l=k/100,m={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};d.extend(a,{effect:"scale",queue:!1,fade:!0,mode:e,complete:b,percent:g?k:100,from:g?m:{height:m.height*l,width:m.width*l,outerHeight:m.outerHeight*l,outerWidth:m.outerWidth*l}});f.effect(a)};d.effects.effect.pulsate=function(a,b){var f,e=d(this),g=d.effects.setMode(e,a.mode||"show");f="show"===g;var k="hide"===g,g=2*(a.times||5)+(f||"hide"===g?1:0),l=a.duration/g,m=0,r=e.queue(),v=r.length;
(f||!e.is(":visible"))&&(e.css("opacity",0).show(),m=1);for(f=1;g>f;f++)e.animate({opacity:m},l,a.easing),m=1-m;e.animate({opacity:m},l,a.easing);e.queue(function(){k&&e.hide();b()});1<v&&r.splice.apply(r,[1,0].concat(r.splice(v,g+1)));e.dequeue()};d.effects.effect.shake=function(a,b){var f,e=d(this),g="position top bottom left right height width".split(" "),k=d.effects.setMode(e,a.mode||"effect"),l=a.direction||"left";f=a.distance||20;var m=a.times||3,r=2*m+1,v=Math.round(a.duration/r),q="up"===
l||"down"===l?"top":"left",y="up"===l||"left"===l,l={},n={},z={},t=e.queue(),w=t.length;d.effects.save(e,g);e.show();d.effects.createWrapper(e);l[q]=(y?"-=":"+=")+f;n[q]=(y?"+=":"-=")+2*f;z[q]=(y?"-=":"+=")+2*f;e.animate(l,v,a.easing);for(f=1;m>f;f++)e.animate(n,v,a.easing).animate(z,v,a.easing);e.animate(n,v,a.easing).animate(l,v/2,a.easing).queue(function(){"hide"===k&&e.hide();d.effects.restore(e,g);d.effects.removeWrapper(e);b()});1<w&&t.splice.apply(t,[1,0].concat(t.splice(w,r+1)));e.dequeue()};
d.effects.effect.slide=function(a,b){var f,e=d(this),g="position top bottom left right width height".split(" "),k=d.effects.setMode(e,a.mode||"show"),l="show"===k;f=a.direction||"left";var m="up"===f||"down"===f?"top":"left",r="up"===f||"left"===f,v={};d.effects.save(e,g);e.show();f=a.distance||e["top"===m?"outerHeight":"outerWidth"](!0);d.effects.createWrapper(e).css({overflow:"hidden"});l&&e.css(m,r?isNaN(f)?"-"+f:-f:f);v[m]=(l?r?"+=":"-=":r?"-=":"+=")+f;e.animate(v,{queue:!1,duration:a.duration,
easing:a.easing,complete:function(){"hide"===k&&e.hide();d.effects.restore(e,g);d.effects.removeWrapper(e);b()}})};d.effects.effect.transfer=function(a,b){var f=d(this),e=d(a.to),g="fixed"===e.css("position"),k=d("body"),l=g?k.scrollTop():0,k=g?k.scrollLeft():0,m=e.offset(),e={top:m.top-l,left:m.left-k,height:e.innerHeight(),width:e.innerWidth()},m=f.offset(),r=d("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(a.className).css({top:m.top-l,left:m.left-k,height:f.innerHeight(),
width:f.innerWidth(),position:g?"fixed":"absolute"}).animate(e,a.duration,a.easing,function(){r.remove();b()})};d.widget("ui.progressbar",{version:"1.11.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);
this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),void 0)},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&
(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b));"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b);this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=
this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=d("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&
(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==a&&(this.oldValue=a,this._trigger("change"));a===this.options.max&&this._trigger("complete")}});d.widget("ui.selectable",d.ui.mouse,{version:"1.11.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a,b=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){a=d(b.options.filter,
b.element[0]);a.addClass("ui-selectee");a.each(function(){var a=d(this),c=a.offset();d.data(this,"selectable-item",{element:this,$element:a,left:c.left,top:c.top,right:c.left+a.outerWidth(),bottom:c.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})};this.refresh();this.selectees=a.addClass("ui-selectee");this._mouseInit();this.helper=d("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");
this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(a){var b=this,f=this.options;this.opos=[a.pageX,a.pageY];this.options.disabled||(this.selectees=d(f.filter,this.element[0]),this._trigger("start",a),d(f.appendTo).append(this.helper),this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0}),f.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=d.data(this,"selectable-item");f.startselected=!0;a.metaKey||
a.ctrlKey||(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,b._trigger("unselecting",a,{unselecting:f.element}))}),d(a.target).parents().addBack().each(function(){var f,e=d.data(this,"selectable-item");return e?(f=!a.metaKey&&!a.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting"),e.unselecting=!f,e.selecting=f,e.selected=f,f?b._trigger("selecting",
a,{selecting:e.element}):b._trigger("unselecting",a,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(a){if(this.dragged=!0,!this.options.disabled){var b,f=this,e=this.options,g=this.opos[0],k=this.opos[1],l=a.pageX,m=a.pageY;return g>l&&(b=l,l=g,g=b),k>m&&(b=m,m=k,k=b),this.helper.css({left:g,top:k,width:l-g,height:m-k}),this.selectees.each(function(){var b=d.data(this,"selectable-item"),h=!1;b&&b.element!==f.element[0]&&("touch"===e.tolerance?h=!(b.left>l||g>b.right||b.top>m||k>b.bottom):
"fit"===e.tolerance&&(h=b.left>g&&l>b.right&&b.top>k&&m>b.bottom),h?(b.selected&&(b.$element.removeClass("ui-selected"),b.selected=!1),b.unselecting&&(b.$element.removeClass("ui-unselecting"),b.unselecting=!1),b.selecting||(b.$element.addClass("ui-selecting"),b.selecting=!0,f._trigger("selecting",a,{selecting:b.element}))):(b.selecting&&((a.metaKey||a.ctrlKey)&&b.startselected?(b.$element.removeClass("ui-selecting"),b.selecting=!1,b.$element.addClass("ui-selected"),b.selected=!0):(b.$element.removeClass("ui-selecting"),
b.selecting=!1,b.startselected&&(b.$element.addClass("ui-unselecting"),b.unselecting=!0),f._trigger("unselecting",a,{unselecting:b.element}))),b.selected&&(a.metaKey||a.ctrlKey||b.startselected||(b.$element.removeClass("ui-selected"),b.selected=!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,f._trigger("unselecting",a,{unselecting:b.element})))))}),!1}},_mouseStop:function(a){var b=this;return this.dragged=!1,d(".ui-unselecting",this.element[0]).each(function(){var f=d.data(this,"selectable-item");
f.$element.removeClass("ui-unselecting");f.unselecting=!1;f.startselected=!1;b._trigger("unselected",a,{unselected:f.element})}),d(".ui-selecting",this.element[0]).each(function(){var f=d.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected");f.selecting=!1;f.selected=!0;f.startselected=!0;b._trigger("selected",a,{selected:f.element})}),this._trigger("stop",a),this.helper.remove(),!1}});d.widget("ui.selectmenu",{version:"1.11.3",defaultElement:"<select>",options:{appendTo:null,
disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var a=this;this.label=d("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,
{click:function(a){this.button.focus();a.preventDefault()}});this.element.hide();this.button=d("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);d("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=d("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);
this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){a.menuItems||a._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=d("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=d("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());
this.menuInstance=this.menu.menu({role:"listbox",select:function(b,f){b.preventDefault();a._setSelection();a._select(f.item.data("ui-selectmenu-item"),b)},focus:function(b,f){var e=f.item.data("ui-selectmenu-item");null!=a.focusIndex&&e.index!==a.focusIndex&&(a._trigger("focus",b,{item:e}),a.isOpen||a._select(e,b));a.focusIndex=e.index;a.button.attr("aria-activedescendant",a.menuItems.eq(e.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,
"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,b=this.element.find("option");b.length&&(this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),
a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(d.extend({of:this.button},
this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(a,b){var f=this,e="";d.each(b,function(b,h){h.optgroup!==e&&(d("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(h.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:h.optgroup}).appendTo(a),e=h.optgroup);f._renderItemData(a,
h)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(a,b){var f=d("<li>");return b.disabled&&f.addClass("ui-state-disabled"),this._setText(f,b.label),f.appendTo(a)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var f,e=".ui-menu-item";this.isOpen?f=this.menuItems.eq(this.focusIndex):(f=this.menuItems.eq(this.element[0].selectedIndex),e+=":not(.ui-state-disabled)");f="first"===a||"last"===a?f["first"===a?"prevAll":
"nextAll"](e).eq(-1):f[a+"All"](e).eq(0);f.length&&this.menuInstance.focus(b,f)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(a){this.isOpen&&(d(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||
this.close(a))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection();this._toggle(a)},keydown:function(a){var b=!0;switch(a.keyCode){case d.ui.keyCode.TAB:case d.ui.keyCode.ESCAPE:this.close(a);b=!1;break;case d.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case d.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",
a);break;case d.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case d.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):this._toggle(a);break;case d.ui.keyCode.LEFT:this._move("prev",a);break;case d.ui.keyCode.RIGHT:this._move("next",a);break;case d.ui.keyCode.HOME:case d.ui.keyCode.PAGE_UP:this._move("first",a);break;case d.ui.keyCode.END:case d.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a),b=!1}b&&a.preventDefault()}},_selectFocusedItem:function(a){var b=
this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var f=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this._setText(this.buttonText,a.label);this._setAria(a);this._trigger("select",b,{item:a});a.index!==f&&this._trigger("change",b,{item:a});this.close(b)},_setAria:function(a){a=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a});this.menu.attr("aria-activedescendant",
a)},_setOption:function(a,b){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(b.button);this._super(a,b);"appendTo"===a&&this.menuWrap.appendTo(this._appendTo());"disabled"===a&&(this.menuInstance.option("disabled",b),this.button.toggleClass("ui-state-disabled",b).attr("aria-disabled",b),this.element.prop("disabled",b),b?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));"width"===a&&this._resizeButton()},_appendTo:function(){var a=
this.options.appendTo;return a&&(a=a.jquery||a.nodeType?d(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),
this.element.hide());this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(a){var b=[];a.each(function(a,c){var e=d(c),g=e.parent("optgroup");b.push({element:e,index:a,value:e.val(),label:e.text(),optgroup:g.attr("label")||"",disabled:g.prop("disabled")||e.prop("disabled")})});this.items=b},_destroy:function(){this.menuWrap.remove();
this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});d.widget("ui.slider",d.ui.mouse,{version:"1.11.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();
this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var a,b;a=this.options;var f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e=[];b=a.values&&a.values.length||1;f.length>b&&(f.slice(b).remove(),
f=f.slice(0,b));for(a=f.length;b>a;a++)e.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=f.add(d(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(a){d(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options,b="";a.range?(!0===a.range&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:d.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=
[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=d("<div></div>").appendTo(this.element),b="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(b+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);
this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(a){var b,f,e,g,k,l,m,r,v=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},f=this._normValueFromMouse(b),
e=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var c=Math.abs(f-v.values(a));(e>c||e===c&&(a===v._lastChangedValue||v.values(a)===q.min))&&(e=c,g=d(this),k=a)}),l=this._start(a,k),!1===l?!1:(this._mouseSliding=!0,this._handleIndex=k,g.addClass("ui-state-active").focus(),m=g.offset(),r=!d(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=r?{left:0,top:0}:{left:a.pageX-m.left-g.width()/2,top:a.pageY-m.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||
0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,k,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=
null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,f,e,d,g;return"horizontal"===this.orientation?(b=this.elementSize.width,f=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,f=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=f/b,1<e&&(e=1),0>e&&(e=0),"vertical"===this.orientation&&
(e=1-e),d=this._valueMax()-this._valueMin(),g=this._valueMin()+e*d,this._trimAlignValue(g)},_start:function(a,b){var f={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(f.value=this.values(b),f.values=this.values()),this._trigger("start",a,f)},_slide:function(a,b,f){var e,d,g;this.options.values&&this.options.values.length?(e=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&f>e||1===b&&e>f)&&(f=e),f!==this.values(b)&&
(d=this.values(),d[b]=f,g=this._trigger("slide",a,{handle:this.handles[b],value:f,values:d}),this.values(b?0:1),!1!==g&&this.values(b,f))):f!==this.value()&&(g=this._trigger("slide",a,{handle:this.handles[b],value:f}),!1!==g&&this.value(f))},_stop:function(a,b){var f={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(f.value=this.values(b),f.values=this.values());this._trigger("stop",a,f)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var f=
{handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(f.value=this.values(b),f.values=this.values());this._lastChangedValue=b;this._trigger("change",a,f)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(a,b){var f,e,g;if(1<arguments.length)return this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),this._change(null,a),void 0;
if(!arguments.length)return this._values();if(!d.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();f=this.options.values;e=arguments[0];for(g=0;f.length>g;g+=1)f[g]=this._trimAlignValue(e[g]),this._change(null,g);this._refreshValue()},_setOption:function(a,b){var f,e=0;switch("range"===a&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-
1),this.options.values=null)),d.isArray(this.options.values)&&(e=this.options.values.length),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b),this._super(a,b),a){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css("horizontal"===b?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=
!1;break;case "values":this._animateOff=!0;this._refreshValue();for(f=0;e>f;f+=1)this._change(null,f);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var b,f;if(arguments.length)return b=this.options.values[a],this._trimAlignValue(b);if(this.options.values&&
this.options.values.length){b=this.options.values.slice();for(f=0;b.length>f;f+=1)b[f]=this._trimAlignValue(b[f]);return b}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,f=(a-this._valueMin())%b;a-=f;return 2*Math.abs(f)>=b&&(a+=0<f?b:-b),parseFloat(a.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),f=this.options.step,a=Math.floor((a-
b)/f)*f+b;this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=""+a;var b=a.indexOf(".");return-1===b?0:a.length-b-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var a,b,f,e,g,k=this.options.range,l=this.options,m=this,r=this._animateOff?!1:l.animate,v={};this.options.values&&
this.options.values.length?this.handles.each(function(f){b=100*((m.values(f)-m._valueMin())/(m._valueMax()-m._valueMin()));v["horizontal"===m.orientation?"left":"bottom"]=b+"%";d(this).stop(1,1)[r?"animate":"css"](v,l.animate);!0===m.options.range&&("horizontal"===m.orientation?(0===f&&m.range.stop(1,1)[r?"animate":"css"]({left:b+"%"},l.animate),1===f&&m.range[r?"animate":"css"]({width:b-a+"%"},{queue:!1,duration:l.animate})):(0===f&&m.range.stop(1,1)[r?"animate":"css"]({bottom:b+"%"},l.animate),
1===f&&m.range[r?"animate":"css"]({height:b-a+"%"},{queue:!1,duration:l.animate})));a=b}):(f=this.value(),e=this._valueMin(),g=this._valueMax(),b=g!==e?(f-e)/(g-e)*100:0,v["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[r?"animate":"css"](v,l.animate),"min"===k&&"horizontal"===this.orientation&&this.range.stop(1,1)[r?"animate":"css"]({width:b+"%"},l.animate),"max"===k&&"horizontal"===this.orientation&&this.range[r?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:l.animate}),
"min"===k&&"vertical"===this.orientation&&this.range.stop(1,1)[r?"animate":"css"]({height:b+"%"},l.animate),"max"===k&&"vertical"===this.orientation&&this.range[r?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:l.animate}))},_handleEvents:{keydown:function(a){var b,f,e,g=d(a.target).data("ui-slider-handle-index");switch(a.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(a.preventDefault(),
!this._keySliding&&(this._keySliding=!0,d(a.target).addClass("ui-state-active"),b=this._start(a,g),!1===b))return}switch(e=this.options.step,b=f=this.options.values&&this.options.values.length?this.values(g):this.value(),a.keyCode){case d.ui.keyCode.HOME:f=this._valueMin();break;case d.ui.keyCode.END:f=this._valueMax();break;case d.ui.keyCode.PAGE_UP:f=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/this.numPages);break;case d.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(b-(this._valueMax()-
this._valueMin())/this.numPages);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(b===this._valueMax())return;f=this._trimAlignValue(b+e);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(b===this._valueMin())return;f=this._trimAlignValue(b-e)}this._slide(a,g,f)},keyup:function(a){var b=d(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),d(a.target).removeClass("ui-state-active"))}}});d.widget("ui.sortable",d.ui.mouse,{version:"1.11.3",
widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},
_isOverAxis:function(a,b,f){return a>=b&&b+f>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||this._isFloating(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(a,b){this._super(a,b);"handle"===
a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");d.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+
"-item");return this},_mouseCapture:function(a,b){var f=null,e=!1,g=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(a),d(a.target).parents().each(function(){return d.data(this,g.widgetName+"-item")===g?(f=d(this),!1):void 0}),d.data(a.target,g.widgetName+"-item")===g&&(f=d(a.target)),f?!this.options.handle||b||(d(this.options.handle,f).find("*").addBack().each(function(){this===a.target&&(e=!0)}),e)?(this.currentItem=f,this._removeCurrentsFromItems(),
!0):!1:!1)},_mouseStart:function(a,b,f){var e;b=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),
this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),b.containment&&this._setContainment(),b.cursor&&"auto"!==b.cursor&&(e=this.document.find("body"),
this.storedCursor=e.css("cursor"),e.css("cursor",b.cursor),this.storedStylesheet=d("<style>*{ cursor: "+b.cursor+" !important; }</style>").appendTo(e)),b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",b.opacity)),b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=
this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!f)for(f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("activate",a,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var b,f,e,g;b=this.options;var k=!1;
this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=k=this.scrollParent[0].scrollTop+b.scrollSpeed:a.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=
k=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=k=this.scrollParent[0].scrollLeft+b.scrollSpeed:a.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=k=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(a.pageY-this.document.scrollTop()<b.scrollSensitivity?k=this.document.scrollTop(this.document.scrollTop()-b.scrollSpeed):this.window.height()-(a.pageY-
this.document.scrollTop())<b.scrollSensitivity&&(k=this.document.scrollTop(this.document.scrollTop()+b.scrollSpeed)),a.pageX-this.document.scrollLeft()<b.scrollSensitivity?k=this.document.scrollLeft(this.document.scrollLeft()-b.scrollSpeed):this.window.width()-(a.pageX-this.document.scrollLeft())<b.scrollSensitivity&&(k=this.document.scrollLeft(this.document.scrollLeft()+b.scrollSpeed))),!1!==k&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a));this.positionAbs=this._convertPositionTo("absolute");
this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(b=this.items.length-1;0<=b;b--)if(f=this.items[b],e=f.item[0],g=this._intersectsWithPointer(f),g&&f.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===g?"next":"prev"]()[0]!==e&&!d.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],
e):!0)){if(this.direction=1===g?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(a,f);this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),d.ui.ddmanager&&d.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,b){if(a){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a),this.options.revert){var f=this,e=this.placeholder.offset(),
g=this.options.axis,k={};g&&"x"!==g||(k.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));g&&"y"!==g||(k.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;d(this.helper).animate(k,parseInt(this.options.revert,10)||500,function(){f._clear(a)})}else this._clear(a,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});
"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),f=[];return a=a||{},d(b).each(function(){var b=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);b&&f.push((a.key||
b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!f.length&&a.key&&f.push(a.key+"="),f.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),f=[];return a=a||{},b.each(function(){f.push(d(a.item||this).attr(a.attribute||"id")||"")}),f},_intersectsWith:function(a){var b=this.positionAbs.left,f=b+this.helperProportions.width,e=this.positionAbs.top,d=e+this.helperProportions.height,g=a.left,k=g+a.width,l=a.top,m=l+a.height,r=this.offset.click.top,v=this.offset.click.left,v="y"===
this.options.axis||b+v>g&&k>b+v,r=("x"===this.options.axis||e+r>l&&m>e+r)&&v;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?r:b+this.helperProportions.width/2>g&&k>f-this.helperProportions.width/2&&e+this.helperProportions.height/2>l&&m>d-this.helperProportions.height/2},_intersectsWithPointer:function(a){var b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+
this.offset.click.top,a.top,a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();return b?this.floating?f&&"right"===f||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+
a.width/2,a.width);var f=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&a||"left"===e&&!a:f&&("down"===f&&b||"up"===f&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),
this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function b(){k.push(this)}var f,e,g,k=[],l=[],m=this._connectWith();if(m&&a)for(a=m.length-1;0<=a;a--)for(e=d(m[a],this.document[0]),f=e.length-1;0<=f;f--)(g=d.data(e[f],this.widgetFullName))&&g!==this&&!g.options.disabled&&l.push([d.isFunction(g.options.items)?g.options.items.call(g.element):d(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
g]);l.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=l.length-1;0<=a;a--)l[a][0].each(b);return d(k)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(b){for(var f=0;a.length>f;f++)if(a[f]===b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=
[];this.containers=[this];var b,f,e,g,k,l=this.items,m=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),this]];if((k=this._connectWith())&&this.ready)for(b=k.length-1;0<=b;b--)for(e=d(k[b],this.document[0]),f=e.length-1;0<=f;f--)(g=d.data(e[f],this.widgetFullName))&&g!==this&&!g.options.disabled&&(m.push([d.isFunction(g.options.items)?g.options.items.call(g.element[0],a,{item:this.currentItem}):d(g.options.items,
g.element),g]),this.containers.push(g));for(b=m.length-1;0<=b;b--)for(a=m[b][1],e=m[b][0],f=0,k=e.length;k>f;f++)g=d(e[f]),g.data(this.widgetName+"-item",a),l.push({item:g,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var b,f,e,g;for(b=this.items.length-1;0<=b;b--)f=this.items[b],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?
d(this.options.toleranceElement,f.item):f.item,a||(f.width=e.outerWidth(),f.height=e.outerHeight()),g=e.offset(),f.left=g.left,f.top=g.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;0<=b;b--)g=this.containers[b].element.offset(),this.containers[b].containerCache.left=g.left,this.containers[b].containerCache.top=g.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),
this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var b,f=a.options;f.placeholder&&f.placeholder.constructor!==String||(b=f.placeholder,f.placeholder={element:function(){var f=a.currentItem[0].nodeName.toLowerCase(),e=d("<"+f+">",a.document[0]).addClass(b||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===f?a.currentItem.children().each(function(){d("<td>&#160;</td>",
a.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(e)}):"img"===f&&e.attr("src",a.currentItem.attr("src")),b||e.css("visibility","hidden"),e},update:function(e,d){(!b||f.forcePlaceholderSize)&&(d.height()||d.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),d.width()||d.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}});
a.placeholder=d(f.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);f.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var b,f,e,g,k,l,m,r,v=g=null;for(b=this.containers.length-1;0<=b;b--)d.contains(this.currentItem[0],this.containers[b].element[0])||(this._intersectsWith(this.containers[b].containerCache)?g&&d.contains(this.containers[b].element[0],g.element[0])||(g=this.containers[b],v=b):this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",
a,this._uiHash(this)),this.containers[b].containerCache.over=0));if(g)if(1===this.containers.length)this.containers[v].containerCache.over||(this.containers[v]._trigger("over",a,this._uiHash(this)),this.containers[v].containerCache.over=1);else{b=1E4;e=null;g=(f=g.floating||this._isFloating(this.currentItem))?"left":"top";k=f?"width":"height";r=f?"clientX":"clientY";for(f=this.items.length-1;0<=f;f--)d.contains(this.containers[v].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&
(l=this.items[f].item.offset()[g],m=!1,a[r]-l>this.items[f][k]/2&&(m=!0),b>Math.abs(a[r]-l)&&(b=Math.abs(a[r]-l),e=this.items[f],this.direction=m?"up":"down"));if(e||this.options.dropOnEmpty){if(this.currentContainer===this.containers[v])return this.currentContainer.containerCache.over||(this.containers[v]._trigger("over",a,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;e?this._rearrange(a,e,null,!0):this._rearrange(a,null,this.containers[v].element,!0);this._trigger("change",
a,this._uiHash());this.containers[v]._trigger("change",a,this._uiHash(this));this.currentContainer=this.containers[v];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[v]._trigger("over",a,this._uiHash(this));this.containers[v].containerCache.over=1}}},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;return a.parents("body").length||
d("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]),a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!a[0].style.width||b.forceHelperSize)&&a.width(this.currentItem.width()),(!a[0].style.height||b.forceHelperSize)&&a.height(this.currentItem.height()),a},_adjustOffsetFromHelper:function(a){"string"==
typeof a&&(a=a.split(" "));d.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===
this.cssPosition&&this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===
this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var a,b,f,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode);"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===e.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===e.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(e.containment)||(a=d(e.containment)[0],b=d(e.containment).offset(),f="hidden"!==d(a).css("overflow"),this.containment=[b.left+(parseInt(d(a).css("borderLeftWidth"),10)||0)+(parseInt(d(a).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(d(a).css("borderTopWidth"),10)||0)+(parseInt(d(a).css("paddingTop"),10)||0)-this.margins.top,b.left+(f?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(d(a).css("borderLeftWidth"),
10)||0)-(parseInt(d(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(f?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(d(a).css("borderTopWidth"),10)||0)-(parseInt(d(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,b){b||(b=this.position);var f="absolute"===a?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&d.contains(this.scrollParent[0],this.offsetParent[0])?
this.scrollParent:this.offsetParent,g=/(html|body)/i.test(e[0].tagName);return{top:b.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:e.scrollTop())*f,left:b.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:e.scrollLeft())*f}},_generatePosition:function(a){var b,f,e=this.options,g=a.pageX,k=a.pageY,l="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&
d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,m=/(html|body)/i.test(l[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(k=this.containment[1]+
this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(k=this.containment[3]+this.offset.click.top)),e.grid&&(b=this.originalPageY+Math.round((k-this.originalPageY)/e.grid[1])*e.grid[1],k=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-e.grid[1]:b+e.grid[1]:b,f=this.originalPageX+
Math.round((g-this.originalPageX)/e.grid[0])*e.grid[0],g=this.containment?f-this.offset.click.left>=this.containment[0]&&f-this.offset.click.left<=this.containment[2]?f:f-this.offset.click.left>=this.containment[0]?f-e.grid[0]:f+e.grid[0]:f)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():m?0:l.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?
-this.scrollParent.scrollLeft():m?0:l.scrollLeft())}},_rearrange:function(a,b,f,e){f?f[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var d=this.counter=this.counter?++this.counter:1;this._delay(function(){d===this.counter&&this.refreshPositions(!e)})},_clear:function(a,b){function f(a,c,b){return function(f){b._trigger(a,f,c._uiHash(c))}}this.reverting=!1;var e,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&
this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)"auto"!==this._storedCSS[e]&&"static"!==this._storedCSS[e]||(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&
this.domPosition.parent===this.currentItem.parent()[0]||b||d.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&(b||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(c){a._trigger("receive",c,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(c){a._trigger("update",c,this._uiHash(this))}}.call(this,this.currentContainer))));for(e=this.containers.length-1;0<=e;e--)b||d.push(f("deactivate",
this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(f("out",this,this.containers[e])),this.containers[e].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(e=0;d.length>e;e++)d[e].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,
sender:a?a.element:null}}});d.widget("ui.spinner",{version:"1.11.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),
!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},b=this.element;return d.each(["min","max","step"],function(f,e){var d=b.attr(e);void 0!==d&&d.length&&(a[e]=d)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,
void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((0<b?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function b(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=
f,this._delay(function(){this.previous=f}))}var f;f=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();a.preventDefault();b.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;b.call(this)});!1!==this._start(a)&&this._repeat(null,d(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return d(a.currentTarget).hasClass("ui-state-active")?!1===this._start(a)?!1:(this._repeat(null,
d(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&a.height(a.height());
this.options.disabled&&this.disable()},_keydown:function(a){var b=this.options,f=d.ui.keyCode;switch(a.keyCode){case f.UP:return this._repeat(null,1,a),!0;case f.DOWN:return this._repeat(null,-1,a),!0;case f.PAGE_UP:return this._repeat(null,b.page,a),!0;case f.PAGE_DOWN:return this._repeat(null,-b.page,a),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||!1!==this._trigger("start",a)?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,f){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,f)},a);this._spin(b*this.options.step,f)},_spin:function(a,b){var f=this.value()||0;this.counter||
(this.counter=1);f=this._adjustValue(f+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",b,{value:f})||(this._value(f),this.counter++)},_increment:function(a){var b=this.options.incremental;return b?d.isFunction(b)?b(a):Math.floor(a*a*a/5E4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){a=""+a;var b=a.indexOf(".");return-1===
b?0:a.length-b-1},_adjustValue:function(a){var b,f,e=this.options;return b=null!==e.min?e.min:0,f=a-b,f=Math.round(f/e.step)*e.step,a=b+f,a=parseFloat(a.toFixed(this._precision())),null!==e.max&&a>e.max?e.max:null!==e.min&&e.min>a?e.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var f=this._parse(this.element.val());return this.options[a]=
b,this.element.val(this._format(f)),void 0}"max"!==a&&"min"!==a&&"step"!==a||"string"!=typeof b||(b=this._parse(b));"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down));this._super(a,b);"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),this.buttons.button(b?"disable":"enable"))},_setOptions:g(function(a){this._super(a)}),
_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=
this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,b){var f;""!==a&&(f=this._parse(a),null!==f&&(b||(f=this._adjustValue(f)),a=this._format(f)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:g(function(a){this._stepUp(a)}),
_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:g(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:g(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:g(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(g(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}});
d.widget("ui.tabs",{version:"1.11.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var f,e;b=b.cloneNode(!1);f=b.href.replace(a,"");e=location.href.replace(a,"");try{f=decodeURIComponent(f)}catch(d){}try{e=decodeURIComponent(e)}catch(g){}return 1<b.hash.length&&f===e}}(),_create:function(){var a=this,b=this.options;this.running=!1;
this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",b.collapsible);this._processTabs();b.active=this._initialActive();d.isArray(b.disabled)&&(b.disabled=d.unique(b.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(b.active):d();this._refresh();this.active.length&&this.load(b.active)},_initialActive:function(){var a=
this.options.active,b=this.options.collapsible,f=location.hash.substring(1);return null===a&&(f&&this.tabs.each(function(b,e){return d(e).attr("aria-controls")===f?(a=b,!1):void 0}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===a||-1===a)&&(a=this.tabs.length?0:!1)),!1!==a&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=b?!1:0)),!b&&!1===a&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):
d()}},_tabKeydown:function(a){var b=d(this.document[0].activeElement).closest("li"),f=this.tabs.index(b),e=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:f++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:e=!1;f--;break;case d.ui.keyCode.END:f=this.anchors.length-1;break;case d.ui.keyCode.HOME:f=0;break;case d.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),this._activate(f),void 0;case d.ui.keyCode.ENTER:return a.preventDefault(),
clearTimeout(this.activating),this._activate(f===this.options.active?!1:f),void 0;default:return}a.preventDefault();clearTimeout(this.activating);f=this._focusNextTab(f,e);a.ctrlKey||a.metaKey||(b.attr("aria-selected","false"),this.tabs.eq(f).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",f)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===d.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&
a.keyCode===d.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===d.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,b){for(var f=this.tabs.length-1;-1!==d.inArray((a>f&&(a=0),0>a&&(a=f),a),this.options.disabled);)a=b?a+1:a-1;return a},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?(this._activate(b),
void 0):"disabled"===a?(this._setupDisabled(b),void 0):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b),void 0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,b=this.tablist.children(":has(a[href])");a.disabled=d.map(b.filter(".ui-state-disabled"),
function(a){return b.index(a)});this._processTabs();!1!==a.active&&this.anchors.length?this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=d());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);
this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this,b=this.tabs,f=this.anchors,e=this.panels;
this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(a){d(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});
this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=d();this.anchors.each(function(b,f){var e,g,h,k=d(f).uniqueId().attr("id"),l=d(f).closest("li"),m=l.attr("aria-controls");a._isLocal(f)?(e=f.hash,h=e.substring(1),g=a.element.find(a._sanitizeSelector(e))):(h=l.attr("aria-controls")||d({}).uniqueId()[0].id,e="#"+h,g=a.element.find(e),g.length||(g=a._createPanel(h),g.insertAfter(a.panels[b-1]||a.tablist)),g.attr("aria-live",
"polite"));g.length&&(a.panels=a.panels.add(g));m&&l.data("ui-tabs-aria-controls",m);l.attr({"aria-controls":h,"aria-labelledby":k});g.attr("aria-labelledby",k)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");b&&(this._off(b.not(this.tabs)),this._off(f.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return d("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",
!0)},_setupDisabled:function(a){d.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var b,f=0;b=this.tabs[f];f++)!0===a||-1!==d.inArray(f,a)?d(b).addClass("ui-state-disabled").attr("aria-disabled","true"):d(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var b={};a&&d.each(a.split(" "),function(a,c){b[c]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});
this._on(this.anchors,b);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b,f=this.element.parent();"fill"===a?(b=f.height(),b-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var a=d(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(b-=a.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=
d(this).outerHeight(!0)}),this.panels.each(function(){d(this).height(Math.max(0,b-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.panels.each(function(){b=Math.max(b,d(this).height("").height())}).height(b))},_eventHandler:function(a){var b=this.options,f=this.active,e=d(a.currentTarget).closest("li"),g=e[0]===f[0],k=g&&b.collapsible,l=k?d():this._getPanelForTab(e),m=f.length?this._getPanelForTab(f):d(),f={oldTab:f,oldPanel:m,newTab:k?d():e,newPanel:l};a.preventDefault();
e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||this.running||g&&!b.collapsible||!1===this._trigger("beforeActivate",a,f)||(b.active=k?!1:this.tabs.index(e),this.active=g?d():e,this.xhr&&this.xhr.abort(),m.length||l.length||d.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(e),a),this._toggle(a,f))},_toggle:function(a,b){function f(){g.running=!1;g._trigger("activate",a,b)}function e(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active");
k.length&&g.options.show?g._show(k,g.options.show,f):(k.show(),f())}var g=this,k=b.newPanel,l=b.oldPanel;this.running=!0;l.length&&this.options.hide?this._hide(l,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");e()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),l.hide(),e());l.attr("aria-hidden","true");b.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});k.length&&l.length?b.oldTab.attr("tabIndex",-1):k.length&&
this.tabs.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1);k.attr("aria-hidden","false");b.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a){var b;a=this._findActive(a);a[0]!==this.active[0]&&(a.length||(a=this.active),b=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:d.noop}))},_findActive:function(a){return!1===a?d():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=
this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){d.data(this,
"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var a=d(this),b=a.data("ui-tabs-aria-controls");b?a.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):
a.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;!1!==b&&(void 0===a?b=!1:(a=this._getIndex(a),b=d.isArray(b)?d.map(b,function(b){return b!==a?b:null}):d.map(this.tabs,function(b,e){return e!==a?e:null})),this._setupDisabled(b))},disable:function(a){var b=this.options.disabled;if(!0!==b){if(void 0===a)b=!0;else{if(a=this._getIndex(a),-1!==d.inArray(a,b))return;b=d.isArray(b)?d.merge([a],
b).sort():[a]}this._setupDisabled(b)}},load:function(a,b){a=this._getIndex(a);var f=this,e=this.tabs.eq(a),g=e.find(".ui-tabs-anchor"),k=this._getPanelForTab(e),l={tab:e,panel:k};this._isLocal(g[0])||(this.xhr=d.ajax(this._ajaxSettings(g,b,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(e.addClass("ui-tabs-loading"),k.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){k.html(a);f._trigger("load",b,l)},1)}).complete(function(a,c){setTimeout(function(){"abort"===c&&f.panels.stop(!1,
!0);e.removeClass("ui-tabs-loading");k.removeAttr("aria-busy");a===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(a,b,f){var e=this;return{url:a.attr("href"),beforeSend:function(a,c){return e._trigger("beforeLoad",b,d.extend({jqXHR:a,ajaxSettings:c},f))}}},_getPanelForTab:function(a){a=d(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}});d.widget("ui.tooltip",{version:"1.11.3",options:{content:function(){var a=d(this).attr("title")||"";return d("<a>").text(a).html()},
hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(a,b){var f=(a.attr("aria-describedby")||"").split(/\s+/);f.push(b);a.data("ui-tooltip-id",b).attr("aria-describedby",d.trim(f.join(" ")))},_removeDescribedBy:function(a){var b=a.data("ui-tooltip-id"),f=(a.attr("aria-describedby")||"").split(/\s+/),b=d.inArray(b,f);-1!==b&&f.splice(b,1);a.removeData("ui-tooltip-id");
(f=d.trim(f.join(" ")))?a.attr("aria-describedby",f):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=d("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(a,b){var f=this;return"disabled"===a?(this[b?"_disable":"_enable"](),this.options[a]=b,void 0):
(this._super(a,b),"content"===a&&d.each(this.tooltips,function(a,c){f._updateContent(c.element)}),void 0)},_disable:function(){var a=this;d.each(this.tooltips,function(b,f){var e=d.Event("blur");e.target=e.currentTarget=f.element[0];a.close(e,!0)});this.element.find(this.options.items).addBack().each(function(){var a=d(this);a.is("[title]")&&a.data("ui-tooltip-title",a.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=d(this);
a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var b=this,f=d(a?a.target:this.element).closest(this.options.items);f.length&&!f.data("ui-tooltip-id")&&(f.attr("title")&&f.data("ui-tooltip-title",f.attr("title")),f.data("ui-tooltip-open",!0),a&&"mouseover"===a.type&&f.parents().each(function(){var a,c=d(this);c.data("ui-tooltip-open")&&(a=d.Event("blur"),a.target=a.currentTarget=this,b.close(a,!0));c.attr("title")&&(c.uniqueId(),b.parents[this.id]={element:this,
title:c.attr("title")},c.attr("title",""))}),this._updateContent(f,a))},_updateContent:function(a,b){var f,e=this.options.content,d=this,g=b?b.type:null;return"string"==typeof e?this._open(b,a,e):(f=e.call(a[0],function(f){a.data("ui-tooltip-open")&&d._delay(function(){b&&(b.type=g);this._open(b,a,f)})}),f&&this._open(b,a,f),void 0)},_open:function(a,b,f){function e(a){r.of=a;k.is(":hidden")||k.position(r)}var g,k,l,m,r=d.extend({},this.options.position);if(f){if(g=this._find(b))return g.tooltip.find(".ui-tooltip-content").html(f),
void 0;b.is("[title]")&&(a&&"mouseover"===a.type?b.attr("title",""):b.removeAttr("title"));g=this._tooltip(b);k=g.tooltip;this._addDescribedBy(b,k.attr("id"));k.find(".ui-tooltip-content").html(f);this.liveRegion.children().hide();f.clone?(m=f.clone(),m.removeAttr("id").find("[id]").removeAttr("id")):m=f;d("<div>").html(m).appendTo(this.liveRegion);this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:e}),e(a)):k.position(d.extend({of:b},this.options.position));k.hide();
this._show(k,this.options.show);this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){k.is(":visible")&&(e(r.of),clearInterval(l))},d.fx.interval));this._trigger("open",a,{tooltip:k});f={keyup:function(a){a.keyCode===d.ui.keyCode.ESCAPE&&(a=d.Event(a),a.currentTarget=b[0],this.close(a,!0))}};b[0]!==this.element[0]&&(f.remove=function(){this._removeTooltip(k)});a&&"mouseover"!==a.type||(f.mouseleave="close");a&&"focusin"!==a.type||(f.focusout="close");this._on(!0,b,
f)}},close:function(a){var b,f=this,e=d(a?a.currentTarget:this.element),g=this._find(e);g&&(b=g.tooltip,g.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),g.hiding=!0,b.stop(!0),this._hide(b,this.options.hide,function(){f._removeTooltip(d(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),
a&&"mouseleave"===a.type&&d.each(this.parents,function(a,c){d(c.element).attr("title",c.title);delete f.parents[a]}),g.closing=!0,this._trigger("close",a,{tooltip:b}),g.hiding||(g.closing=!1)))},_tooltip:function(a){var b=d("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),f=b.uniqueId().attr("id");return d("<div>").addClass("ui-tooltip-content").appendTo(b),b.appendTo(this.document[0].body),this.tooltips[f]={element:a,
tooltip:b}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;d.each(this.tooltips,function(b,f){var e=d.Event("blur"),g=f.element;e.target=e.currentTarget=g[0];a.close(e,!0);d("#"+b).remove();g.data("ui-tooltip-title")&&(g.attr("title")||g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))});this.liveRegion.remove()}})});!function(d){function t(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var e=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(d)}}if(d.support.touch="ontouchend"in document,d.support.touch){var n,q=d.ui.mouse.prototype,e=q._mouseInit,w=q._mouseDestroy;q._touchStart=function(a){!n&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=
!1,t(a,"mouseover"),t(a,"mousemove"),t(a,"mousedown"))};q._touchMove=function(a){n&&(this._touchMoved=!0,t(a,"mousemove"))};q._touchEnd=function(a){n&&(t(a,"mouseup"),t(a,"mouseout"),this._touchMoved||t(a,"click"),n=!1)};q._mouseInit=function(){this.element.bind({touchstart:d.proxy(this,"_touchStart"),touchmove:d.proxy(this,"_touchMove"),touchend:d.proxy(this,"_touchEnd")});e.call(this)};q._mouseDestroy=function(){this.element.unbind({touchstart:d.proxy(this,"_touchStart"),touchmove:d.proxy(this,
"_touchMove"),touchend:d.proxy(this,"_touchEnd")});w.call(this)}}}(jQuery);!function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(a){return 0==a?0:0<a?1:-1});var d={subtract:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},dotProduct:function(a,b){return a.x*b.x+a.y*b.y},square:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},scale:function(a,b){return{x:a.x*b,y:a.y*b}}},t=Math.pow(2,-65),n=function(a,b){for(var g=[],k=b.length-1,c=2*k-1,h=[],f=[],l=[],m=[],n=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],t=0;k>=t;t++)h[t]=d.subtract(b[t],a);for(t=0;k-1>=t;t++)f[t]=d.subtract(b[t+
1],b[t]),f[t]=d.scale(f[t],3);for(t=0;k-1>=t;t++)for(var w=0;k>=w;w++)l[t]||(l[t]=[]),l[t][w]=d.dotProduct(f[t],h[w]);for(t=0;c>=t;t++)m[t]||(m[t]=[]),m[t].y=0,m[t].x=parseFloat(t)/c;c=k-1;for(h=0;k+c>=h;h++)for(t=Math.max(0,h-c),f=Math.min(h,k);f>=t;t++)j=h-t,m[t+j].y+=l[j][t]*n[j][t];k=b.length-1;m=q(m,2*k-1,g,0);l=d.subtract(a,b[0]);n=d.square(l);for(c=t=0;m>c;c++){var l=d.subtract(a,e(b,k,g[c],null,null)),F=d.square(l);n>F&&(n=F,t=g[c])}return l=d.subtract(a,b[k]),F=d.square(l),n>F&&(n=F,t=1),
{location:t,distance:n}},q=function(a,b,d,g){var c=[],h=[],f=[],k=[],l,m,n=0;m=Math.sgn(a[0].y);for(var w=1;b>=w;w++)l=Math.sgn(a[w].y),l!=m&&n++,m=l;switch(n){case 0:return 0;case 1:if(64<=g)return d[0]=(a[0].x+a[b].x)/2,1;var F,K,X,Z,P,G,R,J,C,ba;l=a[0].y-a[b].y;m=a[b].x-a[0].x;for(var n=a[0].x*a[b].y-a[b].x*a[0].y,w=max_distance_below=0,M=1;b>M;M++){var N=l*a[M].x+m*a[M].y+n;N>w?w=N:max_distance_below>N&&(max_distance_below=N)}if(J=l,C=m,ba=n-w,G=0*C-1*J,R=1/G,K=(1*ba-0*C)*R,J=l,C=m,ba=n-max_distance_below,
G=0*C-1*J,R=1/G,X=(1*ba-0*C)*R,Z=Math.min(K,X),P=Math.max(K,X),F=P-Z,t>F?1:0)return f=a[b].x-a[0].x,k=a[b].y-a[0].y,d[0]=0+1/(0*f-1*k)*1*(f*(a[0].y-0)-k*(a[0].x-0)),1}e(a,b,.5,c,h);a=q(c,b,f,g+1);b=q(h,b,k,g+1);for(g=0;a>g;g++)d[g]=f[g];for(g=0;b>g;g++)d[g+a]=k[g];return a+b},e=function(a,b,e,d,c){for(var g=[[]],f=0;b>=f;f++)g[0][f]=a[f];for(a=1;b>=a;a++)for(f=0;b-a>=f;f++)g[a]||(g[a]=[]),g[a][f]||(g[a][f]={}),g[a][f].x=(1-e)*g[a-1][f].x+e*g[a-1][f+1].x,g[a][f].y=(1-e)*g[a-1][f].y+e*g[a-1][f+1].y;
if(null!=d)for(f=0;b>=f;f++)d[f]=g[f][0];if(null!=c)for(f=0;b>=f;f++)c[f]=g[b-f][f];return g[b][0]},w={},a=function(a){var b=w[a];if(!b){var b=[],e=function(a){return function(){return a}},d=function(){return function(a){return a}},c=function(){return function(a){return 1-a}},g=function(a){return function(c){for(var b=1,f=0;f<a.length;f++)b*=a[f](c);return b}};b.push(new function(){return function(c){return Math.pow(c,a)}});for(var f=1;a>f;f++){for(var k=[new e(a)],l=0;a-f>l;l++)k.push(new d);for(l=
0;f>l;l++)k.push(new c);b.push(new g(k))}b.push(new function(){return function(c){return Math.pow(1-c,a)}});w[a]=b}return b},b=function(b,e){for(var d=a(b.length-1),g=0,c=0,h=0;h<b.length;h++)g+=b[h].x*d[h](e),c+=b[h].y*d[h](e);return{x:g,y:c}},g=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},k=function(a){return a[0].x==a[1].x&&a[0].y==a[1].y},l=function(a,e,d){if(k(a))return{point:a[0],location:e};for(var l=b(a,e),c=0,h=0<d?1:-1,f=null;c<Math.abs(d);)e+=.005*h,f=b(a,e),
c+=g(f,l),l=f;return{point:f,location:e}},m=function(a,e){var d=b(a,e),g=b(a.slice(0,a.length-1),e),c=g.y-d.y,d=g.x-d.x;return 0==c?1/0:Math.atan(c/d)};window.jsBezier={distanceFromCurve:n,gradientAtPoint:m,gradientAtPointAlongCurveFrom:function(a,b,e){b=l(a,b,e);return 1<b.location&&(b.location=1),0>b.location&&(b.location=0),m(a,b.location)},nearestPointOnCurve:function(a,b){var d=n(a,b);return{point:e(b,b.length-1,d.location,null,null),location:d.location}},pointOnCurve:b,pointAlongCurveFrom:function(a,
b,e){return l(a,b,e).point},perpendicularToCurveAt:function(a,b,e,d){b=l(a,b,null==d?0:d);a=m(a,b.location);d=Math.atan(-1/a);a=e/2*Math.sin(d);e=e/2*Math.cos(d);return[{x:b.point.x+e,y:b.point.y+a},{x:b.point.x-e,y:b.point.y-a}]},locationAlongCurveFrom:function(a,b,e){return l(a,b,e).location},getLength:function(a){if(k(a))return 0;for(var e=b(a,0),d=0,l=0,c=null;1>l;)l+=.005,c=b(a,l),d+=g(c,e),e=c;return d}}}();
(function(){var d=this.Biltong={},t=function(a,b,e){return a="[object Array]"===Object.prototype.toString.call(a)?a:[a.x,a.y],b="[object Array]"===Object.prototype.toString.call(b)?b:[b.x,b.y],e(a,b)},n=d.gradient=function(a,b){return t(a,b,function(a,b){return b[0]==a[0]?b[1]>a[1]?1/0:-1/0:b[1]==a[1]?b[0]>a[0]?0:-0:(b[1]-a[1])/(b[0]-a[0])})},q=(d.normal=function(a,b){return-1/n(a,b)},d.lineLength=function(a,b){return t(a,b,function(a,b){return Math.sqrt(Math.pow(b[1]-a[1],2)+Math.pow(b[0]-a[0],2))})},
d.quadrant=function(a,b){return t(a,b,function(a,b){return b[0]>a[0]?b[1]>a[1]?2:1:b[0]==a[0]?b[1]>a[1]?2:1:b[1]>a[1]?3:4})}),e=(d.theta=function(a,b){return t(a,b,function(a,b){var e=n(a,b),e=Math.atan(e),d=q(a,b);return(4==d||3==d)&&(e+=Math.PI),0>e&&(e+=2*Math.PI),e})},d.intersects=function(a,b){var e=a.x,d=a.x+a.w,l=a.y,m=a.y+a.h,r=b.x,q=b.x+b.w,n=b.y,v=b.y+b.h;return r>=e&&d>=r&&n>=l&&m>=n||q>=e&&d>=q&&n>=l&&m>=n||r>=e&&d>=r&&v>=l&&m>=v||q>=e&&d>=r&&v>=l&&m>=v||e>=r&&q>=e&&l>=n&&v>=l||d>=r&&
q>=d&&l>=n&&v>=l||e>=r&&q>=e&&m>=n&&v>=m||d>=r&&q>=e&&m>=n&&v>=m},d.encloses=function(a,b,e){var d=a.x,l=a.x+a.w,m=a.y;a=a.y+a.h;var r=b.x,q=b.x+b.w,n=b.y;b=b.y+b.h;return(e?r>=d&&l>=q:r>d&&l>q)&&(e?n>=m&&a>=b:n>m&&a>b)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),w=[null,[-1,-1],[-1,1],[1,1],[1,-1]];d.pointOnLine=function(a,b,d){var k=n(a,b);b=q(a,b);b=0<d?e[b]:w[b];var l=Math.atan(k),k=Math.abs(d*Math.sin(l))*b[1];d=Math.abs(d*Math.cos(l))*b[0];return{x:a.x+d,y:a.y+k}};d.perpendicularLineTo=function(a,
b,e){a=n(a,b);var d=Math.atan(-1/a);a=e/2*Math.sin(d);e=e/2*Math.cos(d);return[{x:b.x+e,y:b.y+a},{x:b.x-e,y:b.y-a}]}}).call(this);
(function(){var d=-1<navigator.userAgent.toLowerCase().indexOf("android"),t=function(a,c,b){b=b||a.parentNode;c=b.querySelectorAll(c);for(b=0;b<c.length;b++)if(c[b]===a)return!0;return!1},n=function(a){return"string"==typeof a?document.getElementById(a):a},q=function(a,c){for(var b=0,e=a.length;e>b&&a[b]!=c;b++);b<a.length&&a.splice(b,1)},e=1,w=function(a,c,b){var f=e++;return a.__ta=a.__ta||{},a.__ta[c]=a.__ta[c]||{},a.__ta[c][f]=b,b.__tauid=f,f},a=function(a,c,e,f){if(null==a)return e;var d=a.split(","),
g=function(a){g.__tauid=e.__tauid;for(var b=a.srcElement||a.target,f=0;f<d.length;f++)t(b,d[f],c)&&e.apply(b,arguments)};return b(e,f,g),g},b=function(a,c,b){a.__taExtra=a.__taExtra||[];a.__taExtra.push([c,b])},g=function(c,b,e,f){y&&v[b]?B(c,v[b],a(f,c,e,v[b]),e):B(c,b,a(f,c,e,b),e)},k=function(a,c,b,e){null==a.__taSmartClicks&&(g(a,"mousedown",function(c){a.__tad=u(c)},e),g(a,"mouseup",function(c){a.__tau=u(c)},e),g(a,"click",function(c){if(a.__tad&&a.__tau&&a.__tad[0]===a.__tau[0]&&a.__tad[1]===
a.__tau[1])for(var b=0;b<a.__taSmartClicks.length;b++)a.__taSmartClicks[b].apply(c.srcElement||c.target,[c])},e),a.__taSmartClicks=[]);a.__taSmartClicks.push(b);b.__taUnstore=function(){q(a.__taSmartClicks,b)}},l={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},m=function(a,c){return function(b,e,f,d){if("contextmenu"==e&&z)g(b,e,f,d);else{if(null==b.__taTapHandler){var h=b.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},k=function(){h.down=
!1},m=function(){h.taps=0};g(b,"mousedown",function(e){e=e.srcElement||e.target;for(var f=0;f<h.downSelectors.length;f++)if(null==h.downSelectors[f]||t(e,h.downSelectors[f],b)){h.down=!0;setTimeout(k,a);setTimeout(m,c);break}});g(b,"mouseup",function(a){if(h.down){var c=a.srcElement||a.target;h.taps++;var e=x(a).length,f;for(f in l){var d=l[f];if(d.touches===e&&(1===d.taps||d.taps===h.taps))for(d=0;d<h[f].length;d++)(null==h[f][d][1]||t(c,h[f][d][1],b))&&h[f][d][0].apply(a.srcElement||a.target,[a])}}})}b.__taTapHandler.downSelectors.push(d);
b.__taTapHandler[e].push([f,d]);f.__taUnstore=function(){q(b.__taTapHandler[e],f)}}}},r=function(){var c=[];return function(b,e,f,d){if(!b.__tamee){b.__tamee={over:!1,mouseenter:[],mouseexit:[]};var g=function(a){var e=a.srcElement||a.target;if(null==d&&e==b&&!b.__tamee.over||t(e,d,b)&&(null==e.__tamee||!e.__tamee.over)){for(var f in b.__tamee.mouseenter)b.__tamee.mouseenter[f].apply(e,[a]);e.__tamee=e.__tamee||{};e.__tamee.over=!0;c.push(e)}},h=function(a){for(var e=a.srcElement||a.target,f=0;f<
c.length;f++)if(e==c[f]&&!t(a.relatedTarget||a.toElement,"*",e)){e.__tamee.over=!1;c.splice(f,1);var d=a,g=b,h=e,k=void 0;for(k in g.__tamee.mouseexit)g.__tamee.mouseexit[k].apply(h,[d])}};B(b,"mouseover",a(d,b,g,"mouseover"),g);B(b,"mouseout",a(d,b,h,"mouseout"),h)}f.__taUnstore=function(){delete b.__tamee[e][f.__tauid]};w(b,e,f);b.__tamee[e][f.__tauid]=f}},y="ontouchstart"in document.documentElement,z="onmousedown"in document.documentElement,v={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},
c=function(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}(),h=-1<c&&9>c,f=function(a,c){if(null==a)return[0,0];var b;b=x(a);b=b.item?b.item(0):b[0];return[b[c+"X"],b[c+"Y"]]},u=function(a){return null==a?[0,0]:h?[a.clientX+document.documentElement.scrollLeft,a.clientY+document.documentElement.scrollTop]:f(a,"page")},x=function(a){return a.touches&&0<a.touches.length?a.touches:a.changedTouches&&
0<a.changedTouches.length?a.changedTouches:a.targetTouches&&0<a.targetTouches.length?a.targetTouches:[a]},B=function(a,c,b,e){if(w(a,c,b),e.__tauid=b.__tauid,a.addEventListener)a.addEventListener(c,b,!1);else if(a.attachEvent){var f=c+b.__tauid;a["e"+f]=b;a[f]=function(){a["e"+f]&&a["e"+f](window.event)};a.attachEvent("on"+c,a[f])}},V=function(a,c,b){null!=b&&H(a,function(){var a=n(this);if(a.__ta&&a.__ta[c]&&delete a.__ta[c][b.__tauid],b.__taExtra){for(var e=0;e<b.__taExtra.length;e++)V(a,b.__taExtra[e][0],
b.__taExtra[e][1]);b.__taExtra.length=0}b.__taUnstore&&b.__taUnstore();null!=b.__tauid&&(a.removeEventListener?a.removeEventListener(c,b,!1):this.detachEvent&&(e=c+b.__tauid,a[e]&&a.detachEvent("on"+c,a[e]),a[e]=null,a["e"+e]=null))})},H=function(a,c){if(null!=a){a="string"!=typeof a&&null==a.tagName&&null!=a.length?a:"string"==typeof a?document.querySelectorAll(a):[a];for(var b=0;b<a.length;b++)c.apply(a[b])}};this.Mottle=function(a){a=a||{};var c=a.clickThreshold||150,b=a.dblClickThreshold||350,
e=new r,h=new m(c,b),l=a.smartClicks,q=function(a,c,b,f){null!=b&&H(a,function(){var a=n(this);l&&"click"===c?k(a,c,b,f):"tap"===c||"dbltap"===c||"contextmenu"===c?h(a,c,b,f):"mouseenter"===c||"mouseexit"==c?e(a,c,b,f):g(a,c,b,f)})};this.remove=function(a){return H(a,function(){var a=n(this);if(a.__ta)for(var c in a.__ta)for(var b in a.__ta[c])V(a,c,a.__ta[c][b]);a.parentNode&&a.parentNode.removeChild(a)}),this};this.on=function(){return q(arguments[0],arguments[1],arguments[arguments.length-1],4==
arguments.length?arguments[2]:null),this};this.off=function(a,c,b){return V(a,c,b),this};this.trigger=function(a,c,b,e){var g=y&&v[c]?v[c]:c,h=u(b),k=f(b,"screen"),l=f(b,"client");return H(a,function(){var a,f=n(this);b=b||{screenX:k[0],screenY:k[1],clientX:l[0],clientY:l[1]};var m={TouchEvent:function(a){var c=document.createTouch(window,f,0,h[0],h[1],k[0],k[1],l[0],l[1],0,0,0,0);a.initTouchEvent(g,!0,!0,window,0,k[0],k[1],l[0],l[1],!1,!1,!1,!1,document.createTouchList(c))},MouseEvents:function(a){if(a.initMouseEvent(g,
!0,!0,window,0,k[0],k[1],l[0],l[1],!1,!1,!1,!1,1,f),d){var c=document.createTouch(window,f,0,h[0],h[1],k[0],k[1],l[0],l[1],0,0,0,0);a.touches=a.targetTouches=a.changedTouches=document.createTouchList(c)}}};if(document.createEvent){var r=y&&v[c]&&!d?"TouchEvent":"MouseEvents";a=document.createEvent(r);m[r](a);e&&(a.payload=e);f.dispatchEvent(a)}else document.createEventObject&&(a=document.createEventObject(),a.eventType=a.eventName=g,a.screenX=k[0],a.screenY=k[1],a.clientX=l[0],a.clientY=l[1],e&&(a.payload=
e),f.fireEvent("on"+g,a))}),this}};Mottle.consume=function(a,c){a.stopPropagation?a.stopPropagation():a.returnValue=!1;!c&&a.preventDefault&&a.preventDefault()};Mottle.pageLocation=u}).call(this);
(function(){var d=function(a){return"[object Array]"===Object.prototype.toString.call(a)},t=function(a){return"string"==typeof a},n=function(a){return"boolean"==typeof a},q=function(a){return null==a?!1:"[object Object]"===Object.prototype.toString.call(a)},e=function(a){return"[object Date]"===Object.prototype.toString.call(a)},w=function(a){return"[object Function]"===Object.prototype.toString.call(a)},a=this.jsPlumbUtil={isArray:d,isString:t,isBoolean:n,isNull:function(a){return null==a},isObject:q,
isDate:e,isFunction:w,isEmpty:function(a){for(var e in a)if(a.hasOwnProperty(e))return!1;return!0},isNumber:function(a){return"[object Number]"===Object.prototype.toString.call(a)},clone:function(a){if(t(a))return""+a;if(n(a))return!!a;if(e(a))return new Date(a.getTime());if(w(a))return a;if(d(a)){for(var g=[],k=0;k<a.length;k++)g.push(this.clone(a[k]));return g}if(q(a)){g={};for(k in a)g[k]=this.clone(a[k]);return g}return a},merge:function(a,e,k){var l,m,r={};k=k||[];for(m=0;m<k.length;m++)r[k[m]]=
!0;a=this.clone(a);for(m in e)if(null==a[m])a[m]=e[m];else if(t(e[m])||n(e[m]))r[m]?(l=[],l.push.apply(l,d(a[m])?a[m]:[a[m]]),l.push.apply(l,d(e[m])?e[m]:[e[m]]),a[m]=l):a[m]=e[m];else if(d(e[m]))l=[],d(a[m])&&l.push.apply(l,a[m]),l.push.apply(l,e[m]),a[m]=l;else if(q(e[m])){q(a[m])||(a[m]={});for(var y in e[m])a[m][y]=e[m][y]}return a},replace:function(a,e,d){if(null!=a){var l=a;return e.replace(/([^\.])+/g,function(a,b,e,g){var v=a.match(/([^\[0-9]+){1}(\[)([0-9+])/);b=function(){return l[v[1]]||
(l[v[1]]=[],l[v[1]])};e+a.length>=g.length?v?b()[v[3]]=d:l[a]=d:v?(a=b(),l=a[v[3]]||(a[v[3]]={},a[v[3]])):l=l[a]||(l[a]={},l[a])}),a}},functionChain:function(a,e,d){for(var l=0;l<d.length;l++){var m=d[l][0][d[l][1]].apply(d[l][0],d[l][2]);if(m===e)return m}return a},populate:function(a,e){var k=function(a){if(null!=a){if(t(a)){var b=a.match(/(\${.*?})/g);if(null!=b)for(var r=0;r<b.length;r++){var n=e[b[r].substring(2,b[r].length-1)]||"";null!=n&&(a=a.replace(b[r],n))}return a}if(d(a)){b=[];for(r=
0;r<a.length;r++)b.push(k(a[r]));return b}if(q(a)){b={};for(r in a)b[r]=k(a[r]);return b}return a}};return k(a)},convertStyle:function(a,e){if("transparent"===a)return a;var d=a,l=function(a){return 1==a.length?"0"+a:a},m=/(rgb[a]?\()(.*)(\))/;a.match(m)&&(m=a.match(m)[2].split(","),d="#"+l(Number(m[0]).toString(16))+l(Number(m[1]).toString(16))+l(Number(m[2]).toString(16)),e||4!=m.length||(d+=l(Number(m[3]).toString(16))));return d},findWithFunction:function(a,e){if(a)for(var d=0;d<a.length;d++)if(e(a[d]))return d;
return-1},indexOf:function(b,e){return b.indexOf?b.indexOf(e):a.findWithFunction(b,function(a){return a==e})},removeWithFunction:function(b,e){var d=a.findWithFunction(b,e);return-1<d&&b.splice(d,1),-1!=d},remove:function(b,e){var d=a.indexOf(b,e);return-1<d&&b.splice(d,1),-1!=d},addWithFunction:function(b,e,d){-1==a.findWithFunction(b,d)&&b.push(e)},addToList:function(a,e,d,l){var m=a[e];return null==m&&(m=[],a[e]=m),m[l?"unshift":"push"](d),m},extend:function(a,e){var k;e=d(e)?e:[e];for(k=0;k<e.length;k++)for(var l in e[k].prototype)e[k].prototype.hasOwnProperty(l)&&
(a.prototype[l]=e[k].prototype[l]);var m=function(a,b){return function(){for(k=0;k<e.length;k++)e[k].prototype[a]&&e[k].prototype[a].apply(this,arguments);return b.apply(this,arguments)}};l=function(e){for(var d in e)a.prototype[d]=m(d,e[d])};if(2<arguments.length)for(k=2;k<arguments.length;k++)l(arguments[k]);return a},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var e=0|16*Math.random();return("x"==a?e:8|3&e).toString(16)})},logEnabled:!0,log:function(){if(a.logEnabled&&
"undefined"!=typeof console)try{console.log(arguments[arguments.length-1])}catch(b){}},wrap:function(b,e,d){return b=b||function(){},e=e||function(){},function(){var l=null;try{l=e.apply(this,arguments)}catch(m){a.log("jsPlumb function failed : "+m)}if(null==d||l!==d)try{l=b.apply(this,arguments)}catch(r){a.log("wrapped function failed : "+r)}return l}}};a.EventGenerator=function(){var b={},e=!1,d={ready:!0};this.bind=function(e,d,g){return a.addToList(b,e,d,g),this};this.fire=function(l,m,r){if(!e&&
b[l]){var q=b[l].length,n=0,v=!1,c=null;if(!this.shouldFireEvent||this.shouldFireEvent(l,m,r))for(;!v&&q>n&&!1!==c;){if(d[l])b[l][n].apply(this,[m,r]);else try{c=b[l][n].apply(this,[m,r])}catch(h){a.log("jsPlumb: fire failed for event "+l+" : "+h)}n++;null!=b&&null!=b[l]||(v=!0)}}return this};this.unbind=function(a){return a?delete b[a]:b={},this};this.getListener=function(a){return b[a]};this.setSuspendEvents=function(a){e=a};this.isSuspendEvents=function(){return e};this.cleanupListeners=function(){for(var a in b)b[a]=
null}};a.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}};Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),d=this,l=function(){},m=function(){return d.apply(this instanceof l&&a?this:a,e.concat(Array.prototype.slice.call(arguments)))};return l.prototype=this.prototype,m.prototype=new l,m})}).call(this);
(function(){var d=this.jsPlumbUtil;d.ieVersion=/MSIE\s([\d.]+)/.test(navigator.userAgent)?new Number(RegExp.$1):-1;d.oldIE=-1<d.ieVersion&&9>d.ieVersion;d.matchesSelector=function(d,n,q){q=q||d.parentNode;n=q.querySelectorAll(n);for(q=0;q<n.length;q++)if(n[q]===d)return!0;return!1};d.consume=function(d,n){d.stopPropagation?d.stopPropagation():d.returnValue=!1;!n&&d.preventDefault&&d.preventDefault()};d.sizeElement=function(d,n,q,e,w){d&&(d.style.height=w+"px",d.height=w,d.style.width=e+"px",d.width=
e,d.style.left=n+"px",d.style.top=q+"px")}}).call(this);
(function(){var d=this,t=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),n=function(){if(void 0===n.vml){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;null!=b&&null!=b.style?(b.style.behavior="url(#default#VML)",n.vml=b?"object"==typeof b.adj:!0):n.vml=!1;a.parentNode.removeChild(a)}return n.vml},q=function(){var a=-1;"Microsoft Internet Explorer"==
navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}(),e=-1<q&&9>q,w=function(a,b){if(null==a)return[0,0];var e;e=a.touches&&0<a.touches.length?a.touches:a.changedTouches&&0<a.changedTouches.length?a.changedTouches:a.targetTouches&&0<a.targetTouches.length?a.targetTouches:[a];e=e.item?e.item(0):e[0];return[e[b+"X"],e[b+"Y"]]},a=function(a){var b={},e=[],d={},g={},c={};this.register=function(h){var f=a.getId(h),k=jsPlumbAdapter.getOffset(h,
a);b[f]||(b[f]=h,e.push(h),d[f]={});var l=function(b){if(b)for(var e=0;e<b.childNodes.length;e++)if(3!=b.childNodes[e].nodeType&&8!=b.childNodes[e].nodeType){var h=jsPlumb.getElementObject(b.childNodes[e]),r=a.getId(b.childNodes[e],null,!0);r&&g[r]&&0<g[r]&&(h=jsPlumbAdapter.getOffset(h,a),d[f][r]={id:r,offset:{left:h.left-k.left,top:h.top-k.top}},c[r]=f);l(b.childNodes[e])}};l(h)};this.updateOffsets=function(b){if(null!=b){var e=jsPlumb.getDOMElement(b);b=a.getId(e);var g=d[b],e=jsPlumbAdapter.getOffset(e,
a);if(g)for(var k in g)g=jsPlumb.getElementObject(k),g=jsPlumbAdapter.getOffset(g,a),d[b][k]={id:k,offset:{left:g.left-e.left,top:g.top-e.top}},c[k]=b}};this.endpointAdded=function(e,f){f=f||a.getId(e);var k=document.body,l=e.parentNode;for(g[f]=g[f]?g[f]+1:1;null!=l&&l!=k;){var q=a.getId(l,null,!0);if(q&&b[q]){k=jsPlumbAdapter.getOffset(l,a);null==d[q][f]&&(l=jsPlumbAdapter.getOffset(e,a),d[q][f]={id:f,offset:{left:l.left-k.left,top:l.top-k.top}},c[f]=q);break}l=l.parentNode}};this.endpointDeleted=
function(a){if(g[a.elementId]&&(g[a.elementId]--,0>=g[a.elementId]))for(var b in d)d[b]&&(delete d[b][a.elementId],delete c[a.elementId])};this.changeId=function(a,b){d[b]=d[a];d[a]={};c[b]=c[a];c[a]=null};this.getElementsForDraggable=function(a){return d[a]};this.elementRemoved=function(a){var b=c[a];b&&(delete d[b][a],delete c[a])};this.reset=function(){b={};e=[];d={};g={}};this.dragEnded=function(b){b=a.getId(b);(b=c[b])&&this.updateOffsets(b)};this.setParent=function(b,e,g,k){var l=c[e];l&&(d[k]||
(d[k]={}),d[k][e]=d[l][e],delete d[l][e],g=jsPlumbAdapter.getOffset(g,a),b=jsPlumbAdapter.getOffset(b,a),d[k][e].offset={left:b.left-g.left,top:b.top-g.top},c[e]=k)};this.getDragAncestor=function(b){b=jsPlumb.getDOMElement(b);b=a.getId(b);return(b=c[b])?jsPlumb.getDOMElement(b):null}};window.console||(window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}});var b=function(a,b){b=null==b?null:b.replace(/^\s\s*/,"").replace(/\s\s*$/,"");"undefined"!=
typeof a.className.baseVal?a.className.baseVal=b:a.className=b},g=function(a){return"undefined"==typeof a.className.baseVal?a.className:a.className.baseVal},k=function(a,e,d){e=null==e?[]:jsPlumbUtil.isArray(e)?e:e.split(/\s+/);d=null==d?[]:jsPlumbUtil.isArray(d)?d:d.split(/\s+/);var k=g(a).split(/\s+/),l=function(a,b){for(var e=0;e<b.length;e++)if(a)-1==jsPlumbUtil.indexOf(k,b[e])&&k.push(b[e]);else{var d=jsPlumbUtil.indexOf(k,b[e]);-1!=d&&k.splice(d,1)}};l(!0,e);l(!1,d);b(a,k.join(" "))},l=function(a,
b){if(null!=a)if("string"==typeof a)b(jsPlumb.getDOMElement(a));else if(null!=a.length)for(var e=0;e<a.length;e++)b(jsPlumb.getDOMElement(a[e]));else b(a)};window.jsPlumbAdapter={headless:!1,pageLocation:function(a){return null==a?[0,0]:e?[a.clientX+document.documentElement.scrollLeft,a.clientY+document.documentElement.scrollTop]:w(a,"page")},screenLocation:function(a){return w(a,"screen")},clientLocation:function(a){return w(a,"client")},getAttribute:function(a,b){return a.getAttribute(b)},setAttribute:function(a,
b,e){a.setAttribute(b,e)},appendToRoot:function(a){document.body.appendChild(a)},getRenderModes:function(){return["svg","vml"]},isRenderModeAvailable:function(a){return{svg:t,vml:n()}[a]},getDragManager:function(b){return new a(b)},setRenderMode:function(a){var b;if(a){a=a.toLowerCase();var e=this.isRenderModeAvailable("svg"),d=this.isRenderModeAvailable("vml");"svg"===a?e?b="svg":d&&(b="vml"):d&&(b="vml")}return b},addClass:function(a,b){l(a,function(a){k(a,b)})},hasClass:function(a,b){return a=
jsPlumb.getDOMElement(a),a.classList?a.classList.contains(b):-1!=g(a).indexOf(b)},removeClass:function(a,b){l(a,function(a){k(a,null,b)})},updateClasses:function(a,b,e){l(a,function(a){k(a,b,e)})},setClass:function(a,e){l(a,function(a){b(a,e)})},setPosition:function(a,b){a.style.left=b.left+"px";a.style.top=b.top+"px"},getPosition:function(a){var b=function(b){return(b=a.style[b])?b.substring(0,b.length-2):0};return{left:b("left"),top:b("top")}},getOffset:function(a,b,e){a=jsPlumb.getDOMElement(a);
b=b.getContainer();var d=a.offsetLeft,g=a.offsetTop;for(a=e||null!=b&&a.offsetParent!=b?a.offsetParent:null;null!=a;)d+=a.offsetLeft,g+=a.offsetTop,a=e?a.offsetParent:a.offsetParent==b?null:a.offsetParent;return{left:d,top:g}},getPositionOnElement:function(a,b,e){var d="undefined"!=typeof b.getBoundingClientRect?b.getBoundingClientRect():{left:0,top:0,width:0,height:0},g=document.body,c=document.documentElement,h=(b.offsetParent,window.pageYOffset||c.scrollTop||g.scrollTop),h=d.top+h-(c.clientTop||
g.clientTop||0)+0*e,g=d.left+(window.pageXOffset||c.scrollLeft||g.scrollLeft)-(c.clientLeft||g.clientLeft||0)+0*e;a=jsPlumbAdapter.pageLocation(a);return[(a[0]-g)/(d.width||b.offsetWidth*e),(a[1]-h)/(d.height||b.offsetHeight*e)]},getAbsolutePosition:function(a){var b=function(b){return(b=a.style[b])?parseFloat(b.substring(0,b.length-2)):void 0};return[b("left"),b("top")]},setAbsolutePosition:function(a,b,e,g){e?d.jsPlumb.animate(a,{left:"+="+(b[0]-e[0]),top:"+="+(b[1]-e[1])},g):(a.style.left=b[0]+
"px",a.style.top=b[1]+"px")}}}).call(this);
(function(){var d=jsPlumbUtil,t=function(){return""+(new Date).getTime()},n=function(a){if(a._jsPlumb.paintStyle&&a._jsPlumb.hoverPaintStyle){var b={};c.extend(b,a._jsPlumb.paintStyle);c.extend(b,a._jsPlumb.hoverPaintStyle);delete a._jsPlumb.hoverPaintStyle;b.gradient&&a._jsPlumb.paintStyle.fillStyle&&delete b.gradient;a._jsPlumb.hoverPaintStyle=b}},q="click dblclick mouseover mouseout mousemove mousedown mouseup contextmenu".split(" "),e=function(a){return null==a?null:a.split(" ")},w=function(a,
c,b){if(a.getDefaultType){for(var e=a.getTypeDescriptor(),g=d.merge({},a.getDefaultType()),k=0,l=a._jsPlumb.types.length;l>k;k++)g=d.merge(g,a._jsPlumb.instance.getType(a._jsPlumb.types[k],e),["cssClass"]);c&&(g=d.populate(g,c));a.applyType(g,b);b||a.repaint()}},a=window.jsPlumbUIComponent=function(a){jsPlumbUtil.EventGenerator.apply(this,arguments);var c=arguments,b=this.idPrefix+(new Date).getTime();if(this._jsPlumb={instance:a._jsPlumb,parameters:a.parameters||{},paintStyle:null,hoverPaintStyle:null,
paintStyleInUse:null,hover:!1,beforeDetach:a.beforeDetach,beforeDrop:a.beforeDrop,overlayPlacements:[],hoverClass:a.hoverClass||a._jsPlumb.Defaults.HoverClass,types:[]},this.getId=function(){return b},a.events)for(var e in a.events)this.bind(e,a.events[e]);this.clone=function(){var a={};return this.constructor.apply(a,c),a}.bind(this);this.isDetachAllowed=function(a){var c=!0;if(this._jsPlumb.beforeDetach)try{c=this._jsPlumb.beforeDetach(a)}catch(b){d.log("jsPlumb: beforeDetach callback failed",b)}return c};
this.isDropAllowed=function(a,c,b,e,f,g,h){var k=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:a,targetId:c,scope:b,connection:e,dropEndpoint:f,source:g,target:h});if(this._jsPlumb.beforeDrop)try{k=this._jsPlumb.beforeDrop({sourceId:a,targetId:c,scope:b,connection:e,dropEndpoint:f,source:g,target:h})}catch(l){d.log("jsPlumb: beforeDrop callback failed",l)}return k};var g=[];this.setListenerComponent=function(a){for(var c=0;c<g.length;c++)g[c][3]=a}},b=function(a,c){var b=a._jsPlumb.instance.getType(a._jsPlumb.types[c],
a.getTypeDescriptor());null!=b&&b.cssClass&&a.canvas&&a._jsPlumb.instance.removeClass(a.canvas,b.cssClass)};jsPlumbUtil.extend(a,jsPlumbUtil.EventGenerator,{getParameter:function(a){return this._jsPlumb.parameters[a]},setParameter:function(a,c){this._jsPlumb.parameters[a]=c},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(a){this._jsPlumb.parameters=a},addClass:function(a){jsPlumbAdapter.addClass(this.canvas,a)},removeClass:function(a){jsPlumbAdapter.removeClass(this.canvas,
a)},updateClasses:function(a,c){jsPlumbAdapter.updateClasses(this.canvas,a,c)},setType:function(a,c,b){this.clearTypes();this._jsPlumb.types=e(a)||[];w(this,c,b)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(a,c){w(this,a,c)},hasType:function(a){return-1!=jsPlumbUtil.indexOf(this._jsPlumb.types,a)},addType:function(a,c,b){a=e(a);var d=!1;if(null!=a){for(var g=0,k=a.length;k>g;g++)this.hasType(a[g])||(this._jsPlumb.types.push(a[g]),d=!0);d&&w(this,c,b)}},removeType:function(a,
c){var g=e(a),k=!1,l=function(a){a=d.indexOf(this._jsPlumb.types,a);return-1!=a?(b(this,a),this._jsPlumb.types.splice(a,1),!0):!1}.bind(this);if(null!=g){for(var m=0,r=g.length;r>m;m++)k=l(g[m])||k;k&&w(this,null,c)}},clearTypes:function(a){for(var c=this._jsPlumb.types.length,e=0;c>e;e++)b(this,0),this._jsPlumb.types.splice(0,1);w(this,{},a)},toggleType:function(a,c,d){a=e(a);if(null!=a){for(var g=0,k=a.length;k>g;g++){var l=jsPlumbUtil.indexOf(this._jsPlumb.types,a[g]);-1!=l?(b(this,l),this._jsPlumb.types.splice(l,
1)):this._jsPlumb.types.push(a[g])}w(this,c,d)}},applyType:function(a,c){if(this.setPaintStyle(a.paintStyle,c),this.setHoverPaintStyle(a.hoverPaintStyle,c),a.parameters)for(var b in a.parameters)this.setParameter(b,a.parameters[b])},setPaintStyle:function(a,c){this._jsPlumb.paintStyle=a;this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle;n(this);c||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(a,c){this._jsPlumb.hoverPaintStyle=a;n(this);
c||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(){this.cleanupListeners();this._jsPlumb=this.clone=null},isHover:function(){return this._jsPlumb.hover},setHover:function(a,c,b){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){if(this._jsPlumb.hover=a,null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass){var e=a?"addClass":"removeClass";this._jsPlumb.instance[e](this.canvas,this._jsPlumb.instance.hoverClass)}null!=
this._jsPlumb.hoverClass&&this._jsPlumb.instance[e](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=a?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(b=b||t(),this.repaint({timestamp:b,recalc:!1})));if(this.getAttachedElements&&!c&&(c=t(),b=this.getAttachedElements()))for(var e=0,d=b.length;d>e;e++)this&&this==b[e]||b[e].setHover(a,!0,c)}}});var g=function(a,c){for(var b=-1,e=0,d=a._jsPlumb.overlays.length;d>
e;e++)if(c===a._jsPlumb.overlays[e].id){b=e;break}return b},k=function(a,b){var e=c.extend({cssClass:b.cssClass,labelStyle:a.labelStyle,id:"__label",component:a,_jsPlumb:a._jsPlumb.instance},b);return new (c.Overlays[a._jsPlumb.instance.getRenderMode()].Label)(e)},l=function(a,b){var e=null;if(d.isArray(b)){var e=b[0],g=c.extend({component:a,_jsPlumb:a._jsPlumb.instance},b[1]);3==b.length&&c.extend(g,b[2]);e=new (c.Overlays[a._jsPlumb.instance.getRenderMode()][e])(g)}else e=b.constructor==String?
new (c.Overlays[a._jsPlumb.instance.getRenderMode()][b])({component:a,_jsPlumb:a._jsPlumb.instance}):b;a._jsPlumb.overlays.push(e)},m=function(a,b){var e=a.defaultOverlayKeys||[],d=b.overlays,g=function(b){return a._jsPlumb.instance.Defaults[b]||c.Defaults[b]||[]};d||(d=[]);for(var k=0,l=e.length;l>k;k++)d.unshift.apply(d,g(e[k]));return d},r=window.OverlayCapableJsPlumbUIComponent=function(c){a.apply(this,arguments);this._jsPlumb.overlays=[];var b=m(this,c);if(b)for(var e=0,d=b.length;d>e;e++)l(this,
b[e]);c.label&&this._jsPlumb.overlays.push(k(this,{label:c.label,location:c.labelLocation||this.defaultLabelLocation||.5,labelStyle:c.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle}));this.setListenerComponent=function(a){if(this._jsPlumb)for(var c=0;c<this._jsPlumb.overlays.length;c++)this._jsPlumb.overlays[c].setListenerComponent(a)}};jsPlumbUtil.extend(r,a,{applyType:function(a,c){if(this.removeAllOverlays(c),a.overlays)for(var b=0,e=a.overlays.length;e>b;b++)this.addOverlay(a.overlays[b],
!0)},setHover:function(a){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var c=0,b=this._jsPlumb.overlays.length;b>c;c++)this._jsPlumb.overlays[c][a?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(a,c){l(this,a);c||this.repaint()},getOverlay:function(a){a=g(this,a);return 0<=a?this._jsPlumb.overlays[a]:null},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(a){(a=this.getOverlay(a))&&a.hide()},hideOverlays:function(){for(var a=
0,c=this._jsPlumb.overlays.length;c>a;a++)this._jsPlumb.overlays[a].hide()},showOverlay:function(a){(a=this.getOverlay(a))&&a.show()},showOverlays:function(){for(var a=0,c=this._jsPlumb.overlays.length;c>a;a++)this._jsPlumb.overlays[a].show()},removeAllOverlays:function(a){for(var c=0,b=this._jsPlumb.overlays.length;b>c;c++)this._jsPlumb.overlays[c].cleanup&&this._jsPlumb.overlays[c].cleanup();this._jsPlumb.overlays.splice(0,this._jsPlumb.overlays.length);this._jsPlumb.overlayPositions=null;a||this.repaint()},
removeOverlay:function(a){var c=g(this,a);if(-1!=c){var b=this._jsPlumb.overlays[c];b.cleanup&&b.cleanup();this._jsPlumb.overlays.splice(c,1);this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[a]}},removeOverlays:function(){for(var a=0,c=arguments.length;c>a;a++)this.removeOverlay(arguments[a])},moveParent:function(a){this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),a.appendChild(this.bgCanvas));this.canvas.parentNode.removeChild(this.canvas);a.appendChild(this.canvas);
for(var c=0;c<this._jsPlumb.overlays.length;c++)this._jsPlumb.overlays[c].isAppendedAtTopLevel&&(this._jsPlumb.overlays[c].canvas.parentNode.removeChild(this._jsPlumb.overlays[c].canvas),a.appendChild(this._jsPlumb.overlays[c].canvas))},getLabel:function(){var a=this.getOverlay("__label");return null!=a?a.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(a){var c=this.getOverlay("__label");c?a.constructor==String||a.constructor==Function?c.setLabel(a):
(a.label&&c.setLabel(a.label),a.location&&c.setLocation(a.location)):(c=k(this,a.constructor==String||a.constructor==Function?{label:a}:a),this._jsPlumb.overlays.push(c));this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(){for(var a=0;a<this._jsPlumb.overlays.length;a++)this._jsPlumb.overlays[a].cleanup(),this._jsPlumb.overlays[a].destroy();this._jsPlumb.overlays.length=0;this._jsPlumb.overlayPositions=null},setVisible:function(a){this[a?"showOverlays":"hideOverlays"]()},
setAbsoluteOverlayPosition:function(a,c){this._jsPlumb.overlayPositions=this._jsPlumb.overlayPositions||{};this._jsPlumb.overlayPositions[a.id]=c},getAbsoluteOverlayPosition:function(a){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[a.id]:null}});var y=0,z=function(){var a=y+1;return y++,a},v=window.jsPlumbInstance=function(b){this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,
DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:4,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};b&&c.extend(this.Defaults,b);this.logEnabled=this.Defaults.LogEnabled;this._connectionTypes={};
this._endpointTypes={};jsPlumbUtil.EventGenerator.apply(this);var e=this,g=z(),k=e.bind,l={},m=1,r=function(a){var c=e.getDOMElement(a);return{el:c,id:jsPlumbUtil.isString(a)&&null==c?a:da(c)}};this.getInstanceIndex=function(){return g};this.setZoom=function(a,c){return jsPlumbUtil.oldIE||(m=a,e.fire("zoom",m),c&&e.repaintEverything()),!jsPlumbUtil.oldIE};this.getZoom=function(){return m};for(var v in this.Defaults)l[v]=this.Defaults[v];var n;this.setContainer=function(a){a=this.getDOMElement(a);
this.select().each(function(c){c.moveParent(a)});this.selectEndpoints().each(function(c){c.moveParent(a)});n=a;for(var c=function(a,c){var b=c.srcElement||c.target;(b=(b&&b.parentNode?b.parentNode._jsPlumb:null)||(b?b._jsPlumb:null)||(b&&b.parentNode&&b.parentNode.parentNode?b.parentNode.parentNode._jsPlumb:null))&&(b.fire(a,b,c),e.fire(a,b,c))},b=function(a){e.on(n,a,"._jsPlumb_connector, ._jsPlumb_connector > *",function(b){c(a,b)});e.on(n,a,"._jsPlumb_endpoint, ._jsPlumb_endpoint > *, ._jsPlumb_endpoint svg *",
function(b){c(a,b)});e.on(n,a,"._jsPlumb_overlay, ._jsPlumb_overlay *",function(b){c(a,b)})},d=0;d<q.length;d++)b(q[d])};this.getContainer=function(){return n};this.bind=function(a,c){"ready"===a&&w?c():k.apply(e,[a,c])};e.importDefaults=function(a){for(var c in a)e.Defaults[c]=a[c];return a.Container&&e.setContainer(a.Container),e};e.restoreDefaults=function(){return e.Defaults=c.extend({},l),e};var y=null,w=!1,P=[],G={},R={},J={},C={},ba={},M={},N=!1,E=[],Q=!1,L=null,fa=this.Defaults.Scope,aa=null,
ha=1,ga=function(){return""+ha++};b=function(a,c){n?n.appendChild(a):c?this.getDOMElement(c).appendChild(a):this.appendToRoot(a)}.bind(this);var U=function(a,c,b,d){if(!jsPlumbAdapter.headless&&!Q){a=da(a);var g=e.dragManager.getElementsForDraggable(a);null==b&&(b=t());var h=ta({elId:a,offset:c,recalc:!1,timestamp:b});if(g)for(var k in g)ta({elId:g[k].id,offset:{left:h.o.left+g[k].offset.left,top:h.o.top+g[k].offset.top},recalc:!1,timestamp:b});if(e.anchorManager.redraw(a,c,b,null,d),g)for(var l in g)e.anchorManager.redraw(g[l].id,
c,b,g[l].offset,d,!0)}},W=function(a,c){var b,g,h=null;if(d.isArray(a))for(var h=[],k=0,l=a.length;l>k;k++)b=e.getElementObject(a[k]),b=e.getDOMElement(b),g=e.getAttribute(b,"id"),h.push(c.apply(e,[b,g]));else b=e.getDOMElement(a),g=e.getId(b),h=c.apply(e,[b,g]);return h},Y=function(a,b,g,h){if(!jsPlumbAdapter.headless&&(null==b?0:b)&&c.isDragSupported(a,e)&&!c.isAlreadyDraggable(a,e)){var k=g||e.Defaults.DragOptions,k=c.extend({},k);b=c.dragEvents.drag;var l=c.dragEvents.stop,m=c.dragEvents.start,
r=e.getDOMElement(a),p=e.dragManager.getDragAncestor(r),q={left:0,top:0},v=q,n=!1;Ra(h,a);k[m]=d.wrap(k[m],function(){return v=null!=p?jsPlumbAdapter.getOffset(p,e):q,e.setHoverSuspended(!0),e.select({source:a}).addClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0),e.select({target:a}).addClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0),e.setConnectionBeingDragged(!0),k.canDrag?g.canDrag():void 0},!1);k[b]=d.wrap(k[b],function(){var c=e.getUIPosition(arguments,e.getZoom());
c.left+=v.left;c.top+=v.top;U(a,c,null,!0);n&&e.addClass(a,"jsPlumb_dragged");n=!0});k[l]=d.wrap(k[l],function(){var c=e.getUIPosition(arguments,e.getZoom(),!0);U(a,c);n=!1;e.removeClass(a,"jsPlumb_dragged");e.setHoverSuspended(!1);e.select({source:a}).removeClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0);e.select({target:a}).removeClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0);e.setConnectionBeingDragged(!1);e.dragManager.dragEnded(a)});h=da(a);M[h]=!0;h=M[h];
k.disabled=null==h?!1:!h;e.initDraggable(a,k);e.dragManager.register(a)}},ia=function(a,c){for(var b=a.scope.split(/\s/),e=c.scope.split(/\s/),f=0;f<b.length;f++)for(var d=0;d<e.length;d++)if(e[d]==b[f])return!0;return!1},T=function(a,b){var g=c.extend({},a);if(b&&c.extend(g,b),g.source&&(g.source.endpoint?g.sourceEndpoint=g.source:g.source=e.getDOMElement(g.source)),g.target&&(g.target.endpoint?g.targetEndpoint=g.target:g.target=e.getDOMElement(g.target)),a.uuids&&(g.sourceEndpoint=R[a.uuids[0]],
g.targetEndpoint=R[a.uuids[1]]),g.sourceEndpoint&&g.sourceEndpoint.isFull())return d.log(e,"could not add connection; source endpoint is full"),void 0;if(g.targetEndpoint&&g.targetEndpoint.isFull())return d.log(e,"could not add connection; target endpoint is full"),void 0;if(!g.type&&g.sourceEndpoint&&(g.type=g.sourceEndpoint.connectionType),g.sourceEndpoint&&g.sourceEndpoint.connectorOverlays){g.overlays=g.overlays||[];for(var h=0,k=g.sourceEndpoint.connectorOverlays.length;k>h;h++)g.overlays.push(g.sourceEndpoint.connectorOverlays[h])}!g["pointer-events"]&&
g.sourceEndpoint&&g.sourceEndpoint.connectorPointerEvents&&(g["pointer-events"]=g.sourceEndpoint.connectorPointerEvents);var l=function(a,b){var e=c.extend({},a),f;for(f in b)b[f]&&(e[f]=b[f]);return e},h=function(a,c,b){if(g[a]&&!g[a].endpoint&&!g[a+"Endpoint"]&&!g.newConnection){var d=da(g[a]);if(b=b[d]){if(!b.enabled)return!1;c=null!=b.endpoint&&b.endpoint._jsPlumb?b.endpoint:e.addEndpoint(g[a],l(b.def,{anchor:g.anchors?g.anchors[c]:g.anchor,endpoint:g.endpoints?g.endpoints[c]:g.endpoint,paintStyle:g.endpointStyles?
g.endpointStyles[c]:g.endpointStyle,hoverPaintStyle:g.endpointHoverStyles?g.endpointHoverStyles[c]:g.endpointHoverStyle}));if(b.uniqueEndpoint&&(b.endpoint=c),c.isFull())return!1;g[a+"Endpoint"]=c;c._doNotDeleteOnDetach=!1;c._deleteOnDetach=!0}}};return!1!==h("source",0,this.sourceEndpointDefinitions)&&!1!==h("target",1,this.targetEndpointDefinitions)?(g.sourceEndpoint&&g.targetEndpoint&&(ia(g.sourceEndpoint,g.targetEndpoint)||(g=null)),g):void 0}.bind(e),oa=function(a){var c=e.Defaults.ConnectionType||
e.getDefaultConnectionType();a._jsPlumb=e;a.newConnection=oa;a.newEndpoint=ca;a.endpointsByUUID=R;a.endpointsByElement=G;a.finaliseConnection=ya;a=new c(a);return a.id="con_"+ga(),a.isDetachable()&&(a.endpoints[0].initDraggable(),a.endpoints[1].initDraggable()),a},ya=e.finaliseConnection=function(a,c,b,d){(c=c||{},a.suspendedEndpoint||P.push(a),a.endpoints[0].isTemporarySource=!1,(null==a.suspendedEndpoint||d)&&e.anchorManager.newConnection(a),U(a.source),c.doNotFireConnectionEvent||!1===c.fireEvent)||
e.fire("connection",{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]},b)},ca=function(a,b){var d=e.Defaults.EndpointType||c.Endpoint,g=c.extend({},a);g._jsPlumb=e;g.newConnection=oa;g.newEndpoint=ca;g.endpointsByUUID=R;g.endpointsByElement=G;g.fireDetachEvent=Za;g.elementId=b||da(g.source);d=new d(g);return d.id="ep_"+ga(),Ra(g.elementId,g.source),jsPlumbAdapter.headless||e.dragManager.endpointAdded(g.source,
b),d},A=function(a,c,b){if((a=G[a])&&a.length)for(var e=0,f=a.length;f>e;e++){for(var d=0,g=a[e].connections.length;g>d;d++)if(c(a[e].connections[d]))return;b&&b(a[e])}},p=function(a,c,b){c="block"===c;var e=null;b&&(e=c?function(a){a.setVisible(!0,!0,!0)}:function(a){a.setVisible(!1,!0,!0)});var f=r(a);A(f.id,function(a){c&&b?a.endpoints[a.sourceId===f.id?1:0].isVisible()&&a.setVisible(!0):a.setVisible(c)},e)},da=function(a,c,b){if(jsPlumbUtil.isString(a))return a;if(null==a)return null;var d=e.getAttribute(a,
"id");return d&&"undefined"!==d||(2==arguments.length&&void 0!==arguments[1]?d=c:(1==arguments.length||3==arguments.length&&!arguments[2])&&(d="jsPlumb_"+g+"_"+ga()),b||e.setAttribute(a,"id",d)),d};this.setConnectionBeingDragged=function(a){N=a};this.isConnectionBeingDragged=function(){return N};this.connectorClass="_jsPlumb_connector";this.hoverClass="_jsPlumb_hover";this.endpointClass="_jsPlumb_endpoint";this.endpointConnectedClass="_jsPlumb_endpoint_connected";this.endpointFullClass="_jsPlumb_endpoint_full";
this.endpointDropAllowedClass="_jsPlumb_endpoint_drop_allowed";this.endpointDropForbiddenClass="_jsPlumb_endpoint_drop_forbidden";this.overlayClass="_jsPlumb_overlay";this.draggingClass="_jsPlumb_dragging";this.elementDraggingClass="_jsPlumb_element_dragging";this.sourceElementDraggingClass="_jsPlumb_source_element_dragging";this.targetElementDraggingClass="_jsPlumb_target_element_dragging";this.endpointAnchorClassPrefix="_jsPlumb_endpoint_anchor";this.hoverSourceClass="_jsPlumb_source_hover";this.hoverTargetClass=
"_jsPlumb_target_hover";this.dragSelectClass="_jsPlumb_drag_select";this.Anchors={};this.Connectors={svg:{},vml:{}};this.Endpoints={svg:{},vml:{}};this.Overlays={svg:{},vml:{}};this.ConnectorRenderers={};this.SVG="svg";this.VML="vml";this.addEndpoint=function(a,b,g){g=g||{};g=c.extend({},g);c.extend(g,b);g.endpoint=g.endpoint||e.Defaults.Endpoint;g.paintStyle=g.paintStyle||e.Defaults.EndpointStyle;b=[];a=d.isArray(a)||null!=a.length&&!d.isString(a)?a:[a];for(var h=0,k=a.length;k>h;h++){g.source=e.getDOMElement(a[h]);
Ka(g.source);var l=da(g.source),m=ca(g,l),r=Ra(l,g.source).info.o;d.addToList(G,l,m);Q||m.paint({anchorLoc:m.anchor.compute({xy:[r.left,r.top],wh:E[l],element:m,timestamp:L}),timestamp:L});b.push(m);m._doNotDeleteOnDetach=!0}return 1==b.length?b[0]:b};this.addEndpoints=function(a,c,b){for(var g=[],h=0,k=c.length;k>h;h++){var l=e.addEndpoint(a,c[h],b);d.isArray(l)?Array.prototype.push.apply(g,l):g.push(l)}return g};this.animate=function(a,b,g){g=g||{};var h=e.getElementObject(a);a=e.getDOMElement(a);
var k=da(a);a=c.animEvents.step;var l=c.animEvents.complete;g[a]=d.wrap(g[a],function(){e.revalidate(k)});g[l]=d.wrap(g[l],function(){e.revalidate(k)});e.doAnimate(h,b,g)};this.checkCondition=function(a,c){var b=e.getListener(a),g=!0;if(b&&0<b.length)try{for(var h=0,k=b.length;k>h;h++)g=g&&b[h](c)}catch(l){d.log(e,"cannot check condition ["+a+"]"+l)}return g};this.connect=function(a,c){var b,e=T(a,c);if(e){if(null==e.source&&null==e.sourceEndpoint)return jsPlumbUtil.log("Cannot establish connection - source does not exist"),
void 0;if(null==e.target&&null==e.targetEndpoint)return jsPlumbUtil.log("Cannot establish connection - target does not exist"),void 0;Ka(e.source);b=oa(e);ya(b,e)}return b};var lb=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],Ya=function(a,b,e,f){var d,g,h=lb[e];g=a[h.elId];var k=(a[h.el],a.endpoints[e]),l={index:e,originalSourceId:0===e?g:a.sourceId,newSourceId:a.sourceId,originalTargetId:1==e?g:a.targetId,newTargetId:a.targetId,
connection:a};if(b.constructor==c.Endpoint)b.addConnection(a);else if(d=da(b),g=this[h.epDefs][d],d===a[h.elId])b=null;else if(g){if(!g.enabled)return;b=null!=g.endpoint&&g.endpoint._jsPlumb?g.endpoint:this.addEndpoint(b,g.def);g.uniqueEndpoint&&(g.endpoint=b);b._doNotDeleteOnDetach=!1;b._deleteOnDetach=!0;b.addConnection(a)}else b=a.makeEndpoint(0===e,b,d),b._doNotDeleteOnDetach=!1,b._deleteOnDetach=!0;return null!=b&&(k.detachFromConnection(a),a.endpoints[e]=b,a[h.el]=b.element,a[h.elId]=b.elementId,
l[0===e?"newSourceId":"newTargetId"]=b.elementId,za(l),f||a.repaint()),l}.bind(this);this.setSource=function(a,c,b){c=Ya(a,c,0,b);this.anchorManager.sourceChanged(c.originalSourceId,c.newSourceId,a)};this.setTarget=function(a,c,b){c=Ya(a,c,1,b);this.anchorManager.updateOtherEndpoint(c.originalSourceId,c.originalTargetId,c.newTargetId,a)};this.deleteEndpoint=function(a,c){var b="string"==typeof a?R[a]:a;return b&&e.deleteObject({endpoint:b,dontUpdateHover:c}),e};this.deleteEveryEndpoint=function(){var a=
e.setSuspendDrawing(!0),c;for(c in G){var b=G[c];if(b&&b.length)for(var d=0,g=b.length;g>d;d++)e.deleteEndpoint(b[d],!0)}return G={},J={},R={},e.anchorManager.reset(),e.dragManager.reset(),a||e.setSuspendDrawing(!1),e};var Za=function(a,c,b){var d=e.Defaults.ConnectionType||e.getDefaultConnectionType();a=a.constructor==d?{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]}:a;c&&e.fire("connectionDetached",
a,b);e.anchorManager.connectionDetached(a)},za=e.fireMoveEvent=function(a,c){e.fire("connectionMoved",a,c)};this.unregisterEndpoint=function(a){a._jsPlumb.uuid&&(R[a._jsPlumb.uuid]=null);e.anchorManager.deleteEndpoint(a);for(var c in G){var b=G[c];if(b){for(var d=[],g=0,h=b.length;h>g;g++)b[g]!=a&&d.push(b[g]);G[c]=d}1>G[c].length&&delete G[c]}};this.detach=function(){if(0!==arguments.length){var a=e.Defaults.ConnectionType||e.getDefaultConnectionType(),b=arguments[0].constructor==a,a=2==arguments.length?
b?arguments[1]||{}:arguments[0]:arguments[0],d=!1!==a.fireEvent,g=a.forceDetach;if(b=b?arguments[0]:a.connection)(g||jsPlumbUtil.functionChain(!0,!1,[[b.endpoints[0],"isDetachAllowed",[b]],[b.endpoints[1],"isDetachAllowed",[b]],[b,"isDetachAllowed",[b]],[e,"checkCondition",["beforeDetach",b]]]))&&b.endpoints[0].detach(b,!1,!0,d);else if(a=c.extend({},a),a.uuids)R[a.uuids[0]].detachFrom(R[a.uuids[1]],d);else if(a.sourceEndpoint&&a.targetEndpoint)a.sourceEndpoint.detachFrom(a.targetEndpoint);else{var h=
da(e.getDOMElement(a.source)),k=da(e.getDOMElement(a.target));A(h,function(a){(a.sourceId==h&&a.targetId==k||a.targetId==h&&a.sourceId==k)&&e.checkCondition("beforeDetach",a)&&a.endpoints[0].detach(a,!1,!0,d)})}}};this.detachAllConnections=function(a,b){b=b||{};a=e.getDOMElement(a);var c=da(a);if((c=G[c])&&c.length)for(var d=0,g=c.length;g>d;d++)c[d].detachAll(!1!==b.fireEvent);return e};this.detachEveryConnection=function(a){return a=a||{},e.doWhileSuspended(function(){for(var b in G){var c=G[b];
if(c&&c.length)for(var e=0,f=c.length;f>e;e++)c[e].detachAll(!1!==a.fireEvent)}P.length=0}),e};this.deleteObject=function(a){var c={endpoints:{},connections:{},endpointCount:0,connectionCount:0},b=!1!==a.fireEvent,d=!1!==a.deleteAttachedObjects,g=function(b){if(null!=b&&null==c.connections[b.id]&&(a.dontUpdateHover||null==b._jsPlumb||b.setHover(!1),c.connections[b.id]=b,c.connectionCount++,d))for(var e=0;e<b.endpoints.length;e++)b.endpoints[e]._deleteOnDetach&&h(b.endpoints[e])},h=function(b){if(null!=
b&&null==c.endpoints[b.id]&&(a.dontUpdateHover||null==b._jsPlumb||b.setHover(!1),c.endpoints[b.id]=b,c.endpointCount++,d))for(var e=0;e<b.connections.length;e++)g(b.connections[e])};a.connection?g(a.connection):h(a.endpoint);for(var k in c.connections){var l=c.connections[k];l._jsPlumb&&(jsPlumbUtil.removeWithFunction(P,function(a){return l.id==a.id}),Za(l,b,a.originalEvent),l.endpoints[0].detachFromConnection(l),l.endpoints[1].detachFromConnection(l),l.cleanup(),l.destroy())}for(var m in c.endpoints)b=
c.endpoints[m],b._jsPlumb&&(e.unregisterEndpoint(b),b.cleanup(),b.destroy());return c};this.draggable=function(a,b){var c,d,g;if("object"==typeof a&&a.length)for(c=0,d=a.length;d>c;c++)g=r(a[c]),g.el&&Y(g.el,!0,b,g.id);else g=r(a),g.el&&Y(g.el,!0,b,g.id);return e};var wa=function(a,b,c){return function(){for(var e=arguments,f=0,d=a.length;d>f;f++)a[f][b].apply(a[f],e);return c(a)}},Ga=function(a,b){return function(){for(var c=arguments,e=[],f=0,d=a.length;d>f;f++)e.push([a[f][b].apply(a[f],c),a[f]]);
return e}},ua=function(a,b){var c=[];if(a)if("string"==typeof a){if("*"===a)return a;c.push(a)}else if(b)c=a;else if(a.length)for(var e=0,f=a.length;f>e;e++)c.push(r(a[e]).id);else c.push(r(a).id);return c},na=function(a,b,c){return"*"===a?!0:0<a.length?-1!=jsPlumbUtil.indexOf(a,b):!c};this.getConnections=function(a,b){a?a.constructor==String&&(a={scope:a}):a={};for(var c=a.scope||e.getDefaultScope(),c=ua(c,!0),d=ua(a.source),g=ua(a.target),h=!b&&1<c.length?{}:[],k=0,l=P.length;l>k;k++){var m=P[k];
if(na(c,m.scope)&&na(d,m.sourceId)&&na(g,m.targetId)){var r=m.scope;if(!b&&1<c.length){var p=h[r];null==p&&(p=h[r]=[]);p.push(m)}else h.push(m)}}return h};var D=function(a,b){return function(c){for(var e=0,f=a.length;f>e;e++)c(a[e]);return b(a)}},mb=function(a){return function(b){return a[b]}},$a=function(a,b){var c,e,f={length:a.length,each:D(a,b),get:mb(a)},d="setHover removeAllOverlays setLabel addClass addOverlay removeOverlay removeOverlays showOverlay hideOverlay showOverlays hideOverlays setPaintStyle setHoverPaintStyle setSuspendEvents setParameter setParameters setVisible repaint addType toggleType removeType removeClass setType bind unbind".split(" "),
g="getLabel getOverlay isHover getParameter getParameters getPaintStyle getHoverPaintStyle isVisible hasType getType isSuspendEvents".split(" ");c=0;for(e=d.length;e>c;c++)f[d[c]]=wa(a,d[c],b);c=0;for(e=g.length;e>c;c++)f[g[c]]=Ga(a,g[c]);return f},Ha=function(a){var b=$a(a,Ha);return c.extend(b,{setDetachable:wa(a,"setDetachable",Ha),setReattach:wa(a,"setReattach",Ha),setConnector:wa(a,"setConnector",Ha),detach:function(){for(var c=0,b=a.length;b>c;c++)e.detach(a[c])},isDetachable:Ga(a,"isDetachable"),
isReattach:Ga(a,"isReattach")})},ka=function(a){var b=$a(a,ka);return c.extend(b,{setEnabled:wa(a,"setEnabled",ka),setAnchor:wa(a,"setAnchor",ka),isEnabled:Ga(a,"isEnabled"),detachAll:function(){for(var c=0,b=a.length;b>c;c++)a[c].detachAll()},remove:function(){for(var c=0,b=a.length;b>c;c++)e.deleteObject({endpoint:a[c]})}})};this.select=function(a){return a=a||{},a.scope=a.scope||"*",Ha(a.connections||e.getConnections(a,!0))};this.selectEndpoints=function(a){a=a||{};a.scope=a.scope||"*";var c=!a.element&&
!a.source&&!a.target,b=c?"*":ua(a.element),e=c?"*":ua(a.source),c=c?"*":ua(a.target);a=ua(a.scope,!0);var f=[],d;for(d in G){var g=na(b,d,!0),h=na(e,d,!0),k="*"!=e,l=na(c,d,!0),m="*"!=c;if(g||h||l)a:for(g=0,h=G[d].length;h>g;g++)if(l=G[d][g],na(a,l.scope,!0)){var r=m&&0<c.length&&!l.isTarget;if(k&&0<e.length&&!l.isSource||r)continue a;f.push(l)}}return ka(f)};this.getAllConnections=function(){return P};this.getDefaultScope=function(){return fa};this.getEndpoint=function(a){return R[a]};this.getEndpoints=
function(a){return G[r(a).id]};this.getDefaultEndpointType=function(){return c.Endpoint};this.getDefaultConnectionType=function(){return c.Connection};this.getId=da;this.getOffset=function(a){return ta({elId:a}).o};this.appendElement=b;var Qa=!1;this.isHoverSuspended=function(){return Qa};this.setHoverSuspended=function(a){Qa=a};b=function(a){return function(){return jsPlumbAdapter.isRenderModeAvailable(a)}};this.isSVGAvailable=b("svg");this.isVMLAvailable=b("vml");this.hide=function(a,c){return p(a,
"none",c),e};this.idstamp=ga;this.connectorsInitialized=!1;var xa=[],ab=["svg","vml"];this.registerConnectorType=function(a,c){xa.push([a,c])};var Ka=function(a){!n&&a&&(a=e.getDOMElement(a),a.offsetParent&&e.setContainer(a.offsetParent))},Ra=e.manage=function(a,c){return J[a]||(J[a]={el:c,endpoints:[],connections:[]},J[a].info=ta({elId:a,timestamp:L})),J[a]},ta=this.updateOffset=function(a){var c,b=a.timestamp,d=a.recalc,g=a.offset,h=a.elId;return Q&&!b&&(b=L),!d&&b&&b===ba[h]?{o:a.offset||C[h],
s:E[h]}:(d||!g&&null==C[h]?(c=J[h]?J[h].el:null,null!=c&&(E[h]=e.getSize(c),C[h]=jsPlumbAdapter.getOffset(c,e,void 0),ba[h]=b)):(C[h]=g||C[h],null==E[h]&&(c=J[h].el,null!=c&&(E[h]=e.getSize(c))),ba[h]=b),C[h]&&!C[h].right&&(C[h].right=C[h].left+E[h][0],C[h].bottom=C[h].top+E[h][1],C[h].width=E[h][0],C[h].height=E[h][1],C[h].centerx=C[h].left+C[h].width/2,C[h].centery=C[h].top+C[h].height/2),{o:C[h],s:E[h]})};this.init=function(){var a=function(a,b,e){c.Connectors[a][b]=function(){e.apply(this,arguments);
c.ConnectorRenderers[a].apply(this,arguments)};jsPlumbUtil.extend(c.Connectors[a][b],[e,c.ConnectorRenderers[a]])};if(!c.connectorsInitialized){for(var b=0;b<xa.length;b++)for(var d=0;d<ab.length;d++)a(ab[d],xa[b][1],xa[b][0]);c.connectorsInitialized=!0}w||(e.Defaults.Container&&e.setContainer(e.Defaults.Container),e.anchorManager=new c.AnchorManager({jsPlumbInstance:e}),e.setRenderMode(e.Defaults.RenderMode),w=!0,e.fire("ready",e))}.bind(this);this.log=y;this.jsPlumbUIComponent=a;this.makeAnchor=
function(){var a,b=function(a,b){if(c.Anchors[a])return new c.Anchors[a](b);if(!e.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+a+"'"};};if(0===arguments.length)return null;var g=arguments[0],h=arguments[1],k=(arguments[2],null);if(g.compute&&g.getOrientation)return g;if("string"==typeof g)k=b(arguments[0],{elementId:h,jsPlumbInstance:e});else if(d.isArray(g))if(d.isArray(g[0])||d.isString(g[0]))2==g.length&&d.isObject(g[1])?d.isString(g[0])?(a=c.extend({elementId:h,jsPlumbInstance:e},
g[1]),k=b(g[0],a)):(a=c.extend({elementId:h,jsPlumbInstance:e,anchors:g[0]},g[1]),k=new c.DynamicAnchor(a)):k=new c.DynamicAnchor({anchors:g,selector:null,elementId:h,jsPlumbInstance:e});else{var l={x:g[0],y:g[1],orientation:4<=g.length?[g[2],g[3]]:[0,0],offsets:6<=g.length?[g[4],g[5]]:[0,0],elementId:h,jsPlumbInstance:e,cssClass:7==g.length?g[6]:null},k=new c.Anchor(l);k.clone=function(){return new c.Anchor(l)}}return k.id||(k.id="anchor_"+ga()),k};this.makeAnchors=function(a,b,g){for(var h=[],k=
0,l=a.length;l>k;k++)"string"==typeof a[k]?h.push(c.Anchors[a[k]]({elementId:b,jsPlumbInstance:g})):d.isArray(a[k])&&h.push(e.makeAnchor(a[k],b,g));return h};this.makeDynamicAnchor=function(a,b){return new c.DynamicAnchor({anchors:a,selector:b,elementId:null,jsPlumbInstance:e})};this.targetEndpointDefinitions={};var sa=function(a,c,b){a.paintStyle=a.paintStyle||b.Defaults.EndpointStyles[c]||b.Defaults.EndpointStyle;a.hoverPaintStyle=a.hoverPaintStyle||b.Defaults.EndpointHoverStyles[c]||b.Defaults.EndpointHoverStyle;
a.anchor=a.anchor||b.Defaults.Anchors[c]||b.Defaults.Anchor;a.endpoint=a.endpoint||b.Defaults.Endpoints[c]||b.Defaults.Endpoint};this.sourceEndpointDefinitions={};var Fa=function(a,b,c,e,f){a=a.target||a.srcElement;var d=!1;b=e.getSelector(b,c);for(c=0;c<b.length;c++)if(b[c]==a){d=!0;break}return f?!d:d};this.makeTarget=function(b,g,h){var k=c.extend({_jsPlumb:this},h);c.extend(k,g);sa(k,1,this);var l=k.scope||e.Defaults.Scope,m=(!1!==k.deleteEndpointsOnDetach,k.maxConnections||-1),p=k.onMaxConnections;
g=function(b){var g=r(b),h=g.id,q=new a(k);b=c.extend({},k.dropOptions||{});Ka(h);var v={def:k,uniqueEndpoint:k.uniqueEndpoint,maxConnections:m,enabled:!0};g.el._jsPlumbTarget=v;this.targetEndpointDefinitions[h]=v;var v=k._jsPlumb.EndpointDropHandler({jsPlumb:e,enabled:function(){return g.el._jsPlumbTarget.enabled},isFull:function(a){var b=e.select({target:h}).length,c=g.el._jsPlumbTarget,b=0<c.maxConnections&&b>=c.maxConnections;return b&&p&&p({element:g.el,connection:jpc},a),b},element:g.el,elementId:h,
isSource:!1,isTarget:!0,addClass:function(a){e.addClass(g.el,a)},removeClass:function(a){e.removeClass(g.el,a)},onDrop:function(a){a.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return q.isDropAllowed.apply(q,arguments)},getEndpoint:function(a){var b=e.getElementObject(g.el),c=g.el._jsPlumbTarget,d=c.endpoint;if((null==d||null==d._jsPlumb)&&(d=e.addEndpoint(b,k)),k.uniqueEndpoint&&(c.endpoint=d),d._doNotDeleteOnDetach=!1,d._deleteOnDetach=!0,a.isDetachable()&&d.initDraggable(),null!=d.anchor.positionFinder){var c=
e.getUIPosition(arguments,this.getZoom()),h=jsPlumbAdapter.getOffset(b,this,void 0),b=e.getSize(b),b=d.anchor.positionFinder(c,h,b,d.anchor.constructorParams);d.anchor.x=b[0];d.anchor.y=b[1]}return d}}),n=c.dragEvents.drop;b.scope=b.scope||l;b[n]=d.wrap(b[n],v);!1===k.allowLoopback&&(b.canDrop=function(a){return a.getDragElement()._jsPlumbRelatedElement!=g.el});this.initDroppable(this.getElementObject(g.el),b,"internal")}.bind(this);b=b.length&&b.constructor!=String?b:[b];h=0;for(var q=b.length;q>
h;h++)g(b[h]);return this};this.unmakeTarget=function(a,b){var e=r(a);return c.destroyDroppable(e.el),b||delete this.targetEndpointDefinitions[e.id],this};this.makeSource=function(a,b,g){var h=c.extend({},g);c.extend(h,b);sa(h,0,this);var k=h.maxConnections||1,l=h.onMaxConnections;b=function(a){var b=a.id,g=this.getElementObject(a.el),r=this.getDOMElement(g),p=function(){return null==h.parent?null:"parent"===h.parent?a.el.parentNode:e.getDOMElement(h.parent)},q=null!=h.parent?this.getId(p()):b;Ka(q);
this.sourceEndpointDefinitions[q]={def:h,uniqueEndpoint:h.uniqueEndpoint,maxConnections:k,enabled:!0};var v=c.dragEvents.stop,u=c.dragEvents.drag,z=c.extend({},h.dragOptions||{}),y=z.drag,t=z.stop,x=null,w=!1;z.scope=z.scope||h.scope;z[u]=d.wrap(z[u],function(){y&&y.apply(this,arguments);w=!1});z[v]=d.wrap(z[v],function(){if(t&&t.apply(this,arguments),this.currentlyDragging=!1,null!=x._jsPlumb){var a=x.anchor,c=x.connections[0],e=this.makeAnchor(h.anchor||this.Defaults.Anchor,b,this),f=x.element;
if(null!=e.positionFinder){var d=jsPlumbAdapter.getOffset(f,this,void 0),f=this.getSize(f),a=e.positionFinder({left:d.left+a.x*f[0],top:d.top+a.y*f[1]},d,f,e.constructorParams);e.x=a[0];e.y=a[1]}(x.setAnchor(e,!0),h.parent)&&(e=p())&&x.setElement(e,h.container||n);x.repaint();this.repaint(x.elementId);this.repaint(c.targetId)}}.bind(this));v=function(a){var d=this.getOriginalEvent(a);if(3!==a.which&&2!==a.button){var v=this.sourceEndpointDefinitions[q];if((b=this.getId(this.getDOMElement(g)),v.enabled)&&
(!h.filter||!1!==(jsPlumbUtil.isString(h.filter)?Fa(d,g,h.filter,this,h.filterExclude):h.filter(d,g)))){var n=this.select({source:q}).length;if(0<=v.maxConnections&&v.uniqueEndpoint&&n>=v.maxConnections)return l&&l({element:g,maxConnections:k},a),!1;d=jsPlumbAdapter.getPositionOnElement(d,r,m);n={};c.extend(n,h);n.isTemporarySource=!0;n.anchor=[d[0],d[1],0,0];n.dragOptions=z;x=this.addEndpoint(b,n);w=!0;x.endpointWillMoveTo=h.parent?p():null;v.uniqueEndpoint&&(v.endpoint?x.finalEndpoint=v.endpoint:
v.endpoint=x);x._doNotDeleteOnDetach=!1;x._deleteOnDetach=!0;var u=function(){e.off(x.canvas,"mouseup",u);e.off(g,"mouseup",u);w&&(w=!1,e.deleteEndpoint(x))};e.on(x.canvas,"mouseup",u);e.on(g,"mouseup",u);e.trigger(x.canvas,"mousedown",a);jsPlumbUtil.consume(a)}}}.bind(this);this.on(g,"mousedown",v);this.sourceEndpointDefinitions[q].trigger=v;h.filter&&jsPlumbUtil.isString(h.filter)&&e.setDragFilter(g,h.filter)}.bind(this);a=a.length&&a.constructor!=String?a:[a];g=0;for(var p=a.length;p>g;g++)b(r(a[g]));
return this};this.unmakeSource=function(a,b){var c=r(a),d=this.sourceEndpointDefinitions[c.id].trigger;return d&&e.off(c.el,"mousedown",d),b||delete this.sourceEndpointDefinitions[c.id],this};this.unmakeEverySource=function(){for(var a in this.sourceEndpointDefinitions)e.unmakeSource(a,!0);return this.sourceEndpointDefinitions={},this};var pa=function(a,b){b=jsPlumbUtil.isArray(b)?b:[b];for(var c=da(a),e=0;e<b.length;e++){var f=this[b[e]][c];if(f)return f.def.scope||this.Defaults.Scope}}.bind(this),
Da=function(a,b,c){c=jsPlumbUtil.isArray(c)?c:[c];for(var e=da(a),f=0;f<c.length;f++){var d=this[c[f]][e];d&&(d.def.scope=b,null!=this.scopeChange&&this.scopeChange(a,e,G[e],b,c[f]))}}.bind(this);this.getScope=function(a){return pa(a,["sourceEndpointDefinitions","targetEndpointDefinitions"])};this.getSourceScope=function(a){return pa(a,"sourceEndpointDefinitions")};this.getTargetScope=function(a){return pa(a,"targetEndpointDefinitions")};this.setScope=function(a,b){Da(a,b,["sourceEndpointDefinitions",
"targetEndpointDefinitions"])};this.setSourceScope=function(a,b){Da(a,b,"sourceEndpointDefinitions")};this.setTargetScope=function(a,b){Da(a,b,"targetEndpointDefinitions")};this.unmakeEveryTarget=function(){for(var a in this.targetEndpointDefinitions)e.unmakeTarget(a,!0);return this.targetEndpointDefinitions={},this};var Aa=function(a,b,c,e){a="source"==a?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(d.isString(b))a[b].enabled=e?!a[b].enabled:c;else if(b.length)for(var f=0,g=b.length;g>
f;f++){var h=r(b[f]);a[h.id]&&(a[h.id].enabled=e?!a[h.id].enabled:c)}else b=r(b).id,a[b].enabled=e?!a[b].enabled:c;return this}.bind(this),Na=function(a,b){return d.isString(a)||!a.length?b.apply(this,[a]):a.length?b.apply(this,[a[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(a){return Aa("source",a,null,!0),this.isSourceEnabled(a)};this.setSourceEnabled=function(a,b){return Aa("source",a,b)};this.isSource=function(a){return Na(a,function(a){return null!=this.sourceEndpointDefinitions[r(a).id]}.bind(this))};
this.isSourceEnabled=function(a){return Na(a,function(a){return(a=this.sourceEndpointDefinitions[r(a).id])&&!0===a.enabled}.bind(this))};this.toggleTargetEnabled=function(a){return Aa("target",a,null,!0),this.isTargetEnabled(a)};this.isTarget=function(a){return Na(a,function(a){return null!=this.targetEndpointDefinitions[r(a).id]}.bind(this))};this.isTargetEnabled=function(a){return Na(a,function(a){return(a=this.targetEndpointDefinitions[r(a).id])&&!0===a.enabled}.bind(this))};this.setTargetEnabled=
function(a,b){return Aa("target",a,b)};this.ready=function(a){e.bind("ready",a)};this.repaint=function(a,b,c){if("object"==typeof a&&a.length)for(var d=0,g=a.length;g>d;d++)U(a[d],b,c);else U(a,b,c);return e};this.revalidate=function(a){var b=e.getId(a);return e.updateOffset({elId:b,recalc:!0}),e.repaint(a)};this.repaintEverything=function(a){var b,c=t();for(b in G)e.updateOffset({elId:b,recalc:!0,timestamp:c});for(b in G)U(b,null,c,a);return this};this.removeAllEndpoints=function(a,b){var c=function(a){var d,
g=r(a),h=G[g.id];if(h)for(a=0,d=h.length;d>a;a++)e.deleteEndpoint(h[a]);if(delete G[g.id],b&&g.el&&3!=g.el.nodeType&&8!=g.el.nodeType)for(a=0,d=g.el.childNodes.length;d>a;a++)c(g.el.childNodes[a])};return c(a),this};this.remove=function(a,b){var c=r(a);e.doWhileSuspended(function(){e.removeAllEndpoints(c.id,!0);e.dragManager.elementRemoved(c.id);delete e.floatingConnections[c.id];e.anchorManager.clearFor(c.id);e.anchorManager.removeFloatingConnection(c.id)},!1===b);delete J[c.id];return c.el&&(e.removeElement(c.el),
c.el._jsPlumb=null),e};this.reset=function(){e.setSuspendEvents(!0);e.deleteEveryEndpoint();e.unbind();this.targetEndpointDefinitions={};this.sourceEndpointDefinitions={};P.length=0;e.setSuspendEvents(!1)};var bb=function(a){a.canvas&&a.canvas.parentNode&&a.canvas.parentNode.removeChild(a.canvas);a.cleanup();a.destroy()};this.clear=function(){e.select().each(bb);e.selectEndpoints().each(bb);G={};R={}};this.setDefaultScope=function(a){return fa=a,e};this.setDraggable=function(a,b){return W(a,function(a,
c){M[c]=b;this.isDragSupported(a)&&this.setElementDraggable(a,b)})};this.setId=function(a,b,c){var e;jsPlumbUtil.isString(a)?e=a:(a=this.getDOMElement(a),e=this.getId(a));var f=this.getConnections({source:e,scope:"*"},!0),d=this.getConnections({target:e,scope:"*"},!0);b=""+b;c?a=this.getDOMElement(b):(a=this.getDOMElement(e),this.setAttribute(a,"id",b));G[b]=G[e]||[];c=0;for(var g=G[b].length;g>c;c++)G[b][c].setElementId(b),G[b][c].setReferenceElement(a);delete G[e];this.anchorManager.changeId(e,
b);this.dragManager&&this.dragManager.changeId(e,b);J[b]=J[e];delete J[e];e=function(c,e,f){for(var d=0,g=c.length;g>d;d++)c[d].endpoints[e].setElementId(b),c[d].endpoints[e].setReferenceElement(a),c[d][f+"Id"]=b,c[d][f]=a};e(f,0,"source");e(d,1,"target");this.repaint(b)};this.setDebugLog=function(a){y=a};this.setSuspendDrawing=function(a,b){var c=Q;return Q=a,L=a?(new Date).getTime():null,b&&this.repaintEverything(),c};this.isSuspendDrawing=function(){return Q};this.getSuspendedAt=function(){return L};
this.doWhileSuspended=function(a,b){var c=this.isSuspendDrawing();c||this.setSuspendDrawing(!0);try{a()}catch(e){d.log("Function run while suspended failed",e)}c||this.setSuspendDrawing(!1,!b)};this.getOffset=function(a){return C[a]};this.getCachedData=function(a){var b=C[a];return b?{o:b,s:E[a]}:ta({elId:a})};this.timestamp=t;this.setRenderMode=function(a){if(a!==c.SVG&&a!==c.VML)throw new TypeError("Render mode ["+a+"] not supported");return aa=jsPlumbAdapter.setRenderMode(a)};this.getRenderMode=
function(){return aa};this.show=function(a,b){return p(a,"block",b),e};this.toggleVisible=function(a,b){var c=null;b&&(c=function(a){var b=a.isVisible();a.setVisible(!b)});A(a,function(a){var b=a.isVisible();a.setVisible(!b)},c)};this.toggleDraggable=function(a){return W(a,function(a,b){var c=null==M[b]?!1:M[b];return c=!c,M[b]=c,this.setDraggable(a,c),c}.bind(this))};this.addListener=this.bind;jsPlumbAdapter.headless||(e.dragManager=jsPlumbAdapter.getDragManager(e),e.recalculateOffsets=e.dragManager.updateOffsets)};
jsPlumbUtil.extend(v,jsPlumbUtil.EventGenerator,{setAttribute:function(a,b,c){this.setAttribute(a,b,c)},getAttribute:function(a,b){return this.getAttribute(c.getDOMElement(a),b)},registerConnectionType:function(a,b){this._connectionTypes[a]=c.extend({},b)},registerConnectionTypes:function(a){for(var b in a)this._connectionTypes[b]=c.extend({},a[b])},registerEndpointType:function(a,b){this._endpointTypes[a]=c.extend({},b)},registerEndpointTypes:function(a){for(var b in a)this._endpointTypes[b]=c.extend({},
a[b])},getType:function(a,b){return"connection"===b?this._connectionTypes[a]:this._endpointTypes[a]},setIdChanged:function(a,b){this.setId(a,b,!0)},setParent:function(a,b){var c=this.getElementObject(a),e=this.getDOMElement(c),d=this.getId(e),g=this.getElementObject(b),k=this.getDOMElement(g),l=this.getId(k);e.parentNode.removeChild(e);k.appendChild(e);this.dragManager.setParent(c,d,g,l)},getSize:function(a){return[a.offsetWidth,a.offsetHeight]},getWidth:function(a){return a.offsetWidth},getHeight:function(a){return a.offsetHeight},
extend:function(a,b,c){var e;if(c)for(e=0;e<c.length;e++)a[c[e]]=b[c[e]];else for(e in b)a[e]=b[e];return a},floatingConnections:{},getFloatingAnchorIndex:function(a){return a.endpoints[0].isFloating()?0:1}},jsPlumbAdapter);var c=new v;"undefined"!=typeof window&&(window.jsPlumb=c);c.getInstance=function(a){a=new v(a);return a.init(),a};"function"==typeof define&&(define("jsplumb",[],function(){return c}),define("jsplumbinstance",[],function(){return c.getInstance()}));"undefined"!=typeof exports&&
(exports.jsPlumb=c)})();
(function(){var d=function(d,e){var n=!1;return{drag:function(){if(n)return n=!1,!0;var a=jsPlumb.getUIPosition(arguments,e.getZoom());d.element&&(jsPlumbAdapter.setPosition(d.element,a),e.repaint(d.element,a))},stopDrag:function(){n=!0}}},t="connectorStyle connectorHoverStyle connectorOverlays connector connectionType connectorClass connectorHoverClass".split(" "),n=function(d,e){return jsPlumbUtil.findWithFunction(e.connections,function(e){return e.id==d.id})};jsPlumb.Endpoint=function(q){var e=
q._jsPlumb,w=jsPlumb.getElementObject,a=jsPlumbUtil,b=q.newConnection,g=q.newEndpoint;q.finaliseConnection;q.fireMoveEvent;this.idPrefix="_jsplumb_e_";this.defaultLabelLocation=[.5,.5];this.defaultOverlayKeys=["Overlays","EndpointOverlays"];OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.getDefaultType=function(){return{parameters:{},scope:null,maxConnections:this._jsPlumb.instance.Defaults.MaxConnections,paintStyle:this._jsPlumb.instance.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,
endpoint:this._jsPlumb.instance.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,hoverPaintStyle:this._jsPlumb.instance.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,overlays:this._jsPlumb.instance.Defaults.EndpointOverlays||jsPlumb.Defaults.EndpointOverlays,connectorStyle:q.connectorStyle,connectorHoverStyle:q.connectorHoverStyle,connectorClass:q.connectorClass,connectorHoverClass:q.connectorHoverClass,connectorOverlays:q.connectorOverlays,connector:q.connector,connectorTooltip:q.connectorTooltip}};
this._jsPlumb.enabled=!1!==q.enabled;this._jsPlumb.visible=!0;this.element=jsPlumb.getDOMElement(q.source);this._jsPlumb.uuid=q.uuid;var k=this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(q.endpointsByUUID[this._jsPlumb.uuid]=this);this.elementId=q.elementId;this._jsPlumb.connectionCost=q.connectionCost;this._jsPlumb.connectionsDirected=q.connectionsDirected;this._jsPlumb.currentAnchorClass="";this._jsPlumb.events={};var l=function(){var a=this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=
this.anchor.getCssClass();jsPlumbAdapter.updateClasses(this.element,e.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass,e.endpointAnchorClassPrefix+"_"+a);this.updateClasses(e.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass,e.endpointAnchorClassPrefix+"_"+a)}.bind(this);this.setAnchor=function(a,b){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=this._jsPlumb.instance.makeAnchor(a,this.elementId,e),l(),this.anchor.bind("anchorChanged",
function(a){this.fire("anchorChanged",{endpoint:this,anchor:a});l()}.bind(this)),b||this._jsPlumb.instance.repaint(this.elementId),this};this.setAnchor(q.anchor?q.anchor:q.anchors?q.anchors:e.Defaults.Anchor||"Top",!0);var m=function(a){if(0<this.connections.length)for(var b=0;b<this.connections.length;b++)this.connections[b].setHover(a,!1);else this.setHover(a)}.bind(this);this.bind("mouseover",function(){m(!0)});this.bind("mouseout",function(){m(!1)});q._transient||this._jsPlumb.instance.anchorManager.add(this,
this.elementId);this.setEndpoint=function(b){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy());var d=function(a,b){var c=e.getRenderMode();if(jsPlumb.Endpoints[c][a])return new jsPlumb.Endpoints[c][a](b);if(!e.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+a+"'"};},c={_jsPlumb:this._jsPlumb.instance,cssClass:q.cssClass,container:q.container,tooltip:q.tooltip,connectorTooltip:q.connectorTooltip,endpoint:this};a.isString(b)?this.endpoint=d(b,c):a.isArray(b)?
(c=a.merge(b[1],c),this.endpoint=d(b[0],c)):this.endpoint=b.clone();this.endpoint.clone=function(){return a.isString(b)?d(b,c):a.isArray(b)?(c=a.merge(b[1],c),d(b[0],c)):void 0}.bind(this);this.type=this.endpoint.type};this.setEndpoint(q.endpoint||e.Defaults.Endpoint||jsPlumb.Defaults.Endpoint||"Dot");this.setPaintStyle(q.endpointStyle||q.paintStyle||q.style||e.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,!0);this.setHoverPaintStyle(q.endpointHoverStyle||q.hoverPaintStyle||e.Defaults.EndpointHoverStyle||
jsPlumb.Defaults.EndpointHoverStyle,!0);this._jsPlumb.paintStyleInUse=this.getPaintStyle();jsPlumb.extend(this,q,t);this.isSource=q.isSource||!1;this.isTemporarySource=q.isTemporarySource||!1;this.isTarget=q.isTarget||!1;this._jsPlumb.maxConnections=q.maxConnections||e.Defaults.MaxConnections;this.canvas=this.endpoint.canvas;this.canvas._jsPlumb=this;this.addClass(e.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);jsPlumbAdapter.addClass(this.element,e.endpointAnchorClassPrefix+"_"+
this._jsPlumb.currentAnchorClass);this.connections=q.connections||[];this.connectorPointerEvents=q["connector-pointer-events"];this.scope=q.scope||e.getDefaultScope();this.timestamp=null;this.reattachConnections=q.reattach||e.Defaults.ReattachConnections;this.connectionsDetachable=e.Defaults.ConnectionsDetachable;!1!==q.connectionsDetachable&&!1!==q.detachable||(this.connectionsDetachable=!1);this.dragAllowedWhenFull=!1!==q.dragAllowedWhenFull;q.onMaxConnections&&this.bind("maxConnections",q.onMaxConnections);
this.addConnection=function(a){this.connections.push(a);this[(0<this.connections.length?"add":"remove")+"Class"](e.endpointConnectedClass);this[(this.isFull()?"add":"remove")+"Class"](e.endpointFullClass)};this.detachFromConnection=function(a,b,c){b=null==b?n(a,this):b;0<=b&&(this.connections.splice(b,1),this[(0<this.connections.length?"add":"remove")+"Class"](e.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](e.endpointFullClass));!c&&this._deleteOnDetach&&0===this.connections.length&&
e.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!1})};this.detach=function(a,b,c,d,f,g,k){g=null==k?n(a,this):k;k=!1;return d=!1!==d,0<=g&&(c||a._forceDetach||a.isDetachable()&&a.isDetachAllowed(a)&&this.isDetachAllowed(a)&&e.checkCondition("beforeDetach",a))&&(e.deleteObject({connection:a,fireEvent:!b&&d,originalEvent:f,deleteAttachedObjects:!1}),k=!0),k};this.detachAll=function(a,b){for(;0<this.connections.length;)this.detach(this.connections[0],!1,!0,!1!==a,b,this,0);return this};
this.detachFrom=function(a,b,c){for(var e=[],d=0;d<this.connections.length;d++)this.connections[d].endpoints[1]!=a&&this.connections[d].endpoints[0]!=a||e.push(this.connections[d]);for(a=0;a<e.length;a++)this.detach(e[a],!1,!0,b,c);return this};this.getElement=function(){return this.element};this.setElement=function(b){var d=this._jsPlumb.instance.getId(b),c=this.elementId;return a.removeWithFunction(q.endpointsByElement[this.elementId],function(a){return a.id==this.id}.bind(this)),this.element=jsPlumb.getDOMElement(b),
this.elementId=e.getId(this.element),e.anchorManager.rehomeEndpoint(this,c,this.element),e.dragManager.endpointAdded(this.element),a.addToList(q.endpointsByElement,d,this),this};this.makeInPlaceCopy=function(){var a=this.anchor.getCurrentLocation({element:this}),b=this.anchor.getOrientation(this),c=this.anchor.getCssClass();return g({dropOptions:q.dropOptions,anchor:{bind:function(){},compute:function(){return[a[0],a[1]]},getCurrentLocation:function(){return[a[0],a[1]]},getOrientation:function(){return b},
getCssClass:function(){return c}},source:this.element,paintStyle:this.getPaintStyle(),endpoint:q.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope})};this.connectorSelector=function(){var a=this.connections[0];return this.isTarget&&a?a:this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:a};this.setStyle=this.setPaintStyle;this.repaint=this.paint=function(a){a=a||{};var b=a.timestamp,c=!1!==a.recalc;if(!b||this.timestamp!==b){var d=e.updateOffset({elId:this.elementId,
timestamp:b}),f=a.offset?a.offset.o:d.o;if(null!=f){var g=a.anchorPoint,k=a.connectorPaintStyle;if(null==g){d={xy:[f.left,f.top],wh:a.dimensions||d.s,element:this,timestamp:b};if(c&&this.anchor.isDynamic&&0<this.connections.length){a=a.elementWithPrecedence;c=0;if(null!=a)for(f=0;f<this.connections.length;f++)if(this.connections[f].sourceId==a||this.connections[f].targetId==a){c=f;break}a=this.connections[c];c=a.endpoints[0]==this?1:0;g=e.getCachedData(0===c?a.sourceId:a.targetId);f=g.o;g=g.s;d.txy=
[f.left,f.top];d.twh=g;d.tElement=a.endpoints[c]}g=this.anchor.compute(d)}this.endpoint.compute(g,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,k||this.paintStyleInUse);this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor);this.timestamp=b;for(b=0;b<this._jsPlumb.overlays.length;b++)k=this._jsPlumb.overlays[b],k.isVisible()&&(this._jsPlumb.overlayPlacements[b]=k.draw(this.endpoint,this._jsPlumb.paintStyleInUse),k.paint(this._jsPlumb.overlayPlacements[b]))}}};var r=!1;this.initDraggable=
function(){if(!r&&jsPlumb.isDragSupported(this.element)){var l={id:null,element:null},m=null,c=!1,h=null,f=d(l,e),n=q.dragOptions||{},y=jsPlumb.dragEvents.start,t=jsPlumb.dragEvents.stop,V=jsPlumb.dragEvents.drag,H=function(){m=this.connectorSelector();var d=!0;if(this.isEnabled()||(d=!1),null!=m||this.isSource||this.isTemporarySource||(d=!1),this.isSource&&this.isFull()&&!this.dragAllowedWhenFull&&(d=!1),null==m||m.isDetachable()||(d=!1),!1===d)return e.stopDrag&&e.stopDrag(this.canvas),f.stopDrag(),
!1;for(d=0;d<this.connections.length;d++)this.connections[d].setHover(!1);this.addClass("endpointDrag");e.setConnectionBeingDragged(!0);m&&!this.isFull()&&this.isSource&&(m=null);e.updateOffset({elId:this.elementId});k=this.makeInPlaceCopy();k.referenceEndpoint=this;k.paint();var d=e,r=document.createElement("div");r.style.position="absolute";(d.getContainer()||document.body).appendChild(r);var n=d.getId(r);d.manage(n,r);l.id=n;l.element=r;d=w(k.canvas);r=jsPlumbAdapter.getOffset(d,this._jsPlumb.instance);
d=w(this.canvas);jsPlumbAdapter.setPosition(l.element,r);this.parentAnchor&&(this.anchor=e.makeAnchor(this.parentAnchor,this.elementId,e));e.setAttribute(this.canvas,"dragId",l.id);e.setAttribute(this.canvas,"elId",this.elementId);var r=this._jsPlumb,n=this.getPaintStyle(),u=this.endpoint,y=l.element,t=g,x=this.scope,V=new jsPlumb.FloatingAnchor({reference:this.anchor,referenceCanvas:this.canvas,jsPlumbInstance:e}),n=t({paintStyle:n,endpoint:u,anchor:V,source:y,scope:x});(r.floatingEndpoint=n,this.canvas.style.visibility=
"hidden",null==m)?(this.anchor.locked=!0,this.setHover(!1,!1),m=b({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:l.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:q.connectorStyle,hoverPaintStyle:q.connectorHoverStyle,connector:q.connector,overlays:q.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass}),m.addClass(e.draggingClass),this._jsPlumb.floatingEndpoint.addClass(e.draggingClass),
e.fire("connectionDrag",m)):(c=!0,m.setHover(!1),r=m.endpoints[0].id==this.id?0:1,this.detachFromConnection(m,null,!0),n=e.getDragScope(d),e.setAttribute(this.canvas,"originalScope",n),u=e.getDropScope(d),e.setDragScope(d,u),e.fire("connectionDrag",m),0===r?(h=[m.source,m.sourceId,d,n],m.source=l.element,m.sourceId=l.id):(h=[m.target,m.targetId,d,n],m.target=l.element,m.targetId=l.id),m.endpoints[0===r?1:0].anchor.locked=!0,m.suspendedEndpoint=m.endpoints[r],m.suspendedElement=m.endpoints[r].getElement(),
m.suspendedElementId=m.endpoints[r].elementId,m.suspendedElementType=0===r?"source":"target",m.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=m.suspendedEndpoint,m.endpoints[r]=this._jsPlumb.floatingEndpoint,m.addClass(e.draggingClass),this._jsPlumb.floatingEndpoint.addClass(e.draggingClass));e.floatingConnections[l.id]=m;e.anchorManager.addFloatingConnection(l.id,m);a.addToList(q.endpointsByElement,l.id,this._jsPlumb.floatingEndpoint);e.currentlyDragging=!0}.bind(this),
F=function(){if(e.setConnectionBeingDragged(!1),m&&null!=m.endpoints){var a=e.getDropEvent(arguments),b=e.getFloatingAnchorIndex(m);if(m.endpoints[0===b?1:0].anchor.locked=!1,m.removeClass(e.draggingClass),this._jsPlumb&&(m.deleteConnectionNow||m.endpoints[b]==this._jsPlumb.floatingEndpoint)&&c&&m.suspendedEndpoint){0===b?(m.source=h[0],m.sourceId=h[1]):(m.target=h[0],m.targetId=h[1]);var d=this._jsPlumb.floatingEndpoint;e.setDragScope(h[2],h[3]);m.endpoints[b]=m.suspendedEndpoint;m.isReattach()||
m._forceReattach||m._forceDetach||!m.endpoints[0===b?1:0].detach(m,!1,!1,!0,a)?(m.setHover(!1),m._forceDetach=null,m._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(m),m.suspendedEndpoint.addConnection(m),e.repaint(h[1])):e.deleteObject({endpoint:d})}e.remove(l.element,!1);e.deleteObject({endpoint:k});this.deleteAfterDragStop?e.deleteObject({endpoint:this}):this._jsPlumb&&(this._jsPlumb.floatingEndpoint=null,this.canvas.style.visibility="visible",this.anchor.locked=!1,this.paint({recalc:!1}));
e.fire("connectionDragStop",m,a);e.currentlyDragging=!1;m=null}}.bind(this),n=jsPlumb.extend({},n);n.scope=this.scope||n.scope;n[y]=a.wrap(n[y],H,!1);n[V]=a.wrap(n[V],f.drag);n[t]=a.wrap(n[t],F);n.canDrag=function(){return this.isSource||this.isTemporarySource||this.isTarget&&0<this.connections.length}.bind(this);e.initDraggable(this.canvas,n,"internal");this.canvas._jsPlumbRelatedElement=this.element;r=!0}};(this.isSource||this.isTarget||this.isTemporarySource)&&this.initDraggable();var y=function(b,
d,c,g){if((this.isTarget||d)&&jsPlumb.isDropSupported(this.element)){d=q.dropOptions||e.Defaults.DropOptions||jsPlumb.Defaults.DropOptions;d=jsPlumb.extend({},d);d.scope=d.scope||this.scope;var f=jsPlumb.dragEvents.drop,k=jsPlumb.dragEvents.over,l=jsPlumb.dragEvents.out,m=this,r=e.EndpointDropHandler({getEndpoint:function(){return m},jsPlumb:e,enabled:function(){return null!=g?g.isEnabled():!0},isFull:function(){return g.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,
isTarget:this.isTarget,addClass:function(a){m.addClass(a)},removeClass:function(a){m.removeClass(a)},isDropAllowed:function(){return m.isDropAllowed.apply(m,arguments)}});d[f]=a.wrap(d[f],r);d[k]=a.wrap(d[k],function(){var a=jsPlumb.getDragObject(arguments),a=e.getAttribute(jsPlumb.getDOMElement(a),"dragId"),a=e.floatingConnections[a];if(null!=a){var b=e.getFloatingAnchorIndex(a);if(this.isTarget&&0!==b||a.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==a.suspendedEndpoint.id){var c=
e.checkCondition("checkDropAllowed",{sourceEndpoint:a.endpoints[b],targetEndpoint:this,connection:a});this[(c?"add":"remove")+"Class"](e.endpointDropAllowedClass);this[(c?"remove":"add")+"Class"](e.endpointDropForbiddenClass);a.endpoints[b].anchor.over(this.anchor,this)}}}.bind(this));d[l]=a.wrap(d[l],function(){var a=jsPlumb.getDragObject(arguments),a=(a=null==a?null:e.getAttribute(jsPlumb.getDOMElement(a),"dragId"))?e.floatingConnections[a]:null;if(null!=a){var b=e.getFloatingAnchorIndex(a);(this.isTarget&&
0!==b||a.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==a.suspendedEndpoint.id)&&(this.removeClass(e.endpointDropAllowedClass),this.removeClass(e.endpointDropForbiddenClass),a.endpoints[b].anchor.out())}}.bind(this));e.initDroppable(b,d,"internal",c)}}.bind(this);return this.anchor.isFloating||y(w(this.canvas),!0,!(q._transient||this.anchor.isFloating),this),q.type&&this.addType(q.type,q.data,e.isSuspendDrawing()),this};jsPlumbUtil.extend(jsPlumb.Endpoint,OverlayCapableJsPlumbUIComponent,
{getTypeDescriptor:function(){return"endpoint"},isVisible:function(){return this._jsPlumb.visible},setVisible:function(d,e,n){if(this._jsPlumb.visible=d,this.canvas&&(this.canvas.style.display=d?"block":"none"),this[d?"showOverlays":"hideOverlays"](),!e)for(e=0;e<this.connections.length;e++)if(this.connections[e].setVisible(d),!n){var a=this===this.connections[e].endpoints[0]?1:0;1==this.connections[e].endpoints[a].connections.length&&this.connections[e].endpoints[a].setVisible(d,!0,!0)}},getAttachedElements:function(){return this.connections},
applyType:function(d){this.setPaintStyle(d.endpointStyle||d.paintStyle);this.setHoverPaintStyle(d.endpointHoverStyle||d.hoverPaintStyle);null!=d.maxConnections&&(this._jsPlumb.maxConnections=d.maxConnections);d.scope&&(this.scope=d.scope);jsPlumb.extend(this,d,t);d.anchor&&(this.anchor=this._jsPlumb.instance.makeAnchor(d.anchor));null!=d.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,d.cssClass)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(d){this._jsPlumb.enabled=
d},cleanup:function(){jsPlumbAdapter.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.anchor=null;this.endpoint.cleanup();this.endpoint.destroy();this.endpoint=null;var d=jsPlumb.getElementObject(this.canvas);this._jsPlumb.instance.destroyDraggable(d,"internal");this._jsPlumb.instance.destroyDroppable(d,"internal")},setHover:function(d){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(d)},
isFull:function(){return!(this.isFloating()||1>this._jsPlumb.maxConnections||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(d){var e=!1;if(d)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]==d||this.connections[n].endpoints[0]==d){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(d){this._jsPlumb.connectionCost=
d},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(d){this._jsPlumb.connectionsDirected=d},setElementId:function(d){this.elementId=d;this.anchor.elementId=d},setReferenceElement:function(d){this.element=jsPlumb.getDOMElement(d)},setDragAllowedWhenFull:function(d){this.dragAllowedWhenFull=d},equals:function(d){return this.anchor.equals(d.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(d){return this.anchor.compute(d)}});
jsPlumbInstance.prototype.EndpointDropHandler=function(d){return function(e){var n=d.jsPlumb;d.removeClass(n.endpointDropAllowedClass);d.removeClass(n.endpointDropForbiddenClass);var a=n.getDropEvent(arguments),b=n.getDOMElement(n.getDragObject(arguments)),g=n.getAttribute(b,"dragId"),k=(n.getAttribute(b,"elId"),n.getAttribute(b,"originalScope")),l=n.floatingConnections[g];if(null!=l){var m=d.getEndpoint(l);d.onDrop&&d.onDrop(l);if(l.suspendedEndpoint&&(l.suspendedEndpoint.id==m.id||m.referenceEndpoint&&
l.suspendedEndpoint.id==m.referenceEndpoint.id))return l._forceReattach=!0,l.setHover(!1),void 0;var r=n.getFloatingAnchorIndex(l);(k&&n.setDragScope(b,k),d.isFull(e)&&m.fire("maxConnections",{endpoint:this,connection:l,maxConnections:m._jsPlumb.maxConnections},a),d.isFull()||0===r&&!d.isSource||1==r&&!d.isTarget||!d.enabled())||(b=!0,l.suspendedEndpoint&&l.suspendedEndpoint.id!=m.id&&(l.isDetachAllowed(l)&&l.endpoints[r].isDetachAllowed(l)&&l.suspendedEndpoint.isDetachAllowed(l)&&n.checkCondition("beforeDetach",
l)||(b=!1)),0===r?(l.source=d.element,l.sourceId=d.elementId):(l.target=d.element,l.targetId=d.elementId),g=function(){l.endpoints[r].detachFromConnection(l);l.suspendedEndpoint&&l.suspendedEndpoint.detachFromConnection(l);l.endpoints[r]=m;m.addConnection(l);var b=m.getParameters(),e;for(e in b)l.setParameter(e,b[e]);l.suspendedEndpoint?(b=l.suspendedEndpoint.elementId,n.fireMoveEvent({index:r,originalSourceId:0===r?b:l.sourceId,newSourceId:0===r?m.elementId:l.sourceId,originalTargetId:1==r?b:l.targetId,
newTargetId:1==r?m.elementId:l.targetId,originalSourceEndpoint:0===r?l.suspendedEndpoint:l.endpoints[0],newSourceEndpoint:0===r?m:l.endpoints[0],originalTargetEndpoint:1==r?l.suspendedEndpoint:l.endpoints[1],newTargetEndpoint:1==r?m:l.endpoints[1],connection:l},a)):b.draggable&&n.initDraggable(this.element,dragOptions,"internal",n);if(1==r?n.anchorManager.updateOtherEndpoint(l.sourceId,l.suspendedElementId,l.targetId,l):n.anchorManager.sourceChanged(l.suspendedEndpoint.elementId,l.sourceId,l),l.endpoints[0].finalEndpoint)l.endpoints[0].detachFromConnection(l),
l.endpoints[0]=l.endpoints[0].finalEndpoint,l.endpoints[0].addConnection(l);n.finaliseConnection(l,null,a);l.setHover(!1)}.bind(this),(b=b&&d.isDropAllowed(l.sourceId,l.targetId,l.scope,l,m))?g():l.suspendedEndpoint&&(l.endpoints[r]=l.suspendedEndpoint,l.setHover(!1),l._forceDetach=!0,0===r?(l.source=l.suspendedEndpoint.element,l.sourceId=l.suspendedEndpoint.elementId):(l.target=l.suspendedEndpoint.element,l.targetId=l.suspendedEndpoint.elementId),l.suspendedEndpoint.addConnection(l),n.repaint(l.sourceId),
l._forceDetach=!1));n.currentlyDragging=!1}}}})();
(function(){var d=function(d,q,e,t,a){if(!d.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[q][e])throw{msg:"jsPlumb: unknown connector type '"+e+"'"};return new jsPlumb.Connectors[q][e](t,a)},t=function(d,q,e){return d?e.makeAnchor(d,q,e):null};jsPlumb.Connection=function(d){var q=d.newEndpoint,e=jsPlumbUtil;this.connector=null;this.idPrefix="_jsplumb_c_";this.defaultLabelLocation=.5;this.defaultOverlayKeys=["Overlays","ConnectionOverlays"];this.previousConnection=d.previousConnection;this.source=
jsPlumb.getDOMElement(d.source);this.target=jsPlumb.getDOMElement(d.target);d.sourceEndpoint&&(this.source=d.sourceEndpoint.endpointWillMoveTo||d.sourceEndpoint.getElement());d.targetEndpoint&&(this.target=d.targetEndpoint.getElement());OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.sourceId=this._jsPlumb.instance.getId(this.source);this.targetId=this._jsPlumb.instance.getId(this.target);this.scope=d.scope;this.endpoints=[];this.endpointStyles=[];var t=this._jsPlumb.instance;t.manage(this.sourceId,
this.source);t.manage(this.targetId,this.target);this._jsPlumb.visible=!0;this._jsPlumb.editable=!0===d.editable;this._jsPlumb.params={cssClass:d.cssClass,container:d.container,"pointer-events":d["pointer-events"],editorParams:d.editorParams};this._jsPlumb.lastPaintedAt=null;this.getDefaultType=function(){return{parameters:{},scope:null,detachable:this._jsPlumb.instance.Defaults.ConnectionsDetachable,rettach:this._jsPlumb.instance.Defaults.ReattachConnections,paintStyle:this._jsPlumb.instance.Defaults.PaintStyle||
jsPlumb.Defaults.PaintStyle,connector:this._jsPlumb.instance.Defaults.Connector||jsPlumb.Defaults.Connector,hoverPaintStyle:this._jsPlumb.instance.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,overlays:this._jsPlumb.instance.Defaults.ConnectorOverlays||jsPlumb.Defaults.ConnectorOverlays}};this.bind("mouseover",function(){this.setHover(!0)}.bind(this));this.bind("mouseout",function(){this.setHover(!1)}.bind(this));this.makeEndpoint=function(a,b,e,g){return e=e||this._jsPlumb.instance.getId(b),
this.prepareEndpoint(t,q,this,g,a?0:1,d,b,e)};var a=this.makeEndpoint(!0,this.source,this.sourceId,d.sourceEndpoint),b=this.makeEndpoint(!1,this.target,this.targetId,d.targetEndpoint);a&&e.addToList(d.endpointsByElement,this.sourceId,a);b&&e.addToList(d.endpointsByElement,this.targetId,b);this.scope||(this.scope=this.endpoints[0].scope);null!=d.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=d.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=d.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||
(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||d.connector||t.Defaults.Connector||jsPlumb.Defaults.Connector,!0,!0);d.path&&this.connector.setPath(d.path);this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||d.paintStyle||t.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,!0);this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||
this.endpoints[1].connectorHoverStyle||d.hoverPaintStyle||t.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,!0);this._jsPlumb.paintStyleInUse=this.getPaintStyle();var g=t.getSuspendedAt();if(!t.isSuspendDrawing()){var a=t.getCachedData(this.sourceId),e=a.o,a=a.s,k=t.getCachedData(this.targetId),b=k.o,k=k.s,g=g||t.timestamp(),l=this.endpoints[0].anchor.compute({xy:[e.left,e.top],wh:a,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[b.left,b.top],twh:k,tElement:this.endpoints[1],
timestamp:g});this.endpoints[0].paint({anchorLoc:l,timestamp:g});l=this.endpoints[1].anchor.compute({xy:[b.left,b.top],wh:k,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[e.left,e.top],twh:a,tElement:this.endpoints[0],timestamp:g});this.endpoints[1].paint({anchorLoc:l,timestamp:g})}this._jsPlumb.detachable=t.Defaults.ConnectionsDetachable;!1===d.detachable&&(this._jsPlumb.detachable=!1);!1===this.endpoints[0].connectionsDetachable&&(this._jsPlumb.detachable=!1);!1===this.endpoints[1].connectionsDetachable&&
(this._jsPlumb.detachable=!1);this._jsPlumb.reattach=d.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||t.Defaults.ReattachConnections;this._jsPlumb.cost=d.cost||this.endpoints[0].getConnectionCost();this._jsPlumb.directed=d.directed;null==d.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());e=jsPlumb.extend({},this.endpoints[1].getParameters());jsPlumb.extend(e,this.endpoints[0].getParameters());jsPlumb.extend(e,this.getParameters());
this.setParameters(e);e=[d.type,this.endpoints[0].connectionType,this.endpoints[1].connectionType].join(" ");/[^\s]/.test(e)&&this.addType(e,d.data,!0)};jsPlumbUtil.extend(jsPlumb.Connection,OverlayCapableJsPlumbUIComponent,{applyType:function(d,q){null!=d.detachable&&this.setDetachable(d.detachable);null!=d.reattach&&this.setReattach(d.reattach);d.scope&&(this.scope=d.scope);this.setConnector(d.connector,q);null!=d.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,d.cssClass);d.anchor?
(this.endpoints[0].anchor=this._jsPlumb.instance.makeAnchor(d.anchor),this.endpoints[1].anchor=this._jsPlumb.instance.makeAnchor(d.anchor)):d.anchors&&(this.endpoints[0].anchor=this._jsPlumb.instance.makeAnchor(d.anchors[0]),this.endpoints[1].anchor=this._jsPlumb.instance.makeAnchor(d.anchors[1]))},getTypeDescriptor:function(){return"connection"},getAttachedElements:function(){return this.endpoints},addClass:function(d,q){q&&(this.endpoints[0].addClass(d),this.endpoints[1].addClass(d),this.suspendedEndpoint&&
this.suspendedEndpoint.addClass(d));this.connector&&this.connector.addClass(d)},removeClass:function(d,q){q&&(this.endpoints[0].removeClass(d),this.endpoints[1].removeClass(d),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(d));this.connector&&this.connector.removeClass(d)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(d){this._jsPlumb.visible=d;this.connector&&this.connector.setVisible(d);this.repaint()},cleanup:function(){this.target=this.source=this.endpoints=
null;null!=this.connector&&(this.connector.cleanup(),this.connector.destroy());this.connector=null},isDetachable:function(){return!0===this._jsPlumb.detachable},setDetachable:function(d){this._jsPlumb.detachable=!0===d},isReattach:function(){return!0===this._jsPlumb.reattach},setReattach:function(d){this._jsPlumb.reattach=!0===d},setHover:function(d){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(d),jsPlumbAdapter[d?"addClass":"removeClass"](this.source,
this._jsPlumb.instance.hoverSourceClass),jsPlumbAdapter[d?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getCost:function(){return this._jsPlumb.cost},setCost:function(d){this._jsPlumb.cost=d},isDirected:function(){return!0===this._jsPlumb.directed},getConnector:function(){return this.connector},setConnector:function(n,q,e){var t=jsPlumbUtil;null!=this.connector&&(this.connector.cleanup(),this.connector.destroy());var a={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,
container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},b=this._jsPlumb.instance.getRenderMode();t.isString(n)?this.connector=d(this._jsPlumb.instance,b,n,a,this):t.isArray(n)&&(this.connector=1==n.length?d(this._jsPlumb.instance,b,n[0],a,this):d(this._jsPlumb.instance,b,n[0],t.merge(n[1],a),this));this.canvas=this.connector.canvas;this.bgCanvas=this.connector.bgCanvas;this.canvas&&(this.canvas._jsPlumb=this);this.bgCanvas&&(this.bgCanvas._jsPlumb=this);e||
this.setListenerComponent(this.connector);q||this.repaint()},paint:function(d){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){d=d||{};d=d.timestamp;var q=this.targetId,e=this.sourceId;if(null==d||d!=this._jsPlumb.lastPaintedAt){var e=this._jsPlumb.instance.getOffset(e),q=this._jsPlumb.instance.getOffset(q),t=this.endpoints[0],a=this.endpoints[1],t=t.anchor.getCurrentLocation({xy:[e.left,e.top],wh:[e.width,e.height],element:t,timestamp:d}),a=a.anchor.getCurrentLocation({xy:[q.left,
q.top],wh:[q.width,q.height],element:a,timestamp:d});this.connector.resetBounds();this.connector.compute({sourcePos:t,targetPos:a,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:e,targetInfo:q});for(var e=1/0,q=1/0,a=-1/0,t=-1/0,b=0;b<this._jsPlumb.overlays.length;b++){var g=this._jsPlumb.overlays[b];g.isVisible()&&(this._jsPlumb.overlayPlacements[b]=g.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(g)),
e=Math.min(e,this._jsPlumb.overlayPlacements[b].minX),a=Math.max(a,this._jsPlumb.overlayPlacements[b].maxX),q=Math.min(q,this._jsPlumb.overlayPlacements[b].minY),t=Math.max(t,this._jsPlumb.overlayPlacements[b].maxY))}b=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2;g=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0);e={xmin:Math.min(this.connector.bounds.minX-(b+g),e),ymin:Math.min(this.connector.bounds.minY-(b+g),q),xmax:Math.max(this.connector.bounds.maxX+(b+g),a),ymax:Math.max(this.connector.bounds.maxY+
(b+g),t)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,e);for(q=0;q<this._jsPlumb.overlays.length;q++)a=this._jsPlumb.overlays[q],a.isVisible()&&a.paint(this._jsPlumb.overlayPlacements[q],e)}this._jsPlumb.lastPaintedAt=d}},repaint:function(d){d=d||{};this.paint({elId:this.sourceId,recalc:!1!==d.recalc,timestamp:d.timestamp})},prepareEndpoint:function(d,q,e,w,a,b,g,k){var l;if(w)e.endpoints[a]=w,w.addConnection(e);else{b.endpoints||(b.endpoints=[null,null]);w=b.endpoints[a]||b.endpoint||
d.Defaults.Endpoints[a]||jsPlumb.Defaults.Endpoints[a]||d.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;b.endpointStyles||(b.endpointStyles=[null,null]);b.endpointHoverStyles||(b.endpointHoverStyles=[null,null]);l=b.endpointStyles[a]||b.endpointStyle||d.Defaults.EndpointStyles[a]||jsPlumb.Defaults.EndpointStyles[a]||d.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==l.fillStyle&&null!=b.paintStyle&&(l.fillStyle=b.paintStyle.strokeStyle);null==l.outlineColor&&null!=b.paintStyle&&(l.outlineColor=
b.paintStyle.outlineColor);null==l.outlineWidth&&null!=b.paintStyle&&(l.outlineWidth=b.paintStyle.outlineWidth);var m=b.endpointHoverStyles[a]||b.endpointHoverStyle||d.Defaults.EndpointHoverStyles[a]||jsPlumb.Defaults.EndpointHoverStyles[a]||d.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=b.hoverPaintStyle&&(null==m&&(m={}),null==m.fillStyle&&(m.fillStyle=b.hoverPaintStyle.strokeStyle));k=b.anchors?b.anchors[a]:b.anchor?b.anchor:t(d.Defaults.Anchors[a],k,d)||t(jsPlumb.Defaults.Anchors[a],
k,d)||t(d.Defaults.Anchor,k,d)||t(jsPlumb.Defaults.Anchor,k,d);l=q({paintStyle:l,hoverPaintStyle:m,endpoint:w,connections:[e],uuid:b.uuids?b.uuids[a]:null,anchor:k,source:g,scope:b.scope,reattach:b.reattach||d.Defaults.ReattachConnections,detachable:b.detachable||d.Defaults.ConnectionsDetachable});e.endpoints[a]=l;!1===b.drawEndpoints&&l.setVisible(!1,!0,!0)}return l}})})();
(function(){jsPlumb.AnchorManager=function(d){var e={},n={},a={},b={},g=["left","top","right","bottom"],k={},l=this,m={},r=d.jsPlumbInstance,y={},t=function(a,b,c,e,d,f){if(a===b)return{orientation:"identity",a:["top","top"]};a=Math.atan2(e.centery-c.centery,e.centerx-c.centerx);b=Math.atan2(c.centery-e.centery,c.centerx-e.centerx);var h=[],k={};!function(a,b){for(var c=0;c<a.length;c++)k[a[c]]={left:[b[c].left,b[c].centery],right:[b[c].right,b[c].centery],top:[b[c].centerx,b[c].top],bottom:[b[c].centerx,
b[c].bottom]}}(["source","target"],[c,e]);for(c=0;c<g.length;c++)for(e=0;e<g.length;e++)c!=e&&h.push({source:g[c],target:g[e],dist:Biltong.lineLength(k.source[g[c]],k.target[g[e]])});h.sort(function(a,b){return a.dist<b.dist?-1:a.dist>b.dist?1:0});c=h[0].source;e=h[0].target;for(var l=0;l<h.length&&(c=!d.isContinuous||d.isEdgeSupported(h[l].source)?h[l].source:null,e=!f.isContinuous||f.isEdgeSupported(h[l].target)?h[l].target:null,null==c||null==e);l++);return{a:[c,e],theta:a,theta2:b}},v=function(a,
b,c,e,d,f,g){a=[];for(var h=b[d?0:1]/(e.length+1),k=0;k<e.length;k++){var l=(k+1)*h,m=f*b[d?1:0];g&&(l=b[d?0:1]-l);var r=d?l:m,l=d?m:l;a.push([c[0]+r,c[1]+l,r/b[0],l/b[1],e[k][1],e[k][2]])}return a},c=function(a){return function(b,c){var e=!0;return e=a?b[0][0]<c[0][0]:b[0][0]>c[0][0],!1===e?-1:1}},h={top:function(a,b){return a[0]>b[0]?1:-1},right:c(!0),bottom:c(!0),left:function(a,b){return(0>a[0][0]?-Math.PI-a[0][0]:Math.PI-a[0][0])>(0>b[0][0]?-Math.PI-b[0][0]:Math.PI-b[0][0])?1:a[0][1]>b[0][1]?
1:-1}},f=function(a,c){var e=r.getCachedData(a),d=e.s,e=e.o,f=function(c,e,d,f,g,k,l){if(0<f.length)for(f=f.sort(h[c]),c=v(c,e,d,f,g,k,"right"===c||"top"===c),e=function(a,c){n[a.id]=[c[0],c[1],c[2],c[3]];b[a.id]=l},d=0;d<c.length;d++)g=c[d][4],k=g.endpoints[1].elementId===a,g.endpoints[0].elementId===a?e(g.endpoints[0],c[d]):k&&e(g.endpoints[1],c[d])};f("bottom",d,[e.left,e.top],c.bottom,!0,1,[0,1]);f("top",d,[e.left,e.top],c.top,!0,0,[0,-1]);f("left",d,[e.left,e.top],c.left,!1,0,[-1,0]);f("right",
d,[e.left,e.top],c.right,!1,1,[1,0])};this.reset=function(){e={};k={};m={}};this.addFloatingConnection=function(a,b){y[a]=b};this.removeFloatingConnection=function(a){delete y[a]};this.newConnection=function(a){var b=a.sourceId,c=a.targetId,e=a.endpoints,d=!0,f=function(f,g,h,l,m){b==c&&h.isContinuous&&(a._jsPlumb.instance.removeElement(e[1].canvas),d=!1);jsPlumbUtil.addToList(k,l,[m,g,h.constructor==jsPlumb.DynamicAnchor])};f(0,e[0],e[0].anchor,c,a);d&&f(1,e[1],e[1].anchor,b,a)};var u=function(a){!function(a,
b){if(a){var c=function(a){return a[4]==b};jsPlumbUtil.removeWithFunction(a.top,c);jsPlumbUtil.removeWithFunction(a.left,c);jsPlumbUtil.removeWithFunction(a.bottom,c);jsPlumbUtil.removeWithFunction(a.right,c)}}(m[a.elementId],a.id)};this.connectionDetached=function(a){var b=a.connection||a,c=a.targetId,e=b.endpoints,d=function(a,b,c,e,d){null!=c&&c.constructor==jsPlumb.FloatingAnchor||jsPlumbUtil.removeWithFunction(k[e],function(a){return a[0].id==d.id})};d(1,e[1],e[1].anchor,a.sourceId,b);d(0,e[0],
e[0].anchor,c,b);u(b.endpoints[0]);u(b.endpoints[1]);l.redraw(b.sourceId);l.redraw(b.targetId)};this.add=function(a,b){jsPlumbUtil.addToList(e,b,a)};this.changeId=function(a,b){k[b]=k[a];e[b]=e[a];delete k[a];delete e[a]};this.getConnectionsFor=function(a){return k[a]||[]};this.getEndpointsFor=function(a){return e[a]||[]};this.deleteEndpoint=function(a){jsPlumbUtil.removeWithFunction(e[a.elementId],function(b){return b.id==a.id});u(a)};this.clearFor=function(a){delete e[a];e[a]=[]};var x=function(a,
b,c,e,f,g,h,k,l,m,r,n){var v;m=-1;var u=e.endpoints[h],y=u.id,t=[1,0][h];b=[[b,c],e,f,g,y];var z=a[l],x=u._continuousAnchorEdge?a[u._continuousAnchorEdge]:null;if(x&&(a=jsPlumbUtil.findWithFunction(x,function(a){return a[4]==y}),-1!=a))for(x.splice(a,1),v=0;v<x.length;v++)jsPlumbUtil.addWithFunction(r,x[v][1],function(a){return a.id==x[v][1].id}),jsPlumbUtil.addWithFunction(n,x[v][1].endpoints[h],function(a){return a.id==x[v][1].endpoints[h].id}),jsPlumbUtil.addWithFunction(n,x[v][1].endpoints[t],
function(a){return a.id==x[v][1].endpoints[t].id});for(v=0;v<z.length;v++)1==d.idx&&z[v][3]===g&&-1==m&&(m=v),jsPlumbUtil.addWithFunction(r,z[v][1],function(a){return a.id==z[v][1].id}),jsPlumbUtil.addWithFunction(n,z[v][1].endpoints[h],function(a){return a.id==z[v][1].endpoints[h].id}),jsPlumbUtil.addWithFunction(n,z[v][1].endpoints[t],function(a){return a.id==z[v][1].endpoints[t].id});z.splice(k?-1!=m?m:0:z.length,0,b);u._continuousAnchorEdge=l};this.updateOtherEndpoint=function(a,b,c,e){var d=
jsPlumbUtil.findWithFunction(k[a],function(a){return a[0].id===e.id}),f=jsPlumbUtil.findWithFunction(k[b],function(a){return a[0].id===e.id});-1!=d&&(k[a][d][0]=e,k[a][d][1]=e.endpoints[1],k[a][d][2]=e.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor);-1<f&&(k[b].splice(f,1),jsPlumbUtil.addToList(k,c,[e,e.endpoints[0],e.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor]))};this.sourceChanged=function(a,b,c){a!==b&&(jsPlumbUtil.removeWithFunction(k[a],function(a){return a[0].id===c.id}),
a=jsPlumbUtil.findWithFunction(k[c.targetId],function(a){return a[0].id===c.id}),-1<a&&(k[c.targetId][a][0]=c,k[c.targetId][a][1]=c.endpoints[0],k[c.targetId][a][2]=c.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor),jsPlumbUtil.addToList(k,b,[c,c.endpoints[1],c.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor]))};this.rehomeEndpoint=function(a,b,c){var d=e[b]||[];c=r.getId(c);if(c!==b){var f=jsPlumbUtil.indexOf(d,a);-1<f&&(d=d.splice(f,1)[0],l.add(d,c))}for(d=0;d<a.connections.length;d++)a.connections[d].sourceId==
b?(a.connections[d].sourceId=a.elementId,a.connections[d].source=a.element,l.sourceChanged(b,a.elementId,a.connections[d])):a.connections[d].targetId==b&&(a.connections[d].targetId=a.elementId,a.connections[d].target=a.element,l.updateOtherEndpoint(a.connections[d].sourceId,b,a.elementId,a.connections[d]))};this.redraw=function(a,b,c,d,g,h){if(!r.isSuspendDrawing()){var l=e[a]||[],q=k[a]||[],n=[],v=[],u=[];c=c||r.timestamp();d=d||{left:0,top:0};b&&(b={left:b.left+d.left,top:b.top+d.top});b=r.updateOffset({elId:a,
offset:b,recalc:!1,timestamp:c});d={};for(var w=0;w<q.length;w++){var B=q[w][0],N=B.sourceId,E=B.targetId,Q=B.endpoints[0].anchor.isContinuous,L=B.endpoints[1].anchor.isContinuous;if(Q||L){var fa=N+"_"+E,aa=d[fa],ha=B.sourceId==a?1:0;Q&&!m[N]&&(m[N]={top:[],right:[],bottom:[],left:[]});L&&!m[E]&&(m[E]={top:[],right:[],bottom:[],left:[]});a!=E&&r.updateOffset({elId:E,timestamp:c});a!=N&&r.updateOffset({elId:N,timestamp:c});var ga=r.getCachedData(E),U=r.getCachedData(N);E==N&&(Q||L)?x(m[N],-Math.PI/
2,0,B,!1,E,0,!1,"top",N,n,v):(aa||(aa=t(N,E,U.o,ga.o,B.endpoints[0].anchor,B.endpoints[1].anchor),d[fa]=aa),Q&&x(m[N],aa.theta,0,B,!1,E,0,!1,aa.a[0],N,n,v),L&&x(m[E],aa.theta2,-1,B,!0,N,1,!0,aa.a[1],E,n,v));Q&&jsPlumbUtil.addWithFunction(u,N,function(a){return a===N});L&&jsPlumbUtil.addWithFunction(u,E,function(a){return a===E});jsPlumbUtil.addWithFunction(n,B,function(a){return a.id==B.id});(Q&&0===ha||L&&1===ha)&&jsPlumbUtil.addWithFunction(v,B.endpoints[ha],function(a){return a.id==B.endpoints[ha].id})}}for(w=
0;w<l.length;w++)0===l[w].connections.length&&l[w].anchor.isContinuous&&(m[a]||(m[a]={top:[],right:[],bottom:[],left:[]}),x(m[a],-Math.PI/2,0,{endpoints:[l[w],l[w]],paint:function(){}},!1,a,0,!1,l[w].anchor.getDefaultFace(),a,n,v),jsPlumbUtil.addWithFunction(u,a,function(b){return b===a}));for(w=0;w<u.length;w++)f(u[w],m[u[w]]);for(w=0;w<l.length;w++)l[w].paint({timestamp:c,offset:b,dimensions:b.s,recalc:!0!==h});for(w=0;w<v.length;w++)h=r.getCachedData(v[w].elementId),v[w].paint({timestamp:c,offset:h,
dimensions:h.s});for(w=0;w<q.length;w++){var W=q[w][1];if(W.anchor.constructor==jsPlumb.DynamicAnchor){W.paint({elementWithPrecedence:a,timestamp:c});jsPlumbUtil.addWithFunction(n,q[w][0],function(a){return a.id==q[w][0].id});for(var Y=0;Y<W.connections.length;Y++)W.connections[Y]!==q[w][0]&&jsPlumbUtil.addWithFunction(n,W.connections[Y],function(a){return a.id==W.connections[Y].id})}else W.anchor.constructor==jsPlumb.Anchor&&jsPlumbUtil.addWithFunction(n,q[w][0],function(a){return a.id==q[w][0].id})}(v=
y[a])&&v.paint({timestamp:c,recalc:!1,elId:a});for(w=0;w<n.length;w++)n[w].paint({elId:a,timestamp:c,recalc:!1,clearEdits:g})}};var B=function(c){jsPlumbUtil.EventGenerator.apply(this);this.type="Continuous";this.isContinuous=this.isDynamic=!0;for(var e=c.faces||["top","right","bottom","left"],d=!1!==c.clockwise,f={},g={top:"bottom",right:"left",left:"right",bottom:"top"},h={top:"right",right:"bottom",left:"top",bottom:"left"},k={top:"left",right:"top",left:"bottom",bottom:"right"},l=d?h:k,m=d?k:
h,r=c.cssClass||"",d=0;d<e.length;d++)f[e[d]]=!0;this.getDefaultFace=function(){return 0===e.length?"top":e[0]};this.verifyEdge=function(a){return f[a]?a:f[g[a]]?g[a]:f[l[a]]?l[a]:f[m[a]]?m[a]:a};this.isEdgeSupported=function(a){return!0===f[a]};this.compute=function(b){return a[b.element.id]||n[b.element.id]||[0,0]};this.getCurrentLocation=function(b){return a[b.element.id]||n[b.element.id]||[0,0]};this.getOrientation=function(a){return b[a.id]||[0,0]};this.clearUserDefinedLocation=function(){delete a[c.elementId]};
this.setUserDefinedLocation=function(b){a[c.elementId]=b};this.getCssClass=function(){return r};this.setCssClass=function(a){r=a}};r.continuousAnchorFactory={get:function(a){return new B(a)},clear:function(b){delete a[b];delete n[b]}}};jsPlumb.Anchor=function(d){this.x=d.x||0;this.y=d.y||0;this.elementId=d.elementId;this.cssClass=d.cssClass||"";this.userDefinedLocation=null;this.orientation=d.orientation||[0,0];jsPlumbUtil.EventGenerator.apply(this);d.jsPlumbInstance;this.lastReturnValue=null;this.offsets=
d.offsets||[0,0];this.timestamp=null;this.compute=function(e){var d=e.xy,a=e.wh,b=(e.element,e.timestamp);return e.clearUserDefinedLocation&&(this.userDefinedLocation=null),b&&b===self.timestamp?this.lastReturnValue:(this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[d[0]+this.x*a[0]+this.offsets[0],d[1]+this.y*a[1]+this.offsets[1]],this.timestamp=b,this.lastReturnValue)};this.getCurrentLocation=function(e){return null==this.lastReturnValue||null!=e.timestamp&&this.timestamp!=
e.timestamp?this.compute(e):this.lastReturnValue}};jsPlumbUtil.extend(jsPlumb.Anchor,jsPlumbUtil.EventGenerator,{equals:function(d){if(!d)return!1;var e=d.getOrientation(),n=this.getOrientation();return this.x==d.x&&this.y==d.y&&this.offsets[0]==d.offsets[0]&&this.offsets[1]==d.offsets[1]&&n[0]==e[0]&&n[1]==e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(d){this.userDefinedLocation=d},clearUserDefinedLocation:function(){this.userDefinedLocation=
null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}});jsPlumb.FloatingAnchor=function(d){jsPlumb.Anchor.apply(this,arguments);var e=d.reference,n=(d.jsPlumbInstance,d.referenceCanvas),a=jsPlumb.getSize(n),b=null,g=null;this.orientation=null;this.y=this.x=0;this.isFloating=!0;this.compute=function(b){var e=b.xy;b=(b.element,[e[0]+a[0]/2,e[1]+a[1]/2]);return g=b,b};this.getOrientation=function(a){if(b)return b;a=e.getOrientation(a);return[-0*Math.abs(a[0]),
-0*Math.abs(a[1])]};this.over=function(a,e){b=a.getOrientation(e)};this.out=function(){b=null};this.getCurrentLocation=function(a){return null==g?this.compute(a):g}};jsPlumbUtil.extend(jsPlumb.FloatingAnchor,jsPlumb.Anchor);var d=function(d,e,n){return d.constructor==jsPlumb.Anchor?d:e.makeAnchor(d,n,e)};jsPlumb.DynamicAnchor=function(q){jsPlumb.Anchor.apply(this,arguments);this.isDynamic=this.isSelective=!0;this.anchors=[];this.elementId=q.elementId;this.jsPlumbInstance=q.jsPlumbInstance;for(var e=
0;e<q.anchors.length;e++)this.anchors[e]=d(q.anchors[e],this.jsPlumbInstance,this.elementId);this.addAnchor=function(a){this.anchors.push(d(a,this.jsPlumbInstance,this.elementId))};this.getAnchors=function(){return this.anchors};this.locked=!1;var n=0<this.anchors.length?this.anchors[0]:null,a=(0<this.anchors.length?0:-1,n),b=this,g=q.selector||function(a,b,e,d,g){var n=e[0]+d[0]/2;e=e[1]+d[1]/2;d=-1;for(var q=1/0,c=0;c<g.length;c++){var h,f=g[c];h=e;var u=a[0]+f.x*b[0],f=a[1]+f.y*b[1],t=a[0]+b[0]/
2,w=a[1]+b[1]/2;h=Math.sqrt(Math.pow(n-u,2)+Math.pow(h-f,2))+Math.sqrt(Math.pow(t-u,2)+Math.pow(w-f,2));q>h&&(d=c+0,q=h)}return g[d]};this.compute=function(e){var d=e.xy,m=e.wh,r=e.txy,q=e.twh;this.timestamp=e.timestamp;var t=b.getUserDefinedLocation();return null!=t?t:this.locked||null==r||null==q?n.compute(e):(e.timestamp=null,n=g(d,m,r,q,this.anchors),this.x=n.x,this.y=n.y,n!=a&&this.fire("anchorChanged",n),a=n,n.compute(e))};this.getCurrentLocation=function(a){return this.getUserDefinedLocation()||
(null!=n?n.getCurrentLocation(a):null)};this.getOrientation=function(a){return null!=n?n.getOrientation(a):[0,0]};this.over=function(a,b){null!=n&&n.over(a,b)};this.out=function(){null!=n&&n.out()};this.getCssClass=function(){return n&&n.getCssClass()||""}};jsPlumbUtil.extend(jsPlumb.DynamicAnchor,jsPlumb.Anchor);var t=function(d,e,n,a,b,g){jsPlumb.Anchors[b]=function(k){var l=k.jsPlumbInstance.makeAnchor([d,e,n,a,0,0],k.elementId,k.jsPlumbInstance);return l.type=b,g&&g(l,k),l}};t(.5,0,0,-1,"TopCenter");
t(.5,1,0,1,"BottomCenter");t(0,.5,-1,0,"LeftMiddle");t(1,.5,1,0,"RightMiddle");t(.5,0,0,-1,"Top");t(.5,1,0,1,"Bottom");t(0,.5,-1,0,"Left");t(1,.5,1,0,"Right");t(.5,.5,0,0,"Center");t(1,0,0,-1,"TopRight");t(1,1,0,1,"BottomRight");t(0,0,0,-1,"TopLeft");t(0,1,0,1,"BottomLeft");jsPlumb.Defaults.DynamicAnchors=function(d){return d.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],d.elementId,d.jsPlumbInstance)};jsPlumb.Anchors.AutoDefault=function(d){d=d.jsPlumbInstance.makeDynamicAnchor(jsPlumb.Defaults.DynamicAnchors(d));
return d.type="AutoDefault",d};var n=function(d,e){jsPlumb.Anchors[d]=function(n){n=n.jsPlumbInstance.makeAnchor(["Continuous",{faces:e}],n.elementId,n.jsPlumbInstance);return n.type=d,n}};jsPlumb.Anchors.Continuous=function(d){return d.jsPlumbInstance.continuousAnchorFactory.get(d)};n("ContinuousLeft",["left"]);n("ContinuousTop",["top"]);n("ContinuousBottom",["bottom"]);n("ContinuousRight",["right"]);t(0,0,0,0,"Assign",function(d,e){var n=e.position||"Fixed";d.positionFinder=n.constructor==String?
e.jsPlumbInstance.AnchorPositionFinders[n]:n;d.constructorParams=e});jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(d,e,n){return[(d.left-e.left)/n[0],(d.top-e.top)/n[1]]},Grid:function(d,e,n,a){var b=n[0]/a.grid[0];a=n[1]/a.grid[1];return[(Math.floor((d.left-e.left)/b)*b+b/2)/n[0],(Math.floor((d.top-e.top)/a)*a+a/2)/n[1]]}};jsPlumb.Anchors.Perimeter=function(d){d=d||{};var e=d.anchorCount||60,n=d.shape;if(!n)throw Error("no shape supplied to Perimeter Anchor type");var a=function(){for(var a=
2*Math.PI/e,b=0,d=[],g=0;e>g;g++){var k=.5+.5*Math.sin(b),n=.5+.5*Math.cos(b);d.push([k,n,0,0]);b+=a}return d},b=function(a){for(var b=e/a.length,d=[],g=function(a,c,g,f,k){b=e*k;g=(g-a)/b;f=(f-c)/b;for(k=0;b>k;k++)d.push([a+g*k,c+f*k,0,0])},k=0;k<a.length;k++)g.apply(null,a[k]);return d},g=function(a){for(var e=[],d=0;d<a.length;d++)e.push([a[d][0],a[d][1],a[d][2],a[d][3],1/a.length]);return b(e)},k=function(){return g([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},k={Circle:a,Ellipse:a,Diamond:function(){return g([[.5,
0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:k,Square:k,Triangle:function(){return g([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(a){var e=a.points;a=[];for(var d=0,g=0;g<e.length-1;g++){var k=Math.sqrt(Math.pow(e[g][2]-e[g][0])+Math.pow(e[g][3]-e[g][1])),d=d+k;a.push([e[g][0],e[g][1],e[g+1][0],e[g+1][1],k])}for(e=0;e<a.length;e++)a[e][4]/=d;return b(a)}},a=function(a,b){for(var e=[],d=b/180*Math.PI,g=0;g<a.length;g++){var k=a[g][0]-.5,c=a[g][1]-.5;e.push([.5+(k*Math.cos(d)-c*Math.sin(d)),
.5+(k*Math.sin(d)+c*Math.cos(d)),a[g][2],a[g][3]])}return e};if(!k[n])throw Error("Shape ["+n+"] is unknown by Perimeter Anchor type");n=k[n](d);d.rotation&&(n=a(n,d.rotation));d=d.jsPlumbInstance.makeDynamicAnchor(n);return d.type="Perimeter",d}})();
(function(){jsPlumb.Segments={AbstractSegment:function(a){this.params=a;this.findClosestPointOnPath=function(){return{d:1/0,x:null,y:null,l:null}};this.getBounds=function(){return{minX:Math.min(a.x1,a.x2),minY:Math.min(a.y1,a.y2),maxX:Math.max(a.x1,a.x2),maxY:Math.max(a.y1,a.y2)}}},Straight:function(a){var b,e,d,l,m,r,n,q=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),function(){b=Math.sqrt(Math.pow(m-l,2)+Math.pow(n-r,2));e=Biltong.gradient({x:l,y:r},{x:m,y:n});d=-1/e});this.type="Straight";
this.getLength=function(){return b};this.getGradient=function(){return e};this.getCoordinates=function(){return{x1:l,y1:r,x2:m,y2:n}};this.setCoordinates=function(a){l=a.x1;r=a.y1;m=a.x2;n=a.y2;q()};this.setCoordinates({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2});this.getBounds=function(){return{minX:Math.min(l,m),minY:Math.min(r,n),maxX:Math.max(l,m),maxY:Math.max(r,n)}};this.pointOnPath=function(a,c){return 0!==a||c?1!=a||c?Biltong.pointOnLine({x:l,y:r},{x:m,y:n},c?0<a?a:b+a:a*b):{x:m,y:n}:{x:l,y:r}};this.gradientAtPoint=
function(){return e};this.pointAlongPathFrom=function(a,b,c){a=this.pointOnPath(a,c);c=0>=b?{x:l,y:r}:{x:m,y:n};return 0>=b&&1<Math.abs(b)&&(b*=-1),Biltong.pointOnLine(a,c,b)};var v=function(a,b,c){return c>=Math.min(a,b)&&c<=Math.max(a,b)},c=function(a,b,c){return Math.abs(c-a)<Math.abs(c-b)?a:b};this.findClosestPointOnPath=function(a,f){var q={d:1/0,x:null,y:null,l:null,x1:l,x2:m,y1:r,y2:n};if(0===e)q.y=r,q.x=v(l,m,a)?a:c(l,m,a);else if(1/0==e||e==-1/0)q.x=l,q.y=v(r,n,f)?f:c(r,n,f);else{var t=r-
e*l,z=(f-d*a-t)/(e-d),t=e*z+t;q.x=v(l,m,z)?z:c(l,m,z);q.y=v(r,n,t)?t:c(r,n,t)}z=Biltong.lineLength([q.x,q.y],[l,r]);return q.d=Biltong.lineLength([a,f],[q.x,q.y]),q.l=z/b,q}},Arc:function(a){var b=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),function(b,e){return Biltong.theta([a.cx,a.cy],[b,e])}),e=2*Math.PI;this.radius=a.r;this.anticlockwise=a.ac;this.type="Arc";a.startAngle&&a.endAngle?(this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.x1=a.cx+this.radius*Math.cos(a.startAngle),
this.y1=a.cy+this.radius*Math.sin(a.startAngle),this.x2=a.cx+this.radius*Math.cos(a.endAngle),this.y2=a.cy+this.radius*Math.sin(a.endAngle)):(this.startAngle=b(a.x1,a.y1),this.endAngle=b(a.x2,a.y2),this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2);0>this.endAngle&&(this.endAngle+=e);0>this.startAngle&&(this.startAngle+=e);this.segment=Biltong.quadrant([this.x1,this.y1],[this.x2,this.y2]);this.sweep=Math.abs((this.endAngle<this.startAngle?this.endAngle+e:this.endAngle)-this.startAngle);this.anticlockwise&&
(this.sweep=e-this.sweep);var d=2*Math.PI*this.radius,l=this.sweep/e*d;this.getLength=function(){return l};this.getBounds=function(){return{minX:a.cx-a.r,maxX:a.cx+a.r,minY:a.cy-a.r,maxY:a.cy+a.r}};var m=function(a){var b=Math.floor(a),e=Math.ceil(a);return 1E-10>a-b?b:1E-10>e-a?e:a};this.pointOnPath=function(b,d){if(0===b)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==b)return{x:this.x2,y:this.y2,theta:this.endAngle};d&&(b/=l);var k;k=b;if(this.anticlockwise){var n=this.startAngle<this.endAngle?
this.startAngle+e:this.startAngle,c=Math.abs(n-this.endAngle);k=n-c*k}else n=Math.abs((this.endAngle<this.startAngle?this.endAngle+e:this.endAngle)-this.startAngle),k=this.startAngle+n*k;n=a.cx+a.r*Math.cos(k);c=a.cy+a.r*Math.sin(k);return{x:m(n),y:m(c),theta:k}};this.gradientAtPoint=function(b,e){var d=this.pointOnPath(b,e),d=Biltong.normal([a.cx,a.cy],[d.x,d.y]);return this.anticlockwise||1/0!=d&&d!=-1/0||(d*=-1),d};this.pointAlongPathFrom=function(b,e,g){e=this.pointOnPath(b,g).theta+e/d*(this.anticlockwise?
-1:1)*2*Math.PI;b=a.cx+this.radius*Math.cos(e);e=a.cy+this.radius*Math.sin(e);return{x:b,y:e}}},Bezier:function(a){this.curve=[{x:a.x1,y:a.y1},{x:a.cp1x,y:a.cp1y},{x:a.cp2x,y:a.cp2y},{x:a.x2,y:a.y2}];jsPlumb.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(a.x1,a.x2,a.cp1x,a.cp2x),minY:Math.min(a.y1,a.y2,a.cp1y,a.cp2y),maxX:Math.max(a.x1,a.x2,a.cp1x,a.cp2x),maxY:Math.max(a.y1,a.y2,a.cp1y,a.cp2y)};this.type="Bezier";var b=function(a,b,e){return e&&(b=jsBezier.locationAlongCurveFrom(a,
0<b?0:1,b)),b};this.pointOnPath=function(a,e){return a=b(this.curve,a,e),jsBezier.pointOnCurve(this.curve,a)};this.gradientAtPoint=function(a,e){return a=b(this.curve,a,e),jsBezier.gradientAtPoint(this.curve,a)};this.pointAlongPathFrom=function(a,e,d){return a=b(this.curve,a,d),jsBezier.pointAlongCurveFrom(this.curve,a,e)};this.getLength=function(){return jsBezier.getLength(this.curve)};this.getBounds=function(){return this.bounds}}};var d=function(){this.resetBounds=function(){this.bounds={minX:1/
0,minY:1/0,maxX:-1/0,maxY:-1/0}};this.resetBounds()};jsPlumb.Connectors.AbstractConnector=function(a){d.apply(this,arguments);var b=[],e=0,k=[],l=[],m=a.stub||0,r=jsPlumbUtil.isArray(m)?m[0]:m,n=jsPlumbUtil.isArray(m)?m[1]:m,m=a.gap||0,q=jsPlumbUtil.isArray(m)?m[0]:m,v=jsPlumbUtil.isArray(m)?m[1]:m,c=null,h=null;this.getPath=function(){};this.setPath=function(){};this.findSegmentForPoint=function(a,c){for(var e={d:1/0,s:null,x:null,y:null,l:null},d=0;d<b.length;d++){var f=b[d].findClosestPointOnPath(a,
c);f.d<e.d&&(e.d=f.d,e.l=f.l,e.x=f.x,e.y=f.y,e.s=b[d],e.x1=f.x1,e.x2=f.x2,e.y1=f.y1,e.y2=f.y2,e.index=d)}return e};var f=function(a,c){c&&(a=0<a?a/e:(e+a)/e);for(var d=k.length-1,f=1,h=0;h<k.length;h++)if(k[h][1]>=a){d=h;f=1==a?1:0===a?0:(a-k[h][0])/l[h];break}return{segment:b[d],proportion:f,index:d}};this.setSegments=function(a){c=[];for(var b=e=0;b<a.length;b++)c.push(a[b]),e+=a[b].getLength()};var u=function(a){this.lineWidth=a.lineWidth;var b=Biltong.quadrant(a.sourcePos,a.targetPos),c=a.targetPos[0]<
a.sourcePos[0],e=a.targetPos[1]<a.sourcePos[1],d=a.lineWidth||1,f=a.sourceEndpoint.anchor.getOrientation(a.sourceEndpoint),g=a.targetEndpoint.anchor.getOrientation(a.targetEndpoint),h=c?a.targetPos[0]:a.sourcePos[0],k=e?a.targetPos[1]:a.sourcePos[1],l=Math.abs(a.targetPos[0]-a.sourcePos[0]),m=Math.abs(a.targetPos[1]-a.sourcePos[1]);if(0===f[0]&&0===f[1]||0===g[0]&&0===g[1]){var u=l>m?0:1,t=[1,0][u],f=[],g=[];f[u]=a.sourcePos[u]>a.targetPos[u]?-1:1;g[u]=a.sourcePos[u]>a.targetPos[u]?1:-1;f[t]=0;g[t]=
0}a=c?l+q*f[0]:q*f[0];u=e?m+q*f[1]:q*f[1];c=c?v*g[0]:l+v*g[0];e=e?v*g[1]:m+v*g[1];t=f[0]*g[0]+f[1]*g[1];b={sx:a,sy:u,tx:c,ty:e,lw:d,xSpan:Math.abs(c-a),ySpan:Math.abs(e-u),mx:(a+c)/2,my:(u+e)/2,so:f,to:g,x:h,y:k,w:l,h:m,segment:b,startStubX:a+f[0]*r,startStubY:u+f[1]*r,endStubX:c+g[0]*n,endStubY:e+g[1]*n,isXGreaterThanStubTimes2:Math.abs(a-c)>r+n,isYGreaterThanStubTimes2:Math.abs(u-e)>r+n,opposite:-1==t,perpendicular:0===t,orthogonal:1==t,sourceAxis:0===f[0]?"y":"x",points:[h,k,l,m,a,u,c,e]};return b.anchorOrientation=
b.opposite?"opposite":b.orthogonal?"orthogonal":"perpendicular",b};return this.getSegments=function(){return b},this.updateBounds=function(a){a=a.getBounds();this.bounds.minX=Math.min(this.bounds.minX,a.minX);this.bounds.maxX=Math.max(this.bounds.maxX,a.maxX);this.bounds.minY=Math.min(this.bounds.minY,a.minY);this.bounds.maxY=Math.max(this.bounds.maxY,a.maxY)},this.pointOnPath=function(a,b){var c=f(a,b);return c.segment&&c.segment.pointOnPath(c.proportion,!1)||[0,0]},this.gradientAtPoint=function(a,
b){var c=f(a,b);return c.segment&&c.segment.gradientAtPoint(c.proportion,!1)||0},this.pointAlongPathFrom=function(a,b,c){a=f(a,c);return a.segment&&a.segment.pointAlongPathFrom(a.proportion,b,!1)||[0,0]},this.compute=function(a){h=u.call(this,a);e=b.length=k.length=l.length=0;this._compute(h,a);this.x=h.points[0];this.y=h.points[1];this.w=h.points[2];this.h=h.points[3];this.segment=h.segment;for(var c=a=0;c<b.length;c++){var d=b[c].getLength();l[c]=d/e;k[c]=[a,a+=d/e]}},{addSegment:function(a,c,d){if(d.x1!=
d.x2||d.y1!=d.y2)c=new jsPlumb.Segments[c](d),b.push(c),e+=c.getLength(),a.updateBounds(c)},prepareCompute:u,sourceStub:r,targetStub:n,maxStub:Math.max(r,n),sourceGap:q,targetGap:v,maxGap:Math.max(q,v)}};jsPlumbUtil.extend(jsPlumb.Connectors.AbstractConnector,d);var t=jsPlumb.Connectors.Straight=function(){this.type="Straight";var a=jsPlumb.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(b){a.addSegment(this,"Straight",{x1:b.sx,y1:b.sy,x2:b.startStubX,y2:b.startStubY});a.addSegment(this,
"Straight",{x1:b.startStubX,y1:b.startStubY,x2:b.endStubX,y2:b.endStubY});a.addSegment(this,"Straight",{x1:b.endStubX,y1:b.endStubY,x2:b.tx,y2:b.ty})}};jsPlumbUtil.extend(jsPlumb.Connectors.Straight,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(t,"Straight");jsPlumb.Endpoints.AbstractEndpoint=function(a){d.apply(this,arguments);return{compute:this.compute=function(){var a=this._compute.apply(this,arguments);return this.x=a[0],this.y=a[1],this.w=a[2],this.h=a[3],this.bounds.minX=
this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,a},cssClass:a.cssClass}};jsPlumbUtil.extend(jsPlumb.Endpoints.AbstractEndpoint,d);jsPlumb.Endpoints.Dot=function(a){this.type="Dot";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.radius=a.radius||10;this.defaultOffset=.5*this.radius;this.defaultInnerRadius=this.radius/3;this._compute=function(a,e,d){this.radius=d.radius||this.radius;e=a[0]-this.radius;a=a[1]-this.radius;var l=2*this.radius,
m=2*this.radius;d.strokeStyle&&(d=d.lineWidth||1,e-=d,a-=d,l+=2*d,m+=2*d);return[e,a,l,m,this.radius]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Dot,jsPlumb.Endpoints.AbstractEndpoint);jsPlumb.Endpoints.Rectangle=function(a){this.type="Rectangle";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.width=a.width||20;this.height=a.height||20;this._compute=function(a,e,d){e=d.width||this.width;d=d.height||this.height;return[a[0]-e/2,a[1]-d/2,e,d]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Rectangle,
jsPlumb.Endpoints.AbstractEndpoint);var n=function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments);this._jsPlumb.displayElements=[]};jsPlumbUtil.extend(n,jsPlumb.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(a){this._jsPlumb.displayElements.push(a)}});jsPlumb.Endpoints.Image=function(a){this.type="Image";n.apply(this,arguments);jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);var b=a.onload,e=a.src||a.url,d=a.cssClass?
" "+a.cssClass:"";this._jsPlumb.img=new Image;this._jsPlumb.ready=!1;this._jsPlumb.initialized=!1;this._jsPlumb.deleted=!1;this._jsPlumb.widthToUse=a.width;this._jsPlumb.heightToUse=a.height;this._jsPlumb.endpoint=a.endpoint;this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,b&&b(this))}.bind(this);this._jsPlumb.endpoint.setImage=
function(a,e){var d=a.constructor==String?a:a.src;b=e;this._jsPlumb.img.src=d;null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this);this._jsPlumb.endpoint.setImage(e,b);this._compute=function(a){return this.anchorPoint=a,this._jsPlumb.ready?[a[0]-this._jsPlumb.widthToUse/2,a[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]};this.canvas=document.createElement("img");this.canvas.style.margin=0;this.canvas.style.padding=0;this.canvas.style.outline=
0;this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.instance.endpointClass+d;this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse);this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse);this._jsPlumb.instance.appendElement(this.canvas);this.actuallyPaint=function(){this._jsPlumb.deleted||(this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=
!0),jsPlumbUtil.sizeElement(this.canvas,this.anchorPoint[0]-this._jsPlumb.widthToUse/2,this.anchorPoint[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse))};this.paint=function(a,b){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(a,b):window.setTimeout(function(){this.paint(a,b)}.bind(this),200))}};jsPlumbUtil.extend(jsPlumb.Endpoints.Image,[n,jsPlumb.Endpoints.AbstractEndpoint],{cleanup:function(){this._jsPlumb.deleted=!0;this.canvas&&this.canvas.parentNode.removeChild(this.canvas);
this.canvas=null}});jsPlumb.Endpoints.Blank=function(a){jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank";n.apply(this,arguments);this._compute=function(a){return[a[0],a[1],10,0]};var b=a.cssClass?" "+a.cssClass:"";this.canvas=document.createElement("div");this.canvas.style.display="block";this.canvas.style.width="1px";this.canvas.style.height="1px";this.canvas.style.background="transparent";this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.instance.endpointClass+
b;this._jsPlumb.instance.appendElement(this.canvas);this.paint=function(){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}};jsPlumbUtil.extend(jsPlumb.Endpoints.Blank,[jsPlumb.Endpoints.AbstractEndpoint,n],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}});jsPlumb.Endpoints.Triangle=function(a){this.type="Triangle";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};a.width=a.width||55;a.height=a.height||55;this.width=
a.width;this.height=a.height;this._compute=function(a,e,d){e=d.width||self.width;d=d.height||self.height;return[a[0]-e/2,a[1]-d/2,e,d]}};var q=jsPlumb.Overlays.AbstractOverlay=function(a){this.isAppendedAtTopLevel=this.visible=!0;this.component=a.component;this.loc=null==a.location?.5:a.location;this.endpointLoc=null==a.endpointLocation?[.5,.5]:a.endpointLocation};q.prototype={cleanup:function(){this.endpointLoc=this.canvas=this.component=null},setVisible:function(a){this.visible=a;this.component.repaint()},
isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(a){this.loc+=a;this.component.repaint()},setLocation:function(a){this.loc=a;this.component.repaint()},getLocation:function(){return this.loc}};jsPlumb.Overlays.Arrow=function(a){this.type="Arrow";q.apply(this,arguments);this.isAppendedAtTopLevel=!1;a=a||{};var b=jsPlumbUtil,e=Biltong;this.length=a.length||20;this.width=a.width||20;this.id=a.id;var d=0>(a.direction||
1)?-1:1,l=a.paintStyle||{lineWidth:1},m=a.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width};this.draw=function(a,n){var q,v,c;if(a.pointAlongPathFrom){if(b.isString(this.loc)||1<this.loc||0>this.loc)c=parseInt(this.loc,10),v=0>this.loc?1:0,q=a.pointAlongPathFrom(v,c,!1),v=a.pointAlongPathFrom(v,c-d*this.length/2,!1),c=e.pointOnLine(q,v,this.length);else if(1==this.loc){if(q=a.pointOnPath(this.loc),v=a.pointAlongPathFrom(this.loc,-this.length),c=e.pointOnLine(q,v,this.length),-1==
d)v=c,c=q,q=v}else if(0===this.loc){if(c=a.pointOnPath(this.loc),v=a.pointAlongPathFrom(this.loc,this.length),q=e.pointOnLine(c,v,this.length),-1==d)v=c,c=q,q=v}else q=a.pointAlongPathFrom(this.loc,d*this.length/2),v=a.pointOnPath(this.loc),c=e.pointOnLine(q,v,this.length);v=e.perpendicularLineTo(q,c,this.width);c=e.pointOnLine(q,c,m*this.length);return{component:a,d:{hxy:q,tail:v,cxy:c},lineWidth:l.lineWidth||n.lineWidth,strokeStyle:l.strokeStyle||n.strokeStyle,fillStyle:l.fillStyle||n.strokeStyle,
minX:Math.min(q.x,v[0].x,v[1].x),maxX:Math.max(q.x,v[0].x,v[1].x),minY:Math.min(q.y,v[0].y,v[1].y),maxY:Math.max(q.y,v[0].y,v[1].y)}}return{component:a,minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(jsPlumb.Overlays.Arrow,q);jsPlumb.Overlays.PlainArrow=function(a){a=a||{};a=jsPlumb.extend(a,{foldback:1});jsPlumb.Overlays.Arrow.call(this,a);this.type="PlainArrow"};jsPlumbUtil.extend(jsPlumb.Overlays.PlainArrow,jsPlumb.Overlays.Arrow);jsPlumb.Overlays.Diamond=function(a){a=a||{};a=jsPlumb.extend(a,
{length:(a.length||40)/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,a);this.type="Diamond"};jsPlumbUtil.extend(jsPlumb.Overlays.Diamond,jsPlumb.Overlays.Arrow);var e=function(a,b){return(null==a._jsPlumb.cachedDimensions||b)&&(a._jsPlumb.cachedDimensions=a.getDimensions()),a._jsPlumb.cachedDimensions},w=function(a){jsPlumb.jsPlumbUIComponent.apply(this,arguments);q.apply(this,arguments);var b=this.fire;this.fire=function(){b.apply(this,arguments);this.component&&this.component.fire.apply(this.component,
arguments)};this.id=a.id;this._jsPlumb.div=null;this._jsPlumb.initialised=!1;this._jsPlumb.component=a.component;this._jsPlumb.cachedDimensions=null;this._jsPlumb.create=a.create;this._jsPlumb.initiallyInvisible=!1===a.visible;this.getElement=function(){if(null==this._jsPlumb.div){var b=this._jsPlumb.div=jsPlumb.getDOMElement(this._jsPlumb.create(this._jsPlumb.component));b.style.position="absolute";b.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:a.cssClass?a.cssClass:
"");this._jsPlumb.instance.appendElement(b);this._jsPlumb.instance.getId(b);this.canvas=b;b.style.webkitTransform="translate(-50%, -50%)";b.style.mozTransform="translate(-50%, -50%)";b.style.msTransform="translate(-50%, -50%)";b.style.oTransform="translate(-50%, -50%)";b.style.transform="translate(-50%, -50%)";b._jsPlumb=this;!1===a.visible&&(b.style.display="none")}return this._jsPlumb.div};this.draw=function(a,b,d){b=e(this);if(null!=b&&2==b.length){var m={x:0,y:0};d?m={x:d[0],y:d[1]}:a.pointOnPath?
(m=this.loc,d=!1,(jsPlumbUtil.isString(this.loc)||0>this.loc||1<this.loc)&&(m=parseInt(this.loc,10),d=!0),m=a.pointOnPath(m,d)):(m=this.loc.constructor==Array?this.loc:this.endpointLoc,m={x:m[0]*a.w,y:m[1]*a.h});d=m.x-b[0]/2;var r=m.y-b[1]/2;return{component:a,d:{minx:d,miny:r,td:b,cxy:m},minX:d,maxX:d+b[0],minY:r,maxY:r+b[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(w,[jsPlumb.jsPlumbUIComponent,q],{getDimensions:function(){return jsPlumbUtil.oldIE?jsPlumb.getSize(this.getElement()):
[1,1]},setVisible:function(a){this._jsPlumb.div.style.display=a?"block":"none";a&&this._jsPlumb.initiallyInvisible&&(e(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1)},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(){null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div))},computeMaxSize:function(){var a=e(this);return Math.max(a[0],a[1])},paint:function(a){this._jsPlumb.initialised||
(this.getElement(),a.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0);this._jsPlumb.div.style.left=a.component.x+a.d.minx+"px";this._jsPlumb.div.style.top=a.component.y+a.d.miny+"px"}});jsPlumb.Overlays.Custom=function(){this.type="Custom";w.apply(this,arguments)};jsPlumbUtil.extend(jsPlumb.Overlays.Custom,w);jsPlumb.Overlays.GuideLines=function(){var a=this;a.length=50;a.lineWidth=5;this.type="GuideLines";q.apply(this,arguments);jsPlumb.jsPlumbUIComponent.apply(this,
arguments);this.draw=function(b){var e=b.pointAlongPathFrom(a.loc,a.length/2),d=b.pointOnPath(a.loc),d=Biltong.pointOnLine(e,d,a.length),l=Biltong.perpendicularLineTo(e,d,40),m=Biltong.perpendicularLineTo(d,e,20);return{connector:b,head:e,tail:d,headLine:m,tailLine:l,minX:Math.min(e.x,d.x,m[0].x,m[1].x),minY:Math.min(e.y,d.y,m[0].y,m[1].y),maxX:Math.max(e.x,d.x,m[0].x,m[1].x),maxY:Math.max(e.y,d.y,m[0].y,m[1].y)}}};jsPlumb.Overlays.Label=function(a){this.labelStyle=a.labelStyle;this.cssClass=null!=
this.labelStyle?this.labelStyle.cssClass:null;var b=jsPlumb.extend({create:function(){return document.createElement("div")}},a);if(jsPlumb.Overlays.Custom.call(this,b),this.type="Label",this.label=a.label||"",this.labelText=null,this.labelStyle){a=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",a.style.font=this.labelStyle.font,a.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(a.style.background=this.labelStyle.fillStyle),0<this.labelStyle.borderWidth)a.style.border=
this.labelStyle.borderWidth+"px solid "+(this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black");this.labelStyle.padding&&(a.style.padding=this.labelStyle.padding)}};jsPlumbUtil.extend(jsPlumb.Overlays.Label,jsPlumb.Overlays.Custom,{cleanup:function(){this.labelStyle=this.cssClass=this.labelText=this.label=this.div=null},getLabel:function(){return this.label},setLabel:function(a){this.label=a;this.labelText=null;this.clearCachedDimensions();this.update();this.component.repaint()},getDimensions:function(){return this.update(),
w.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var a=this.label(this);this.getElement().innerHTML=a.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))}})})();
(function(){jsPlumb.extend(jsPlumbInstance.prototype,{getEventManager:function(){var d=this._mottle;return d||(d=this._mottle=new Mottle),d},on:function(){this.getEventManager().on.apply(this,arguments)},off:function(){this.getEventManager().off.apply(this,arguments)}})}).call(this);
(function(){var d=function(d){this.type="Flowchart";d=d||{};d.stub=null==d.stub?30:d.stub;var n=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),q=null==d.midpoint?.5:d.midpoint,e=[],w=(d.grid,d.alwaysRespectStubs),a=null,b=null,g=null,k=null!=d.cornerRadius?d.cornerRadius:0,l=function(a){return 0>a?-1:0===a?0:1},m=function(a,c,e,d){if(b!=c||g!=e){var k=null==b?d.sx:b;d=null==g?d.sy:g;var m=k==c?"v":"h",r=l(c-k),n=l(e-d);b=c;g=e;a.push([k,d,c,e,m,r,n])}},r=function(a){return Math.sqrt(Math.pow(a[0]-
a[2],2)+Math.pow(a[1]-a[3],2))},y=function(a){var b=[];return b.push.apply(b,a),b},z=function(a,b,e){for(var d,g,l=0;l<b.length-1;l++){if(d=d||y(b[l]),g=y(b[l+1]),0<k&&d[4]!=g[4]){var m=Math.min(k,r(d),r(g));d[2]-=d[5]*m;d[3]-=d[6]*m;g[0]+=g[5]*m;g[1]+=g[6]*m;var q=d[6]==g[5]&&1==g[5]||d[6]==g[5]&&0===g[5]&&d[5]!=g[6]||d[6]==g[5]&&-1==g[5],t=(g[1]>d[3]?1:-1)==(g[0]>d[2]?1:-1),z=t&&q||!t&&!q?g[0]:d[2],t=t&&q||!t&&!q?d[3]:g[1];n.addSegment(a,"Straight",{x1:d[0],y1:d[1],x2:d[2],y2:d[3]});n.addSegment(a,
"Arc",{r:m,x1:d[2],y1:d[3],x2:g[0],y2:g[1],cx:z,cy:t,ac:q})}else m=d[2]==d[0]?0:d[2]>d[0]?e.lw/2:-(e.lw/2),q=d[3]==d[1]?0:d[3]>d[1]?e.lw/2:-(e.lw/2),n.addSegment(a,"Straight",{x1:d[0]-m,y1:d[1]-q,x2:d[2]+m,y2:d[3]+q});d=g}null!=g&&n.addSegment(a,"Straight",{x1:g[0],y1:g[1],x2:g[2],y2:g[3]})};this.setSegments=function(b){a=b};this.isEditable=function(){return!0};this.getOriginalSegments=function(){return a||e};this._compute=function(d,c){if(c.clearEdits&&(a=null),null!=a)return z(this,a,d),void 0;
e=[];g=b=null;var h=d.startStubX+(d.endStubX-d.startStubX)*q,f=d.startStubY+(d.endStubY-d.startStubY)*q,k={x:[0,1],y:[1,0]},l=function(){return[d.startStubX,d.startStubY,d.endStubX,d.endStubY]},l={perpendicular:l,orthogonal:l,opposite:function(a){var b="x"==a?0:1,c={x:function(){return 1==d.so[b]&&(d.startStubX>d.endStubX&&d.tx>d.startStubX||d.sx>d.endStubX&&d.tx>d.sx)||-1==d.so[b]&&(d.startStubX<d.endStubX&&d.tx<d.startStubX||d.sx<d.endStubX&&d.tx<d.sx)},y:function(){return 1==d.so[b]&&(d.startStubY>
d.endStubY&&d.ty>d.startStubY||d.sy>d.endStubY&&d.ty>d.sy)||-1==d.so[b]&&(d.startStubY<d.endStubY&&d.ty<d.startStubY||d.sy<d.endStubY&&d.ty<d.sy)}};return!w&&c[a]()?{x:[(d.sx+d.tx)/2,d.startStubY,(d.sx+d.tx)/2,d.endStubY],y:[d.startStubX,(d.sy+d.ty)/2,d.endStubX,(d.sy+d.ty)/2]}[a]:[d.startStubX,d.startStubY,d.endStubX,d.endStubY]}}[d.anchorOrientation](d.sourceAxis),r="x"==d.sourceAxis?0:1,t="x"==d.sourceAxis?1:0,y=l[r],F=l[t],K=l[r+2],t=l[t+2];m(e,l[0],l[1],d);if(y={perpendicular:function(a){var b=
{x:[[d.startStubX,d.endStubX],null,[d.endStubX,d.startStubX]],y:[[d.startStubY,d.endStubY],null,[d.endStubY,d.startStubY]]},c={x:[[h,d.startStubY],[h,d.endStubY]],y:[[d.startStubX,f],[d.endStubX,f]]},e={x:[[d.endStubX,d.startStubY]],y:[[d.startStubX,d.endStubY]]},g={x:[[d.startStubX,d.endStubY],[d.endStubX,d.endStubY]],y:[[d.endStubX,d.startStubY],[d.endStubX,d.endStubY]]},l={x:[[d.startStubX,f],[d.endStubX,f],[d.endStubX,d.endStubY]],y:[[h,d.startStubY],[h,d.endStubY],[d.endStubX,d.endStubY]]},m=
{x:[d.startStubY,d.endStubY],y:[d.startStubX,d.endStubX]},r=k[a][1],n=d.so[k[a][0]]+1,m=-1==d.to[r]&&m[a][1]<m[a][0]||1==d.to[r]&&m[a][1]>m[a][0],q=b[a][n][0],b=b[a][n][1],r={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[a][n][d.to[r]+1];return d.segment==r[3]||d.segment==r[2]&&m?c[a]:d.segment==r[2]&&q>b?e[a]:d.segment==r[2]&&b>=q||d.segment==r[1]&&!m?l[a]:d.segment==r[0]||d.segment==r[1]&&m?g[a]:void 0},orthogonal:function(a,
b,c,e,f){b={x:-1==d.so[0]?Math.min(b,e):Math.max(b,e),y:-1==d.so[1]?Math.min(b,e):Math.max(b,e)}[a];return{x:[[b,c],[b,f],[e,f]],y:[[c,b],[f,b],[f,e]]}[a]},opposite:function(a,b,e,g){var k={x:"y",y:"x"}[a],l={x:"height",y:"width"}[a],m=d["is"+a.toUpperCase()+"GreaterThanStubTimes2"];return c.sourceEndpoint.elementId==c.targetEndpoint.elementId?(e=e+(1-c.sourceEndpoint.anchor[k])*c.sourceInfo[l]+n.maxStub,{x:[[b,e],[g,e]],y:[[e,b],[e,g]]}[a]):!m||1==d.so[r]&&b>g||-1==d.so[r]&&g>b?{x:[[b,f],[g,f]],
y:[[h,b],[h,g]]}[a]:1==d.so[r]&&g>b||-1==d.so[r]&&b>g?{x:[[h,d.sy],[h,d.ty]],y:[[d.sx,f],[d.tx,f]]}[a]:void 0}}[d.anchorOrientation](d.sourceAxis,y,F,K,t))for(F=0;F<y.length;F++)m(e,y[F][0],y[F][1],d);m(e,l[2],l[3],d);m(e,d.tx,d.ty,d);z(this,e,d)};this.getPath=function(){for(var b=null,c=null,d=[],f=a||e,g=0;g<f.length;g++){var k=f[g],l=k[4],m="v"==l?3:2;null!=b&&c===l?b[m]=k[m]:(k[0]!=k[2]||k[1]!=k[3])&&(d.push({start:[k[0],k[1]],end:[k[2],k[3]]}),b=k,c=k[4])}return d};this.setPath=function(b){a=
[];for(var c=0;c<b.length;c++){var e=b[c].start[0],d=b[c].start[1],g=b[c].end[0],k=b[c].end[1],m=e==g?"v":"h",r=l(g-e),n=l(k-d);a.push([e,d,g,k,m,r,n])}}};jsPlumbUtil.extend(d,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(d,"Flowchart")})();
(function(){jsPlumb.registerConnectorType(function(d){d=d||{};this.type="StateMachine";var t=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),n=d.curviness||10,q=d.margin||5,e=d.proximityLimit||80,w=d.orientation&&"clockwise"===d.orientation,a=d.loopbackRadius||25,b=!1!==d.showLoopback;this._compute=function(d,k){var l=Math.abs(k.sourcePos[0]-k.targetPos[0]),m=Math.abs(k.sourcePos[1]-k.targetPos[1]);if(Math.min(k.sourcePos[0],k.targetPos[0]),Math.min(k.sourcePos[1],k.targetPos[1]),b&&k.sourceEndpoint.elementId===
k.targetEndpoint.elementId){var r=k.sourcePos[0],y=(k.sourcePos[0],k.sourcePos[1]-q),l=(k.sourcePos[1]-q,r),m=y-a,z=2*a,v=2*a,c=l-a,h=m-a;d.points[0]=c;d.points[1]=h;d.points[2]=z;d.points[3]=v;t.addSegment(this,"Arc",{loopback:!0,x1:r-c+4,y1:y-h,startAngle:0,endAngle:2*Math.PI,r:a,ac:!w,x2:r-c-4,y2:y-h,cx:l-c,cy:m-h})}else{r=k.sourcePos[0]<k.targetPos[0]?0:l;y=k.sourcePos[1]<k.targetPos[1]?0:m;l=k.sourcePos[0]<k.targetPos[0]?l:0;m=k.sourcePos[1]<k.targetPos[1]?m:0;0===k.sourcePos[2]&&(r-=q);1===
k.sourcePos[2]&&(r+=q);0===k.sourcePos[3]&&(y-=q);1===k.sourcePos[3]&&(y+=q);0===k.targetPos[2]&&(l-=q);1===k.targetPos[2]&&(l+=q);0===k.targetPos[3]&&(m-=q);1===k.targetPos[3]&&(m+=q);var z=(r+l)/2,v=(y+m)/2,c=-1*z/v,h=Math.atan(c),c=(1/0==c||c==-1/0?0:Math.abs(n/2*Math.sin(h)),1/0==c||c==-1/0?0:Math.abs(n/2*Math.cos(h)),l>=r&&y>=m?1:l>=r&&m>=y?2:r>=l&&m>=y?3:4),h=Math.sqrt(Math.pow(l-r,2)+Math.pow(m-y,2)),f=k.sourcePos,u=k.targetPos,z=e>=h?[z,v]:1===c?0>=f[3]&&1<=u[3]?[z+(.5>f[2]?-1*n:n),v]:1<=
f[2]&&0>=u[2]?[z,v+(.5>f[3]?-1*n:n)]:[z+-1*n,v+-1*n]:2===c?1<=f[3]&&0>=u[3]?[z+(.5>f[2]?-1*n:n),v]:1<=f[2]&&0>=u[2]?[z,v+(.5>f[3]?-1*n:n)]:[z+1*n,v+-1*n]:3===c?1<=f[3]&&0>=u[3]?[z+(.5>f[2]?-1*n:n),v]:0>=f[2]&&1<=u[2]?[z,v+(.5>f[3]?-1*n:n)]:[z+-1*n,v+-1*n]:4===c?0>=f[3]&&1<=u[3]?[z+(.5>f[2]?-1*n:n),v]:0>=f[2]&&1<=u[2]?[z,v+(.5>f[3]?-1*n:n)]:[z+1*n,v+-1*n]:void 0;t.addSegment(this,"Bezier",{x1:l,y1:m,x2:r,y2:y,cp1x:z[0],cp1y:z[1],cp2x:z[0],cp2y:z[1]})}}},"StateMachine")})();
(function(){var d=function(d){d=d||{};var n=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),q=(d.stub||50,d.curviness||150);this.type="Bezier";this.getCurviness=function(){return q};this._findControlPoint=function(e,d,a,b,g){b=b.anchor.getOrientation(b);g=g.anchor.getOrientation(g);var k=[];return b[0]!=g[0]||b[1]==g[1]?(0===g[0]?k.push(a[0]<d[0]?e[0]+10:e[0]-10):k.push(e[0]+q*g[0]),0===g[1]?k.push(a[1]<d[1]?e[1]+10:e[1]-10):k.push(e[1]+q*b[1])):(0===b[0]?k.push(d[0]<a[0]?e[0]+10:e[0]-
10):k.push(e[0]-q*b[0]),0===b[1]?k.push(d[1]<a[1]?e[1]+10:e[1]-10):k.push(e[1]+q*g[1])),k};this._compute=function(e,d){var a=d.sourcePos,b=d.targetPos,g=Math.abs(a[0]-b[0]),k=Math.abs(a[1]-b[1]),l=a[0]<b[0]?g:0,m=a[1]<b[1]?k:0,g=a[0]<b[0]?0:g,k=a[1]<b[1]?0:k,r=this._findControlPoint([l,m],a,b,d.sourceEndpoint,d.targetEndpoint,e.so,e.to),a=this._findControlPoint([g,k],b,a,d.targetEndpoint,d.sourceEndpoint,e.so,e.to);n.addSegment(this,"Bezier",{x1:l,y1:m,x2:g,y2:k,cp1x:r[0],cp1y:r[1],cp2x:a[0],cp2y:a[1]})}};
jsPlumbUtil.extend(d,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(d,"Bezier")})();
(function(){var d={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},t=function(a,b){for(var e in b)a.setAttribute(e,""+b[e])},n=function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg",a);return b=b||{},b.version="1.1",b.xmlns="http://www.w3.org/1999/xhtml",t(e,b),e},q=function(a){return"position:absolute;left:"+a[0]+"px;top:"+a[1]+"px"},e=function(a){for(var b=0;b<a.childNodes.length;b++)"defs"!=
a.childNodes[b].tagName&&"linearGradient"!=a.childNodes[b].tagName&&"radialGradient"!=a.childNodes[b].tagName||a.removeChild(a.childNodes[b])},w=function(a,b,d,g,k){g="jsplumb_gradient_"+k._jsPlumb.instance.idstamp();e(a);var q;q=d.gradient.offset?n("radialGradient",{id:g}):n("linearGradient",{id:g,gradientUnits:"userSpaceOnUse"});var c=n("defs");a.appendChild(c);c.appendChild(q);for(a=0;a<d.gradient.stops.length;a++)c=jsPlumbUtil.convertStyle(d.gradient.stops[1==k.segment||2==k.segment?a:d.gradient.stops.length-
1-a][1],!0),c=n("stop",{offset:Math.floor(100*d.gradient.stops[a][0])+"%","stop-color":c}),q.appendChild(c);b.setAttribute(d.strokeStyle?"stroke":"fill","url(#"+g+")")},a=function(a,b,g,k,n){if(b.setAttribute("fill",g.fillStyle?jsPlumbUtil.convertStyle(g.fillStyle,!0):"none"),b.setAttribute("stroke",g.strokeStyle?jsPlumbUtil.convertStyle(g.strokeStyle,!0):"none"),g.gradient?w(a,b,g,k,n):(e(a),b.setAttribute("style","")),g.lineWidth&&b.setAttribute("stroke-width",g.lineWidth),g.dashstyle&&g.lineWidth&&
!g["stroke-dasharray"]){var q=-1==g.dashstyle.indexOf(",")?" ":",",c="";g.dashstyle.split(q).forEach(function(a){c+=Math.floor(a*g.lineWidth)+q});b.setAttribute("stroke-dasharray",c)}else g["stroke-dasharray"]&&b.setAttribute("stroke-dasharray",g["stroke-dasharray"]);for(var h in d)g[h]&&b.setAttribute(d[h],g[h])};jsPlumbUtil.svg={node:n,attr:t,pos:q};var b=function(a){var b=a.pointerEventsSpec||"all",e={};jsPlumb.jsPlumbUIComponent.apply(this,a.originalArgs);this.bgCanvas=this.svg=this.path=this.canvas=
null;var d=a.cssClass+" "+(a.originalArgs[0].cssClass||"");this.svg=n("svg",{style:"",width:0,height:0,"pointer-events":b,position:"absolute"});a.useDivWrapper?(this.canvas=document.createElement("div"),this.canvas.style.position="absolute",jsPlumbUtil.sizeElement(this.canvas,0,0,1,1),this.canvas.className=d):(t(this.svg,{"class":d}),this.canvas=this.svg);a._jsPlumb.appendElement(this.canvas,a.originalArgs[0].parent);a.useDivWrapper&&this.canvas.appendChild(this.svg);var g=[this.canvas];return this.getDisplayElements=
function(){return g},this.appendDisplayElement=function(a){g.push(a)},this.paint=function(b,c,d){if(null!=b){var f,g=[this.x,this.y],k=[this.w,this.h];null!=d&&(0>d.xmin&&(g[0]+=d.xmin),0>d.ymin&&(g[1]+=d.ymin),k[0]=d.xmax+(0>d.xmin?-d.xmin:0),k[1]=d.ymax+(0>d.ymin?-d.ymin:0));a.useDivWrapper?(jsPlumbUtil.sizeElement(this.canvas,g[0],g[1],k[0],k[1]),g[0]=0,g[1]=0,f=q([0,0])):f=q([g[0],g[1]]);e.paint.apply(this,arguments);t(this.svg,{style:f,width:k[0],height:k[1]})}},{renderer:e}};jsPlumbUtil.extend(b,
jsPlumb.jsPlumbUIComponent,{cleanup:function(){this.canvas&&(this.canvas._jsPlumb=null);this.svg&&(this.svg._jsPlumb=null);this.bgCanvas&&(this.bgCanvas._jsPlumb=null);this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);this.group=this.path=this.canvas=this.svg=null},setVisible:function(a){this.canvas&&(this.canvas.style.display=a?"block":"none")}});jsPlumb.ConnectorRenderers.svg=
function(e){var d=this;b.apply(this,[{cssClass:e._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:e._jsPlumb}]).renderer.paint=function(b,g,k){g=d.getSegments();var q="",c=[0,0];if(0>k.xmin&&(c[0]=-k.xmin),0>k.ymin&&(c[1]=-k.ymin),0<g.length){for(k=0;k<g.length;k++)q+=jsPlumb.Segments.svg.SegmentRenderer.getPath(g[k]),q+=" ";g={d:q,transform:"translate("+c[0]+","+c[1]+")","pointer-events":e["pointer-events"]||"visibleStroke"};q=null;k=[d.x,d.y,d.w,d.h];if(b.outlineColor){c=
b.lineWidth+2*(b.outlineWidth||1);q=jsPlumb.extend({},b);delete q.gradient;q.strokeStyle=jsPlumbUtil.convertStyle(b.outlineColor);q.lineWidth=c;if(null==d.bgPath){d.bgPath=n("path",g);var c=d.svg,h=d.bgPath;0<c.childNodes.length?c.insertBefore(h,c.childNodes[0]):c.appendChild(h)}else t(d.bgPath,g);a(d.svg,d.bgPath,q,k,d)}null==d.path?(d.path=n("path",g),g=d.svg,q=d.path,c=b.outlineColor?1:0,g.childNodes.length>c?g.insertBefore(q,g.childNodes[c]):g.appendChild(q)):t(d.path,g);a(d.svg,d.path,b,k,d)}}};
jsPlumbUtil.extend(jsPlumb.ConnectorRenderers.svg,b);jsPlumb.Segments.svg={SegmentRenderer:{getPath:function(a){return{Straight:function(){var b=a.getCoordinates();return"M "+b.x1+" "+b.y1+" L "+b.x2+" "+b.y2},Bezier:function(){var b=a.params;return"M "+b.x1+" "+b.y1+" C "+b.cp1x+" "+b.cp1y+" "+b.cp2x+" "+b.cp2y+" "+b.x2+" "+b.y2},Arc:function(){return"M"+a.x1+" "+a.y1+" A "+a.radius+" "+a.params.r+" 0 "+(a.sweep>Math.PI?1:0)+","+(a.anticlockwise?0:1)+" "+a.x2+" "+a.y2}}[a.type]()}}};var g=window.SvgEndpoint=
function(e){b.apply(this,[{cssClass:e._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:e._jsPlumb}]).renderer.paint=function(b){b=jsPlumb.extend({},b);b.outlineColor&&(b.strokeWidth=b.outlineWidth,b.strokeStyle=jsPlumbUtil.convertStyle(b.outlineColor,!0));null==this.node?(this.node=this.makeNode(b),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node);a(this.svg,this.node,b,[this.x,this.y,this.w,this.h],this);q(this.node,
[this.x,this.y])}.bind(this)};jsPlumbUtil.extend(g,b);jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);g.apply(this,arguments);this.makeNode=function(){return n("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})};this.updateNode=function(a){t(a,{cx:this.w/2,cy:this.h/2,r:this.radius})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Dot,[jsPlumb.Endpoints.Dot,g]);jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);g.apply(this,arguments);
this.makeNode=function(){return n("rect",{width:this.w,height:this.h})};this.updateNode=function(a){t(a,{width:this.w,height:this.h})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Rectangle,[jsPlumb.Endpoints.Rectangle,g]);jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.svg.Custom=jsPlumb.Overlays.Custom;var k=function(a,b){a.apply(this,b);jsPlumb.jsPlumbUIComponent.apply(this,b);
this.isAppendedAtTopLevel=!1;this.path=null;this.paint=function(a,e){if(a.component.svg&&e){null==this.path&&(this.path=n("path",{"pointer-events":"all"}),a.component.svg.appendChild(this.path),this.canvas=a.component.svg);var d=b&&1==b.length?b[0].cssClass||"":"",g=[0,0];0>e.xmin&&(g[0]=-e.xmin);0>e.ymin&&(g[1]=-e.ymin);var c=a.d;t(this.path,{d:"M"+c.hxy.x+","+c.hxy.y+" L"+c.tail[0].x+","+c.tail[0].y+" L"+c.cxy.x+","+c.cxy.y+" L"+c.tail[1].x+","+c.tail[1].y+" L"+c.hxy.x+","+c.hxy.y,"class":d,stroke:a.strokeStyle?
a.strokeStyle:null,fill:a.fillStyle?a.fillStyle:null,transform:"translate("+g[0]+","+g[1]+")"})}}};jsPlumbUtil.extend(k,[jsPlumb.jsPlumbUIComponent,jsPlumb.Overlays.AbstractOverlay],{cleanup:function(){null!=this.path&&this._jsPlumb.instance.removeElement(this.path)},setVisible:function(a){null!=this.path&&(this.path.style.display=a?"block":"none")}});jsPlumb.Overlays.svg.Arrow=function(){k.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Arrow,[jsPlumb.Overlays.Arrow,
k]);jsPlumb.Overlays.svg.PlainArrow=function(){k.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.PlainArrow,[jsPlumb.Overlays.PlainArrow,k]);jsPlumb.Overlays.svg.Diamond=function(){k.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Diamond,[jsPlumb.Overlays.Diamond,k]);jsPlumb.Overlays.svg.GuideLines=function(){var a,b,e=null,d=this;jsPlumb.Overlays.GuideLines.apply(this,arguments);this.paint=function(k,c){null==
e&&(e=n("path"),k.connector.svg.appendChild(e),d.attachListeners(e,k.connector),d.attachListeners(e,d),a=n("path"),k.connector.svg.appendChild(a),d.attachListeners(a,k.connector),d.attachListeners(a,d),b=n("path"),k.connector.svg.appendChild(b),d.attachListeners(b,k.connector),d.attachListeners(b,d));var h=[0,0];0>c.xmin&&(h[0]=-c.xmin);0>c.ymin&&(h[1]=-c.ymin);t(e,{d:g(k.head,k.tail),stroke:"red",fill:null,transform:"translate("+h[0]+","+h[1]+")"});t(a,{d:g(k.tailLine[0],k.tailLine[1]),stroke:"blue",
fill:null,transform:"translate("+h[0]+","+h[1]+")"});t(b,{d:g(k.headLine[0],k.headLine[1]),stroke:"green",fill:null,transform:"translate("+h[0]+","+h[1]+")"})};var g=function(a,b){return"M "+a.x+","+a.y+" L"+b.x+","+b.y}};jsPlumbUtil.extend(jsPlumb.Overlays.svg.GuideLines,jsPlumb.Overlays.GuideLines)})();
(function(){var d={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},t=null;if(document.createStyleSheet&&document.namespaces){for(var n=".jsplumb_vml jsplumb\\:textbox jsplumb\\:oval jsplumb\\:rect jsplumb\\:stroke jsplumb\\:shape jsplumb\\:group".split(" "),t=document.createStyleSheet(),q=0;q<n.length;q++)t.addRule(n[q],"behavior:url(#default#VML);position:absolute;");document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}jsPlumb.vml={};var e=
function(a,b){for(var e in b)a[e]=b[e]},w=function(b,d,g,k,c,h){g=g||{};b=document.createElement("jsplumb:"+b);return h?c.appendElement(b,k):k.appendChild(b),b.className=(g["class"]?g["class"]+" ":"")+"jsplumb_vml",a(b,d),e(b,g),b},a=function(a,b,e){a.style.left=b[0]+"px";a.style.top=b[1]+"px";a.style.width=b[2]+"px";a.style.height=b[3]+"px";a.style.position="absolute";e&&(a.style.zIndex=e)},b=jsPlumb.vml.convertValue=function(a){return Math.floor(1E3*a)},g=function(a,b,d,g){var c={};if(b.strokeStyle){c.stroked=
"true";var h=jsPlumbUtil.convertStyle(b.strokeStyle,!0);c.strokecolor=h;"transparent"===h?d.setOpacity("stroke","0.0"):d.setOpacity("stroke","1.0");c.strokeweight=b.lineWidth+"px"}else c.stroked="false";b.fillStyle?(c.filled="true",h=jsPlumbUtil.convertStyle(b.fillStyle,!0),c.fillcolor=h,"transparent"===h?d.setOpacity("fill","0.0"):d.setOpacity("fill","1.0")):c.filled="false";if(b.dashstyle)null==d.strokeNode?d.strokeNode=w("stroke",[0,0,0,0],{dashstyle:b.dashstyle},a,g):d.strokeNode.dashstyle=b.dashstyle;
else if(b["stroke-dasharray"]&&b.lineWidth){for(var h=-1==b["stroke-dasharray"].indexOf(",")?" ":",",f=b["stroke-dasharray"].split(h),k="",l=0;l<f.length;l++)k+=Math.floor(f[l]/b.lineWidth)+h;null==d.strokeNode?d.strokeNode=w("stroke",[0,0,0,0],{dashstyle:k},a,g):d.strokeNode.dashstyle=k}e(a,c)},k=function(){var a=this;jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.opacityNodes={stroke:null,fill:null};this.initOpacityNodes=function(b){a.opacityNodes.stroke=w("stroke",[0,0,1,1],{opacity:"0.0"},
b,a._jsPlumb.instance);a.opacityNodes.fill=w("fill",[0,0,1,1],{opacity:"0.0"},b,a._jsPlumb.instance)};this.setOpacity=function(b,e){var c=a.opacityNodes[b];c&&(c.opacity=""+e)};var b=[];this.getDisplayElements=function(){return b};this.appendDisplayElement=function(e,d){d||a.canvas.parentNode.appendChild(e);b.push(e)}};jsPlumbUtil.extend(k,jsPlumb.jsPlumbUIComponent,{cleanup:function(){this.bgCanvas&&this.bgCanvas.parentNode.removeChild(this.bgCanvas);this.canvas&&this.canvas.parentNode.removeChild(this.canvas)}});
t=jsPlumb.ConnectorRenderers.vml=function(b,l){this.canvas=this.strokeNode=null;k.apply(this,arguments);var m=this._jsPlumb.instance.connectorClass+(b.cssClass?" "+b.cssClass:"");this.paint=function(k){if(null!==k){this.w=Math.max(this.w,1);this.h=Math.max(this.h,1);for(var c=this.getSegments(),h={path:""},f=[this.x,this.y,this.w,this.h],n=0;n<c.length;n++)h.path+=jsPlumb.Segments.vml.SegmentRenderer.getPath(c[n]),h.path+=" ";if(k.outlineColor){var c=k.lineWidth+2*(k.outlineWidth||1),c={strokeStyle:jsPlumbUtil.convertStyle(k.outlineColor),
lineWidth:c},q;for(q in d)c[q]=k[q];null==this.bgCanvas?(h["class"]=m,h.coordsize=1E3*f[2]+","+1E3*f[3],this.bgCanvas=w("shape",f,h,b.parent,this._jsPlumb.instance,!0),a(this.bgCanvas,f),this.appendDisplayElement(this.bgCanvas,!0),this.initOpacityNodes(this.bgCanvas,["stroke"]),this.bgCanvas._jsPlumb=l):(h.coordsize=1E3*f[2]+","+1E3*f[3],a(this.bgCanvas,f),e(this.bgCanvas,h));g(this.bgCanvas,c,this)}null==this.canvas?(h["class"]=m,h.coordsize=1E3*f[2]+","+1E3*f[3],this.canvas=w("shape",f,h,b.parent,
this._jsPlumb.instance,!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(this.canvas,["stroke"]),this.canvas._jsPlumb=l):(h.coordsize=1E3*f[2]+","+1E3*f[3],a(this.canvas,f),e(this.canvas,h));g(this.canvas,k,this,this._jsPlumb.instance)}}};jsPlumbUtil.extend(t,k,{setVisible:function(a){this.canvas&&(this.canvas.style.display=a?"block":"none");this.bgCanvas&&(this.bgCanvas.style.display=a?"block":"none")}});var l=window.VmlEndpoint=function(b){k.apply(this,arguments);this._jsPlumb.vml=
null;this.canvas=document.createElement("div");this.canvas.style.position="absolute";this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(b.cssClass?" "+b.cssClass:"");b._jsPlumb.appendElement(this.canvas,b.parent);this.paint=function(b,d){var k={},c=this._jsPlumb.vml;jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h);null==this._jsPlumb.vml?(k["class"]=this._jsPlumb.clazz,c=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],k,d,this.canvas,this._jsPlumb.instance),this.appendDisplayElement(c,
!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(c,["fill"])):(a(c,[0,0,this.w,this.h]),e(c,k));g(c,b,this)}};jsPlumbUtil.extend(l,k);jsPlumb.Segments.vml={SegmentRenderer:{getPath:function(a){return{Straight:function(a){a=a.params;return"m"+b(a.x1)+","+b(a.y1)+" l"+b(a.x2)+","+b(a.y2)+" e"},Bezier:function(a){a=a.params;return"m"+b(a.x1)+","+b(a.y1)+" c"+b(a.cp1x)+","+b(a.cp1y)+","+b(a.cp2x)+","+b(a.cp2y)+","+b(a.x2)+","+b(a.y2)+" e"},Arc:function(a){var e=a.params,d=Math.min(e.x1,
e.x2),c=(Math.max(e.x1,e.x2),Math.min(e.y1,e.y2)),g=(Math.max(e.y1,e.y2),a.anticlockwise?1:0);return(a.anticlockwise?"at ":"wa ")+" "+function(){if(e.loopback)return"0,0,"+b(2*e.r)+","+b(2*e.r);var f=[null,[function(){return[d,c]},function(){return[d-e.r,c-e.r]}],[function(){return[d-e.r,c]},function(){return[d,c-e.r]}],[function(){return[d-e.r,c-e.r]},function(){return[d,c]}],[function(){return[d,c-e.r]},function(){return[d-e.r,c]}]][a.segment][g]();return b(f[0])+","+b(f[1])+","+b(f[0]+2*e.r)+","+
b(f[1]+2*e.r)}()+","+b(e.x1)+","+b(e.y1)+","+b(e.x2)+","+b(e.y2)+" e"}}[a.type](a)}}};jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);l.apply(this,arguments);this.getVml=function(a,b,e,d,c){return w("oval",a,b,d,c)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Dot,l);jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);l.apply(this,arguments);this.getVml=function(a,b,e,d,c){return w("rect",a,b,d,c)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Rectangle,
l);jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.vml.Custom=jsPlumb.Overlays.Custom;var m=function(d,g){d.apply(this,g);k.apply(this,g);var l=this;this.canvas=null;this.isAppendedAtTopLevel=!0;this.paint=function(d,c){if(d.component.canvas&&c){var h={},f=d.d,k=d.component;d.strokeStyle&&(h.stroked="true",h.strokecolor=jsPlumbUtil.convertStyle(d.strokeStyle,!0));d.lineWidth&&
(h.strokeweight=d.lineWidth+"px");d.fillStyle&&(h.filled="true",h.fillcolor=d.fillStyle);var m=Math.min(f.hxy.x,f.tail[0].x,f.tail[1].x,f.cxy.x),n=Math.min(f.hxy.y,f.tail[0].y,f.tail[1].y,f.cxy.y),r=Math.max(f.hxy.x,f.tail[0].x,f.tail[1].x,f.cxy.x),q=Math.max(f.hxy.y,f.tail[0].y,f.tail[1].y,f.cxy.y),r=Math.abs(r-m),q=Math.abs(q-n),m=[m,n,r,q],f="m "+b(f.hxy.x)+","+b(f.hxy.y)+" l "+b(f.tail[0].x)+","+b(f.tail[0].y)+" "+b(f.cxy.x)+","+b(f.cxy.y)+" "+b(f.tail[1].x)+","+b(f.tail[1].y)+" x e";(h.path=
f,h.coordsize=1E3*k.w+","+1E3*k.h,m[0]=k.x,m[1]=k.y,m[2]=k.w,m[3]=k.h,null==l.canvas)?(h["class"]=(g&&1==g.length?g[0].cssClass||"":"")+" "+(k._jsPlumb.overlayClass||""),l.canvas=w("shape",m,h,k.canvas.parentNode,k._jsPlumb.instance,!0),k.appendDisplayElement(l.canvas,!0)):(a(l.canvas,m),e(l.canvas,h))}};this.cleanup=function(){null!=this.canvas&&this._jsPlumb.instance.removeElement(this.canvas)}};jsPlumbUtil.extend(m,[k,jsPlumb.Overlays.AbstractOverlay],{setVisible:function(a){this.canvas.style.display=
a?"block":"none"}});jsPlumb.Overlays.vml.Arrow=function(){m.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Arrow,[jsPlumb.Overlays.Arrow,m]);jsPlumb.Overlays.vml.PlainArrow=function(){m.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.PlainArrow,[jsPlumb.Overlays.PlainArrow,m]);jsPlumb.Overlays.vml.Diamond=function(){m.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Diamond,
[jsPlumb.Overlays.Diamond,m])})();
(function(d){var t=function(n){return"string"==typeof n?d("#"+n):d(n)};d.extend(jsPlumbInstance.prototype,{getDOMElement:function(d){return null==d?null:"string"==typeof d?document.getElementById(d):d.context||null!=d.length?d[0]:d},getElementObject:t,removeElement:function(d){t(d).remove()},doAnimate:function(d,q,e){d.animate(q,e)},getSelector:function(n,q){return 2==arguments.length?t(n).find(q):d(n)},destroyDraggable:function(n){d(n).data("draggable")&&d(n).draggable("destroy")},destroyDroppable:function(n){d(n).data("droppable")&&
d(n).droppable("destroy")},initDraggable:function(n,q,e){q=q||{};n=d(n);q.start=jsPlumbUtil.wrap(q.start,function(){d("body").addClass(this.dragSelectClass)},!1);q.stop=jsPlumbUtil.wrap(q.stop,function(){d("body").removeClass(this.dragSelectClass)});q.doNotRemoveHelper||(q.helper=null);"internal"==e&&(q.scope=q.scope||jsPlumb.Defaults.Scope);n.draggable(q)},initDroppable:function(n,q){q.scope=q.scope||jsPlumb.Defaults.Scope;d(n).droppable(q)},isAlreadyDraggable:function(n){return d(n).hasClass("ui-draggable")},
isDragSupported:function(n){return d(n).draggable},isDropSupported:function(n){return d(n).droppable},getDragObject:function(d){return d[1].helper||d[1].draggable},getDragScope:function(n){return d(n).draggable("option","scope")},getDropEvent:function(d){return d[0]},getDropScope:function(n){return d(n).droppable("option","scope")},getUIPosition:function(d,q,e){if(q=q||1,1==d.length)d={left:d[0].pageX,top:d[0].pageY};else{var t=d[1];d=t.position||t.absolutePosition;e||(t.position.left/=q,t.position.top/=
q)}return{left:d.left,top:d.top}},isDragFilterSupported:function(){return!0},setDragFilter:function(n,q){jsPlumb.isAlreadyDraggable(n)&&d(n).draggable("option","cancel",q)},setElementDraggable:function(n,q){d(n).draggable("option","disabled",!q)},setDragScope:function(n,q){d(n).draggable("option","scope",q)},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},animEvents:{step:"step",complete:"complete"},getOriginalEvent:function(d){return d.originalEvent||
d},trigger:function(d,q,e){jQuery._data(t(d)[0],"handle")(e)}});d(document).ready(jsPlumb.init)})(jQuery);!function(d,t,n){var q=d.L,e={version:"0.7.3"};"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e);e.noConflict=function(){return d.L=q,this};d.L=e;e.Util={extend:function(a){var b,e,d,l,m=Array.prototype.slice.call(arguments,1);e=0;for(d=m.length;d>e;e++)for(b in l=m[e]||{},l)l.hasOwnProperty(b)&&(a[b]=l[b]);return a},bind:function(a,b){var e=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,
e||arguments)}},stamp:function(){var a=0;return function(b){return b._leaflet_id=b._leaflet_id||++a,b._leaflet_id}}(),invokeEach:function(a,b,e){var d,l;if("object"==typeof a){l=Array.prototype.slice.call(arguments,3);for(d in a)b.apply(e,[d,a[d]].concat(l));return!0}return!1},limitExecByInterval:function(a,b,e){var d,l;return function r(){var n=arguments;return d?void(l=!0):(d=!0,setTimeout(function(){d=!1;l&&(r.apply(e,n),l=!1)},b),void a.apply(e,n))}},falseFn:function(){return!1},formatNum:function(a,
b){var e=Math.pow(10,b||5);return Math.round(a*e)/e},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return e.Util.trim(a).split(/\s+/)},setOptions:function(a,b){return a.options=e.extend({},a.options,b),a.options},getParamString:function(a,b,e){var d=[],l;for(l in a)d.push(encodeURIComponent(e?l.toUpperCase():l)+"="+encodeURIComponent(a[l]));return(b&&-1!==b.indexOf("?")?"&":"?")+d.join("&")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,
e){var d=b[e];if(d===n)throw Error("No value provided for variable "+a);return"function"==typeof d&&(d=d(b)),d})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){function a(a){var b,e,g=["webkit","moz","o","ms"];for(b=0;b<g.length&&!e;b++)e=d[g[b]+a];return e}function b(a){var b=+new Date,e=Math.max(0,16-(b-g));return g=b+e,d.setTimeout(a,e)}var g=0,k=d.requestAnimationFrame||
a("RequestAnimationFrame")||b,l=d.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){d.clearTimeout(a)};e.Util.requestAnimFrame=function(a,g,l,n){return a=e.bind(a,g),l&&k===b?void a():k.call(d,a,n)};e.Util.cancelAnimFrame=function(a){a&&l.call(d,a)}})();e.extend=e.Util.extend;e.bind=e.Util.bind;e.stamp=e.Util.stamp;e.setOptions=e.Util.setOptions;e.Class=function(){};e.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,
arguments);this._initHooks&&this.callInitHooks()},d=function(){};d.prototype=this.prototype;var k=new d;k.constructor=b;b.prototype=k;for(var l in this)this.hasOwnProperty(l)&&"prototype"!==l&&(b[l]=this[l]);a.statics&&(e.extend(b,a.statics),delete a.statics);a.includes&&(e.Util.extend.apply(null,[k].concat(a.includes)),delete a.includes);a.options&&k.options&&(a.options=e.extend({},k.options,a.options));e.extend(k,a);k._initHooks=[];var m=this;return b.__super__=m.prototype,k.callInitHooks=function(){if(!this._initHooksCalled){m.prototype.callInitHooks&&
m.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=k._initHooks.length;b>a;a++)k._initHooks[a].call(this)}},b};e.Class.include=function(a){e.extend(this.prototype,a)};e.Class.mergeOptions=function(a){e.extend(this.prototype.options,a)};e.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"==typeof a?a:function(){this[a].apply(this,b)})};e.Mixin={};e.Mixin.Events=
{addEventListener:function(a,b,d){if(e.Util.invokeEach(a,this.addEventListener,this,b,d))return this;var k,l,m,n,q,t,v,c=this._leaflet_events=this._leaflet_events||{},h=d&&d!==this&&e.stamp(d);a=e.Util.splitWords(a);k=0;for(l=a.length;l>k;k++)m={action:b,context:d||this},n=a[k],h?(q=n+"_idx",t=q+"_len",v=c[q]=c[q]||{},v[h]||(v[h]=[],c[t]=(c[t]||0)+1),v[h].push(m)):(c[n]=c[n]||[],c[n].push(m));return this},hasEventListeners:function(a){var b=this._leaflet_events;return!!b&&(a in b&&0<b[a].length||
a+"_idx"in b&&0<b[a+"_idx_len"])},removeEventListener:function(a,b,d){if(!this._leaflet_events)return this;if(!a)return this.clearAllEventListeners();if(e.Util.invokeEach(a,this.removeEventListener,this,b,d))return this;var k,l,m,n,q,t,v,c,h,f=this._leaflet_events,u=d&&d!==this&&e.stamp(d);a=e.Util.splitWords(a);k=0;for(l=a.length;l>k;k++)if(m=a[k],t=m+"_idx",v=t+"_len",c=f[t],b){if(n=u&&c?c[u]:f[m]){for(q=n.length-1;0<=q;q--)n[q].action!==b||d&&n[q].context!==d||(h=n.splice(q,1),h[0].action=e.Util.falseFn);
d&&c&&0===n.length&&(delete c[u],f[v]--)}}else delete f[m],delete f[t],delete f[v];return this},clearAllEventListeners:function(){return delete this._leaflet_events,this},fireEvent:function(a,b){if(!this.hasEventListeners(a))return this;var d,k,l,m,n,q=e.Util.extend({},b,{type:a,target:this});m=this._leaflet_events;if(m[a])for(d=m[a].slice(),k=0,l=d.length;l>k;k++)d[k].action.call(d[k].context,q);m=m[a+"_idx"];for(n in m)if(d=m[n].slice())for(k=0,l=d.length;l>k;k++)d[k].action.call(d[k].context,q);
return this},addOneTimeEventListener:function(a,b,d){if(e.Util.invokeEach(a,this.addOneTimeEventListener,this,b,d))return this;var k=e.bind(function(){this.removeEventListener(a,b,d).removeEventListener(a,k,d)},this);return this.addEventListener(a,b,d).addEventListener(a,k,d)}};e.Mixin.Events.on=e.Mixin.Events.addEventListener;e.Mixin.Events.off=e.Mixin.Events.removeEventListener;e.Mixin.Events.once=e.Mixin.Events.addOneTimeEventListener;e.Mixin.Events.fire=e.Mixin.Events.fireEvent;(function(){var a=
"ActiveXObject"in d,b=a&&!t.addEventListener,g=navigator.userAgent.toLowerCase(),k=-1!==g.indexOf("webkit"),l=-1!==g.indexOf("chrome"),m=-1!==g.indexOf("phantom"),q=-1!==g.indexOf("android"),y=-1!==g.search("android [23]"),g=-1!==g.indexOf("gecko"),z=typeof orientation!=n+"",v=d.navigator&&d.navigator.msPointerEnabled&&d.navigator.msMaxTouchPoints&&!d.PointerEvent,c=d.PointerEvent&&d.navigator.pointerEnabled&&d.navigator.maxTouchPoints||v,h="devicePixelRatio"in d&&1<d.devicePixelRatio||"matchMedia"in
d&&d.matchMedia("(min-resolution:144dpi)")&&d.matchMedia("(min-resolution:144dpi)").matches,f=t.documentElement,u=a&&"transition"in f.style,x="WebKitCSSMatrix"in d&&"m11"in new d.WebKitCSSMatrix&&!y,w="MozPerspective"in f.style,V="OTransition"in f.style,H=!d.L_DISABLE_3D&&(u||x||w||V)&&!m;if(m=!d.L_NO_TOUCH&&!m)c||"ontouchstart"in f?m=!0:(m=t.createElement("div"),f=!1,m=m.setAttribute?(m.setAttribute("ontouchstart","return;"),"function"==typeof m.ontouchstart&&(f=!0),m.removeAttribute("ontouchstart"),
f):!1);e.Browser={ie:a,ielt9:b,webkit:k,gecko:g&&!k&&!d.opera&&!a,android:q,android23:y,chrome:l,ie3d:u,webkit3d:x,gecko3d:w,opera3d:V,any3d:H,mobile:z,mobileWebkit:z&&k,mobileWebkit3d:z&&x,mobileOpera:z&&d.opera,touch:m,msPointer:v,pointer:c,retina:h}})();e.Point=function(a,b,e){this.x=e?Math.round(a):a;this.y=e?Math.round(b):b};e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},add:function(a){return this.clone()._add(e.point(a))},_add:function(a){return this.x+=a.x,this.y+=
a.y,this},subtract:function(a){return this.clone()._subtract(e.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},
_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(a){a=e.point(a);var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){return a=e.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=e.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+e.Util.formatNum(this.x)+", "+e.Util.formatNum(this.y)+")"}};e.point=function(a,b,d){return a instanceof e.Point?a:e.Util.isArray(a)?
new e.Point(a[0],a[1]):a===n||null===a?a:new e.Point(a,b,d)};e.Bounds=function(a,b){if(a)for(var e=b?[a,b]:a,d=0,l=e.length;l>d;d++)this.extend(e[d])};e.Bounds.prototype={extend:function(a){return a=e.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new e.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/
2,a)},getBottomLeft:function(){return new e.Point(this.min.x,this.max.y)},getTopRight:function(){return new e.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,d;return a="number"==typeof a[0]||a instanceof e.Point?e.point(a):e.bounds(a),a instanceof e.Bounds?(b=a.min,d=a.max):b=d=a,b.x>=this.min.x&&d.x<=this.max.x&&b.y>=this.min.y&&d.y<=this.max.y},intersects:function(a){a=e.bounds(a);var b=this.min,d=this.max,k=a.min;a=a.max;var l=a.y>=
b.y&&k.y<=d.y;return a.x>=b.x&&k.x<=d.x&&l},isValid:function(){return!(!this.min||!this.max)}};e.bounds=function(a,b){return!a||a instanceof e.Bounds?a:new e.Bounds(a,b)};e.Transformation=function(a,b,e,d){this._a=a;this._b=b;this._c=e;this._d=d};e.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new e.Point((a.x/b-this._b)/
this._a,(a.y/b-this._d)/this._c)}};e.DomUtil={get:function(a){return"string"==typeof a?t.getElementById(a):a},getStyle:function(a,b){var e=a.style[b];(!e&&a.currentStyle&&(e=a.currentStyle[b]),e&&"auto"!==e||!t.defaultView)||(e=(e=t.defaultView.getComputedStyle(a,null))?e[b]:null);return"auto"===e?null:e},getViewportOffset:function(a){var b,d=0,k=0,l=a,m=t.body,n=t.documentElement;do{if(d+=l.offsetTop||0,k+=l.offsetLeft||0,d+=parseInt(e.DomUtil.getStyle(l,"borderTopWidth"),10)||0,k+=parseInt(e.DomUtil.getStyle(l,
"borderLeftWidth"),10)||0,b=e.DomUtil.getStyle(l,"position"),l.offsetParent===m&&"absolute"===b)break;if("fixed"===b){d+=m.scrollTop||n.scrollTop||0;k+=m.scrollLeft||n.scrollLeft||0;break}if("relative"===b&&!l.offsetLeft){b=e.DomUtil.getStyle(l,"width");var q=e.DomUtil.getStyle(l,"max-width"),z=l.getBoundingClientRect();"none"===b&&"none"===q||(k+=z.left+l.clientLeft);d+=z.top+(m.scrollTop||n.scrollTop||0);break}l=l.offsetParent}while(l);l=a;do{if(l===m)break;d-=l.scrollTop||0;k-=l.scrollLeft||0;
l=l.parentNode}while(l);return new e.Point(k,d)},documentIsLtr:function(){return e.DomUtil._docIsLtrCached||(e.DomUtil._docIsLtrCached=!0,e.DomUtil._docIsLtr="ltr"===e.DomUtil.getStyle(t.body,"direction")),e.DomUtil._docIsLtr},create:function(a,b,e){a=t.createElement(a);return a.className=b,e&&e.appendChild(a),a},hasClass:function(a,b){if(a.classList!==n)return a.classList.contains(b);var d=e.DomUtil._getClass(a);return 0<d.length&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(d)},addClass:function(a,
b){if(a.classList!==n)for(var d=e.Util.splitWords(b),k=0,l=d.length;l>k;k++)a.classList.add(d[k]);else e.DomUtil.hasClass(a,b)||(d=e.DomUtil._getClass(a),e.DomUtil._setClass(a,(d?d+" ":"")+b))},removeClass:function(a,b){a.classList!==n?a.classList.remove(b):e.DomUtil._setClass(a,e.Util.trim((" "+e.DomUtil._getClass(a)+" ").replace(" "+b+" "," ")))},_setClass:function(a,b){a.className.baseVal===n?a.className=b:a.className.baseVal=b},_getClass:function(a){return a.className.baseVal===n?a.className:
a.className.baseVal},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var e=!1;try{e=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){if(1===b)return}b=Math.round(100*b);e?(e.Enabled=100!==b,e.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"}},testProp:function(a){for(var b=t.documentElement.style,e=0;e<a.length;e++)if(a[e]in b)return a[e];return!1},getTranslateString:function(a){var b=e.Browser.webkit3d;return"translate"+
(b?"3d":"")+"("+a.x+"px,"+a.y+"px"+((b?",0":"")+")")},getScaleString:function(a,b){return e.DomUtil.getTranslateString(b.add(b.multiplyBy(-1*a)))+(" scale("+a+") ")},setPosition:function(a,b,d){a._leaflet_pos=b;!d&&e.Browser.any3d?a.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(b):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}};e.DomUtil.TRANSFORM=e.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);e.DomUtil.TRANSITION=
e.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);e.DomUtil.TRANSITION_END="webkitTransition"===e.DomUtil.TRANSITION||"OTransition"===e.DomUtil.TRANSITION?e.DomUtil.TRANSITION+"End":"transitionend";(function(){if("onselectstart"in t)e.extend(e.DomUtil,{disableTextSelection:function(){e.DomEvent.on(d,"selectstart",e.DomEvent.preventDefault)},enableTextSelection:function(){e.DomEvent.off(d,"selectstart",e.DomEvent.preventDefault)}});else{var a=e.DomUtil.testProp(["userSelect",
"WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.extend(e.DomUtil,{disableTextSelection:function(){if(a){var b=t.documentElement.style;this._userSelect=b[a];b[a]="none"}},enableTextSelection:function(){a&&(t.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}e.extend(e.DomUtil,{disableImageDrag:function(){e.DomEvent.on(d,"dragstart",e.DomEvent.preventDefault)},enableImageDrag:function(){e.DomEvent.off(d,"dragstart",e.DomEvent.preventDefault)}})})();e.LatLng=function(a,
b,e){if(a=parseFloat(a),b=parseFloat(b),isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=a;this.lng=b;e!==n&&(this.alt=parseFloat(e))};e.extend(e.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1E-9});e.LatLng.prototype={equals:function(a){if(!a)return!1;a=e.latLng(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=e.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+e.Util.formatNum(this.lat,a)+", "+e.Util.formatNum(this.lng,
a)+")"},distanceTo:function(a){a=e.latLng(a);var b=e.LatLng.DEG_TO_RAD,d=(a.lng-this.lng)*b,k=this.lat*b,l=a.lat*b;a=Math.sin((a.lat-this.lat)*b/2);d=Math.sin(d/2);k=a*a+d*d*Math.cos(k)*Math.cos(l);return 12756274*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))},wrap:function(a,b){var d=this.lng;return a=a||-180,b=b||180,d=(d+b)%(b-a)+(a>d||d===b?b:a),new e.LatLng(this.lat,d)}};e.latLng=function(a,b){return a instanceof e.LatLng?a:e.Util.isArray(a)?"number"==typeof a[0]||"string"==typeof a[0]?new e.LatLng(a[0],
a[1],a[2]):null:a===n||null===a?a:"object"==typeof a&&"lat"in a?new e.LatLng(a.lat,"lng"in a?a.lng:a.lon):b===n?null:new e.LatLng(a,b)};e.LatLngBounds=function(a,b){if(a)for(var e=b?[a,b]:a,d=0,l=e.length;l>d;d++)this.extend(e[d])};e.LatLngBounds.prototype={extend:function(a){if(!a)return this;var b=e.latLng(a);return a=null!==b?b:e.latLngBounds(a),a instanceof e.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),
this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new e.LatLng(a.lat,a.lng),this._northEast=new e.LatLng(a.lat,a.lng)):a instanceof e.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(a){var b=this._southWest,d=this._northEast,k=Math.abs(b.lat-d.lat)*a;a*=Math.abs(b.lng-d.lng);return new e.LatLngBounds(new e.LatLng(b.lat-k,b.lng-a),new e.LatLng(d.lat+k,d.lng+a))},getCenter:function(){return new e.LatLng((this._southWest.lat+
this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new e.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new e.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},
contains:function(a){a="number"==typeof a[0]||a instanceof e.LatLng?e.latLng(a):e.latLngBounds(a);var b,d,k=this._southWest,l=this._northEast;return a instanceof e.LatLngBounds?(b=a.getSouthWest(),d=a.getNorthEast()):b=d=a,b.lat>=k.lat&&d.lat<=l.lat&&b.lng>=k.lng&&d.lng<=l.lng},intersects:function(a){a=e.latLngBounds(a);var b=this._southWest,d=this._northEast,k=a.getSouthWest();a=a.getNorthEast();var l=a.lng>=b.lng&&k.lng<=d.lng;return a.lat>=b.lat&&k.lat<=d.lat&&l},toBBoxString:function(){return[this.getWest(),
this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){return a?(a=e.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}};e.latLngBounds=function(a,b){return!a||a instanceof e.LatLngBounds?a:new e.LatLngBounds(a,b)};e.Projection={};e.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var b=e.LatLng.DEG_TO_RAD,d=this.MAX_LATITUDE,d=Math.max(Math.min(d,
a.lat),-d);a=a.lng*b;b*=d;return b=Math.log(Math.tan(Math.PI/4+b/2)),new e.Point(a,b)},unproject:function(a){var b=e.LatLng.RAD_TO_DEG,d=a.x*b;a=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*b;return new e.LatLng(a,d)}};e.Projection.LonLat={project:function(a){return new e.Point(a.lng,a.lat)},unproject:function(a){return new e.LatLng(a.y,a.x)}};e.CRS={latLngToPoint:function(a,b){var e=this.projection.project(a),d=this.scale(b);return this.transformation._transform(e,d)},pointToLatLng:function(a,b){var e=
this.scale(b),e=this.transformation.untransform(a,e);return this.projection.unproject(e)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){a=this.scale(a);return e.point(a,a)}};e.CRS.Simple=e.extend({},e.CRS,{projection:e.Projection.LonLat,transformation:new e.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});e.CRS.EPSG3857=e.extend({},e.CRS,{code:"EPSG:3857",projection:e.Projection.SphericalMercator,transformation:new e.Transformation(.5/
Math.PI,.5,-.5/Math.PI,.5),project:function(a){return this.projection.project(a).multiplyBy(6378137)}});e.CRS.EPSG900913=e.extend({},e.CRS.EPSG3857,{code:"EPSG:900913"});e.CRS.EPSG4326=e.extend({},e.CRS,{code:"EPSG:4326",projection:e.Projection.LonLat,transformation:new e.Transformation(1/360,.5,-1/360,.5)});e.Map=e.Class.extend({includes:e.Mixin.Events,options:{crs:e.CRS.EPSG3857,fadeAnimation:e.DomUtil.TRANSITION&&!e.Browser.android23,trackResize:!0,markerZoomAnimation:e.DomUtil.TRANSITION&&e.Browser.any3d},
initialize:function(a,b){b=e.setOptions(this,b);this._initContainer(a);this._initLayout();this._onResize=e.bind(this._onResize,this);this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);b.center&&b.zoom!==n&&this.setView(e.latLng(b.center),b.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(b.layers)},setView:function(a,b){return b=b===n?this.getZoom():b,this._resetView(e.latLng(a),this._limitZoom(b)),this},
setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,d){var k=this.getZoomScale(b),l=this.getSize().divideBy(2);a=(a instanceof e.Point?a:this.latLngToContainerPoint(a)).subtract(l).multiplyBy(1-1/k);l=this.containerPointToLatLng(l.add(a));return this.setView(l,b,{zoom:d})},fitBounds:function(a,
b){b=b||{};a=a.getBounds?a.getBounds():e.latLngBounds(a);var d=e.point(b.paddingTopLeft||b.padding||[0,0]),k=e.point(b.paddingBottomRight||b.padding||[0,0]),l=this.getBoundsZoom(a,!1,d.add(k)),d=k.subtract(d).divideBy(2),k=this.project(a.getSouthWest(),l),m=this.project(a.getNorthEast(),l),d=this.unproject(k.add(m).divideBy(2).add(d),l);return l=b&&b.maxZoom?Math.min(b.maxZoom,l):l,this.setView(d,l,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,
this._zoom,{pan:b})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(e.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=e.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,b){var e=this.getCenter(),d=this._limitCenter(e,this._zoom,a);return e.equals(d)?this:this.panTo(d,b)},addLayer:function(a){var b=
e.stamp(a);return this._layers[b]?this:(this._layers[b]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[b]=a,this._updateZoomLevels()),this.options.zoomAnimation&&e.TileLayer&&a instanceof e.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var b=e.stamp(a);return this._layers[b]?(this._loaded&&a.onRemove(this),delete this._layers[b],this._loaded&&
this.fire("layerremove",{layer:a}),this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels()),this.options.zoomAnimation&&e.TileLayer&&a instanceof e.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(a){return a?e.stamp(a)in this._layers:!1},eachLayer:function(a,b){for(var e in this._layers)a.call(b,this._layers[e]);return this},invalidateSize:function(a){if(!this._loaded)return this;a=e.extend({animate:!1,
pan:!0},!0===a?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var d=this.getSize(),k=b.divideBy(2).round(),l=d.divideBy(2).round(),k=k.subtract(l);return k.x||k.y?(a.animate&&a.pan?this.panBy(k):(a.pan&&this._rawPanBy(k),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(e.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:d})):this},addHandler:function(a,b){if(!b)return this;
var e=this[a]=new b(this);return this._handlers.push(e),this.options[a]&&e.enable(),this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=n}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},
getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new e.LatLngBounds(b,a)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom===n?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,d){a=e.latLngBounds(a);var k,l=this.getMinZoom()-(b?1:0),m=this.getMaxZoom(),
n=this.getSize(),q=a.getNorthWest();a=a.getSouthEast();k=!0;d=e.point(d||[0,0]);do l++,k=this.project(a,l).subtract(this.project(q,l)).add(d),k=b?k.x<n.x||k.y<n.y:n.contains(k);while(k&&m>=l);return k&&b?null:b?l:l-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new e.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new e.Bounds(a,a.add(this.getSize()))},
getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,b){return b=b===n?this._zoom:b,this.options.crs.latLngToPoint(e.latLng(a),b)},unproject:function(a,b){return b=b===n?this._zoom:b,this.options.crs.pointToLatLng(e.point(a),
b)},layerPointToLatLng:function(a){a=e.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(e.latLng(a))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return e.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return e.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(e.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(e.latLng(a)))},
mouseEventToContainerPoint:function(a){return e.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=this._container=e.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet)throw Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=
this._container;e.DomUtil.addClass(a,"leaflet-container"+(e.Browser.touch?" leaflet-touch":"")+(e.Browser.retina?" leaflet-retina":"")+(e.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var b=e.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",
this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");this.options.markerZoomAnimation||(e.DomUtil.addClass(a.markerPane," leaflet-zoom-hide"),e.DomUtil.addClass(a.shadowPane," leaflet-zoom-hide"),
e.DomUtil.addClass(a.popupPane," leaflet-zoom-hide"))},_createPane:function(a,b){return e.DomUtil.create("div",a,b||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?e.Util.isArray(a)?a:[a]:[];for(var b=0,d=a.length;d>b;b++)this.addLayer(a[b])},_resetView:function(a,b,d,k){var l=this._zoom!==b;k||(this.fire("movestart"),l&&this.fire("zoomstart"));this._zoom=b;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);
d?this._initialTopLeftPoint._add(this._getMapPanePos()):e.DomUtil.setPosition(this._mapPane,new e.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;a=!this._loaded;this._loaded=!0;this.fire("viewreset",{hard:!d});a&&(this.fire("load"),this.eachLayer(this._layerAdd,this));this.fire("move");(l||k)&&this.fire("zoomend");this.fire("moveend",{hard:!d})},_rawPanBy:function(a){e.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},
_updateZoomLevels:function(){var a,b=1/0,e=-1/0,d=this._getZoomSpan();for(a in this._zoomBoundLayers){var l=this._zoomBoundLayers[a];isNaN(l.options.minZoom)||(b=Math.min(b,l.options.minZoom));isNaN(l.options.maxZoom)||(e=Math.max(e,l.options.maxZoom))}a===n?this._layersMaxZoom=this._layersMinZoom=n:(this._layersMaxZoom=e,this._layersMinZoom=b);d!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");
},_initEvents:function(a){if(e.DomEvent){a=a||"on";e.DomEvent[a](this._container,"click",this._onMouseClick,this);var b,g,k="dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu".split(" ");b=0;for(g=k.length;g>b;b++)e.DomEvent[a](this._container,k[b],this._fireMouseEvent,this);this.options.trackResize&&e.DomEvent[a](d,"resize",this._onResize,this)}},_onResize:function(){e.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=e.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},
this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||e.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!e.DomEvent._skipped(a)){var b=a.type;if(b="mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,this.hasEventListeners(b)){"contextmenu"===b&&e.DomEvent.preventDefault(a);var d=this.mouseEventToContainerPoint(a),k=this.containerPointToLayerPoint(d),
l=this.layerPointToLatLng(k);this.fire(b,{latlng:l,layerPoint:k,containerPoint:d,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--;this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,b=this._handlers.length;b>a;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,this):this.on("load",a,b),this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return e.DomUtil.getPosition(this._mapPane)},
_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var e=this.getSize()._divideBy(2);return this.project(a,b)._subtract(e)._round()},_latLngToNewLayerPoint:function(a,b,e){e=this._getNewTopLeftPoint(e,b).add(this._getMapPanePos());return this.project(a,b)._subtract(e)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},
_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,d){if(!d)return a;a=this.project(a,b);var k=this.getSize().divideBy(2),k=new e.Bounds(a.subtract(k),a.add(k));d=this._getBoundsOffset(k,d,b);return this.unproject(a.add(d),b)},_limitOffset:function(a,b){if(!b)return a;var d=this.getPixelBounds(),d=new e.Bounds(d.min.add(a),d.max.add(a));return a.add(this._getBoundsOffset(d,b))},_getBoundsOffset:function(a,b,d){var k=this.project(b.getNorthWest(),
d).subtract(a.min);b=this.project(b.getSouthEast(),d).subtract(a.max);a=this._rebound(k.x,-b.x);k=this._rebound(k.y,-b.y);return new e.Point(a,k)},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),e=this.getMaxZoom();return Math.max(b,Math.min(e,a))}});e.map=function(a,b){return new e.Map(a,b)};e.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var b=
e.LatLng.DEG_TO_RAD,d=this.MAX_LATITUDE,k=Math.max(Math.min(d,a.lat),-d),d=this.R_MAJOR;a=a.lng*b*d;var b=k*b,k=this.R_MINOR/d,k=Math.sqrt(1-k*k),l=k*Math.sin(b),l=Math.pow((1-l)/(1+l),.5*k),k=Math.tan(.5*(.5*Math.PI-b))/l;return b=-d*Math.log(k),new e.Point(a,b)},unproject:function(a){var b,d=e.LatLng.RAD_TO_DEG,k=this.R_MAJOR,l=a.x*d/k,m=this.R_MINOR/k,m=Math.sqrt(1-m*m);a=Math.exp(-a.y/k);var k=Math.PI/2-2*Math.atan(a),n=15;for(b=.1;1E-7<Math.abs(b)&&0<--n;)b=m*Math.sin(k),b=Math.PI/2-2*Math.atan(a*
Math.pow((1-b)/(1+b),.5*m))-k,k+=b;return new e.LatLng(k*d,l)}};e.CRS.EPSG3395=e.extend({},e.CRS,{code:"EPSG:3395",projection:e.Projection.Mercator,transformation:function(){var a=.5/(Math.PI*e.Projection.Mercator.R_MAJOR);return new e.Transformation(a,.5,-a,.5)}()});e.TileLayer=e.Class.extend({includes:e.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:e.Browser.mobile,updateWhenIdle:e.Browser.mobile},
initialize:function(a,b){b=e.setOptions(this,b);b.detectRetina&&e.Browser.retina&&0<b.maxZoom&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,0<b.minZoom&&b.minZoom--,this.options.maxZoom--);b.bounds&&(b.bounds=e.latLngBounds(b.bounds));this._url=a;var d=this.options.subdomains;"string"==typeof d&&(this.options.subdomains=d.split(""))},onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();a.on({viewreset:this._reset,moveend:this._update},this);this._animated&&a.on({zoomanim:this._animateZoom,
zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||(this._limitedUpdate=e.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this));this._reset();this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container);a.off({viewreset:this._reset,moveend:this._update},this);this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||a.off("move",
this._limitedUpdate,this);this._map=this._container=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=
a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){var e,d,l,m=a.children,n=-b(1/0,-1/0);d=0;for(l=m.length;l>d;d++)m[d]!==this._container&&
(e=parseInt(m[d].style.zIndex,10),isNaN(e)||(n=b(n,e)));this.options.zIndex=this._container.style.zIndex=(isFinite(n)?n:0)+b(1,-1)},_updateOpacity:function(){var a,b=this._tiles;if(e.Browser.ielt9)for(a in b)e.DomUtil.setOpacity(b[a],this.options.opacity);else e.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;this._container||((this._container=e.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated)?(this._bgBuffer=
e.DomUtil.create("div","leaflet-tile-container",this._container),this._tileContainer=e.DomUtil.create("div","leaflet-tile-container",this._container)):this._tileContainer=this._container,a.appendChild(this._container),1>this.options.opacity&&this._updateOpacity())},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&a&&a.hard&&this._clearBgBuffer();
this._initContainer()},_getTileSize:function(){var a=this._map,b=a.getZoom()+this.options.zoomOffset,e=this.options.maxNativeZoom,d=this.options.tileSize;return e&&b>e&&(d=Math.round(a.getZoomScale(b)/a.getZoomScale(e)*d)),d},_update:function(){if(this._map){var a=this._map,b=a.getPixelBounds(),a=a.getZoom(),d=this._getTileSize();a>this.options.maxZoom||a<this.options.minZoom||(b=e.bounds(b.min.divideBy(d)._floor(),b.max.divideBy(d)._floor()),this._addTilesFromCenterOut(b),(this.options.unloadInvisibleTiles||
this.options.reuseTiles)&&this._removeOtherTiles(b))}},_addTilesFromCenterOut:function(a){var b,d,k,l=[],m=a.getCenter();for(b=a.min.y;b<=a.max.y;b++)for(d=a.min.x;d<=a.max.x;d++)k=new e.Point(d,b),this._tileShouldBeLoaded(k)&&l.push(k);a=l.length;if(0!==a){l.sort(function(a,b){return a.distanceTo(m)-b.distanceTo(m)});b=t.createDocumentFragment();this._tilesToLoad||this.fire("loading");this._tilesToLoad+=a;for(d=0;a>d;d++)this._addTile(l[d],b);this._tileContainer.appendChild(b)}},_tileShouldBeLoaded:function(a){if(a.x+
":"+a.y in this._tiles)return!1;var b=this.options;if(!b.continuousWorld){var e=this._getWrapTileNum();if(b.noWrap&&(0>a.x||a.x>=e.x)||0>a.y||a.y>=e.y)return!1}return b.bounds&&(e=b.tileSize,a=a.multiplyBy(e),e=a.add([e,e]),a=this._map.unproject(a),e=this._map.unproject(e),b.continuousWorld||b.noWrap||(a=a.wrap(),e=e.wrap()),!b.bounds.intersects([a,e]))?!1:!0},_removeOtherTiles:function(a){var b,e,d;for(d in this._tiles)b=d.split(":"),e=parseInt(b[0],10),b=parseInt(b[1],10),(e<a.min.x||e>a.max.x||
b<a.min.y||b>a.max.y)&&this._removeTile(d)},_removeTile:function(a){var b=this._tiles[a];this.fire("tileunload",{tile:b,url:b.src});this.options.reuseTiles?(e.DomUtil.removeClass(b,"leaflet-tile-loaded"),this._unusedTiles.push(b)):b.parentNode===this._tileContainer&&this._tileContainer.removeChild(b);e.Browser.android||(b.onload=null,b.src=e.Util.emptyImageUrl);delete this._tiles[a]},_addTile:function(a,b){var d=this._getTilePos(a),k=this._getTile();e.DomUtil.setPosition(k,d,e.Browser.chrome);this._tiles[a.x+
":"+a.y]=k;this._loadTile(k,a);k.parentNode!==this._tileContainer&&b.appendChild(k)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();return a.zoomReverse&&(b=a.maxZoom-b),b+=a.zoomOffset,a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getTilePos:function(a){var b=this._map.getPixelOrigin(),e=this._getTileSize();return a.multiplyBy(e).subtract(b)},getTileUrl:function(a){return e.Util.template(this._url,e.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this._getTileSize())._floor()},
_adjustTilePoint:function(a){var b=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%b.x+b.x)%b.x);this.options.tms&&(a.y=b.y-a.y-1);a.z=this._getZoomForUrl()},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_getTile:function(){if(this.options.reuseTiles&&0<this._unusedTiles.length){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=
e.DomUtil.create("img","leaflet-tile");return a.style.width=a.style.height=this._getTileSize()+"px",a.galleryimg="no",a.onselectstart=a.onmousemove=e.Util.falseFn,e.Browser.ielt9&&this.options.opacity!==n&&e.DomUtil.setOpacity(a,this.options.opacity),e.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden"),a},_loadTile:function(a,b){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(b);a.src=this.getTileUrl(b);this.fire("tileloadstart",{tile:a,url:a.src})},
_tileLoaded:function(){this._tilesToLoad--;this._animated&&e.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated");this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(e.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==e.Util.emptyImageUrl&&(e.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src}));a._tileLoaded()},_tileOnError:function(){var a=
this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b);a._tileLoaded()}});e.tileLayer=function(a,b){return new e.TileLayer(a,b)};e.TileLayer.WMS=e.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,b){this._url=a;var d=e.extend({},this.defaultWmsParams),k=b.tileSize||this.options.tileSize;d.width=d.height=b.detectRetina&&e.Browser.retina?2*k:
k;for(var l in b)this.options.hasOwnProperty(l)||"crs"===l||(d[l]=b[l]);this.wmsParams=d;e.setOptions(this,b)},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;e.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var b=this._map,d=this.options.tileSize,k=a.multiplyBy(d),d=k.add([d,d]),k=this._crs.project(b.unproject(k,a.z)),b=this._crs.project(b.unproject(d,a.z)),
b=1.3<=this._wmsVersion&&this._crs===e.CRS.EPSG4326?[b.y,k.x,k.y,b.x].join():[k.x,b.y,b.x,k.y].join();a=e.Util.template(this._url,{s:this._getSubdomain(a)});return a+e.Util.getParamString(this.wmsParams,a,!0)+"&BBOX="+b},setParams:function(a,b){return e.extend(this.wmsParams,a),b||this.redraw(),this}});e.tileLayer.wms=function(a,b){return new e.TileLayer.WMS(a,b)};e.TileLayer.Canvas=e.TileLayer.extend({options:{async:!1},initialize:function(a){e.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),
this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=e.DomUtil.create("canvas","leaflet-tile");return a.width=a.height=this.options.tileSize,a.onselectstart=a.onmousemove=e.Util.falseFn,a},_loadTile:function(a,b){a._layer=this;a._tilePoint=b;this._redrawTile(a);this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});
e.tileLayer.canvas=function(a){return new e.TileLayer.Canvas(a)};e.ImageOverlay=e.Class.extend({includes:e.Mixin.Events,options:{opacity:1},initialize:function(a,b,d){this._url=a;this._bounds=e.latLngBounds(b);e.setOptions(this,d)},onAdd:function(a){this._map=a;this._image||this._initImage();a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);a.options.zoomAnimation&&e.Browser.any3d&&a.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);
a.off("viewreset",this._reset,this);a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},setUrl:function(a){this._url=a;this._image.src=
this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=e.DomUtil.create("img","leaflet-image-layer");this._map.options.zoomAnimation&&e.Browser.any3d?e.DomUtil.addClass(this._image,"leaflet-zoom-animated"):e.DomUtil.addClass(this._image,"leaflet-zoom-hide");this._updateOpacity();e.extend(this._image,{galleryimg:"no",onselectstart:e.Util.falseFn,onmousemove:e.Util.falseFn,onload:e.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var b=
this._map,d=this._image,k=b.getZoomScale(a.zoom),l=this._bounds.getNorthWest(),m=this._bounds.getSouthEast(),l=b._latLngToNewLayerPoint(l,a.zoom,a.center);a=b._latLngToNewLayerPoint(m,a.zoom,a.center)._subtract(l);a=l._add(a._multiplyBy(.5*(1-1/k)));d.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(a)+" scale("+k+") "},_reset:function(){var a=this._image,b=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),d=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(b);e.DomUtil.setPosition(a,
b);a.style.width=d.x+"px";a.style.height=d.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){e.DomUtil.setOpacity(this._image,this.options.opacity)}});e.imageOverlay=function(a,b,d){return new e.ImageOverlay(a,b,d)};e.Icon=e.Class.extend({options:{className:""},initialize:function(a){e.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var e=this._getIconUrl(a);
if(!e){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}var d;return d=b&&"IMG"===b.tagName?this._createImg(e,b):this._createImg(e),this._setIconStyles(d,a),d},_setIconStyles:function(a,b){var d,k=this.options,l=e.point(k[b+"Size"]);d=e.point("shadow"===b?k.shadowAnchor||k.iconAnchor:k.iconAnchor);!d&&l&&(d=l.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+k.className;d&&(a.style.marginLeft=-d.x+"px",a.style.marginTop=-d.y+"px");l&&(a.style.width=l.x+"px",
a.style.height=l.y+"px")},_createImg:function(a,b){return b=b||t.createElement("img"),b.src=a,b},_getIconUrl:function(a){return e.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}});e.icon=function(a){return new e.Icon(a)};e.Icon.Default=e.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];e.Browser.retina&&"icon"===a&&(a+="-2x");
b=e.Icon.Default.imagePath;if(!b)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return b+"/marker-"+a+".png"}});e.Icon.Default.imagePath=function(){var a,b,e,d,l=t.getElementsByTagName("script"),m=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;a=0;for(b=l.length;b>a;a++)if(e=l[a].src,e.match(m))return d=e.split(m)[0],(d?d+"/":"")+"images"}();e.Marker=e.Class.extend({includes:e.Mixin.Events,options:{icon:new e.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,
zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,b){e.setOptions(this,b);this._latlng=e.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();this.fire("add");a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow();this.fire("remove");
a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=e.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();
this._setPos(a)}return this},_initIcon:function(){var a=this.options,b=this._map,d=b.options.zoomAnimation&&b.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",k=a.icon.createIcon(this._icon),b=!1;k!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(k.title=a.title),a.alt&&(k.alt=a.alt));e.DomUtil.addClass(k,d);a.keyboard&&(k.tabIndex="0");this._icon=k;this._initInteraction();a.riseOnHover&&e.DomEvent.on(k,"mouseover",this._bringToFront,this).on(k,"mouseout",this._resetZIndex,
this);var k=a.icon.createShadow(this._shadow),l=!1;k!==this._shadow&&(this._removeShadow(),l=!0);k&&e.DomUtil.addClass(k,d);this._shadow=k;1>a.opacity&&this._updateOpacity();a=this._map._panes;b&&a.markerPane.appendChild(this._icon);k&&l&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&e.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&
this._map._panes.shadowPane.removeChild(this._shadow);this._shadow=null},_setPos:function(a){e.DomUtil.setPosition(this._icon,a);this._shadow&&e.DomUtil.setPosition(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,b=["dblclick",
"mousedown","mouseover","mouseout","contextmenu"];e.DomUtil.addClass(a,"leaflet-clickable");e.DomEvent.on(a,"click",this._onMouseClick,this);e.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var d=0;d<b.length;d++)e.DomEvent.on(a,b[d],this._fireMouseEvent,this);e.Handler.MarkerDrag&&(this.dragging=new e.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var b=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||b)&&e.DomEvent.stopPropagation(a);
b||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});"contextmenu"===a.type&&this.hasEventListeners(a.type)&&e.DomEvent.preventDefault(a);"mousedown"!==a.type?e.DomEvent.stopPropagation(a):e.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=
a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){e.DomUtil.setOpacity(this._icon,this.options.opacity);this._shadow&&e.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});e.marker=function(a,b){return new e.Marker(a,b)};e.DivIcon=e.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){a=a&&"DIV"===a.tagName?a:t.createElement("div");
var b=this.options;return a.innerHTML=!1!==b.html?b.html:"",b.bgPos&&(a.style.backgroundPosition=-b.bgPos.x+"px "+-b.bgPos.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});e.divIcon=function(a){return new e.DivIcon(a)};e.Map.mergeOptions({closePopupOnClick:!0});e.Popup=e.Class.extend({includes:e.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,
b){e.setOptions(this,a);this._source=b;this._animated=e.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(a){this._map=a;this._container||this._initLayout();var b=a.options.fadeAnimation;b&&e.DomUtil.setOpacity(this._container,0);a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();b&&e.DomUtil.setOpacity(this._container,1);this.fire("open");a.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),
this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);e.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);a.options.fadeAnimation&&e.DomUtil.setOpacity(this._container,0);this._map=null;this.fire("close");a.fire("popupclose",{popup:this});this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=e.latLng(a),this._map&&(this._updatePosition(),
this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:
this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a,b=this._container=e.DomUtil.create("div","leaflet-popup "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"));this.options.closeButton&&(a=this._closeButton=e.DomUtil.create("a","leaflet-popup-close-button",b),a.href="#close",a.innerHTML="&#215;",e.DomEvent.disableClickPropagation(a),
e.DomEvent.on(a,"click",this._onCloseButtonClick,this));a=this._wrapper=e.DomUtil.create("div","leaflet-popup-content-wrapper",b);e.DomEvent.disableClickPropagation(a);this._contentNode=e.DomUtil.create("div","leaflet-popup-content",a);e.DomEvent.disableScrollPropagation(this._contentNode);e.DomEvent.on(a,"contextmenu",e.DomEvent.stopPropagation);this._tipContainer=e.DomUtil.create("div","leaflet-popup-tip-container",b);this._tip=e.DomUtil.create("div","leaflet-popup-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==
typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,b=a.style;b.width="";b.whiteSpace="nowrap";var d=a.offsetWidth,d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth);b.width=d+1+"px";b.whiteSpace="";b.height="";var d=a.offsetHeight,k=this.options.maxHeight;
k&&d>k?(b.height=k+"px",e.DomUtil.addClass(a,"leaflet-popup-scrolled")):e.DomUtil.removeClass(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),b=this._animated,d=e.point(this.options.offset);b&&e.DomUtil.setPosition(this._container,a);this._containerBottom=-d.y-(b?0:a.y);this._containerLeft=-Math.round(this._containerWidth/2)+d.x+(b?0:a.x);this._container.style.bottom=this._containerBottom+
"px";this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);e.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,b=this._container.offsetHeight,d=this._containerWidth,k=new e.Point(this._containerLeft,-b-this._containerBottom);this._animated&&k._add(e.DomUtil.getPosition(this._container));var k=a.layerPointToContainerPoint(k),l=e.point(this.options.autoPanPadding),
m=e.point(this.options.autoPanPaddingTopLeft||l),l=e.point(this.options.autoPanPaddingBottomRight||l),n=a.getSize(),q=0,t=0;k.x+d+l.x>n.x&&(q=k.x+d-n.x+l.x);0>k.x-q-m.x&&(q=k.x-m.x);k.y+b+l.y>n.y&&(t=k.y+b-n.y+l.y);0>k.y-t-m.y&&(t=k.y-m.y);(q||t)&&a.fire("autopanstart").panBy([q,t])}},_onCloseButtonClick:function(a){this._close();e.DomEvent.stop(a)}});e.popup=function(a,b){return new e.Popup(a,b)};e.Map.include({openPopup:function(a,b,d){(this.closePopup(),a instanceof e.Popup)||(a=(new e.Popup(d)).setLatLng(b).setContent(a));
return a._isOpen=!0,this._popup=a,this.addLayer(a)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}});e.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():
this.openPopup()),this},bindPopup:function(a,b){var d=e.point(this.options.icon.options.popupAnchor||[0,0]);return d=d.add(e.Popup.prototype.options.offset),b&&b.offset&&(d=d.add(b.offset)),b=e.extend({offset:d},b),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),a instanceof e.Popup?(e.setOptions(a,b),this._popup=a):this._popup=(new e.Popup(b,this)).setContent(a),this},setPopupContent:function(a){return this._popup&&
this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});e.LayerGroup=e.Class.extend({initialize:function(a){this._layers={};var b,e;if(a)for(b=0,e=a.length;e>b;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);
return this._layers[b]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(a){var b,e,d=Array.prototype.slice.call(arguments,1);for(b in this._layers)e=this._layers[b],
e[a]&&e[a].apply(e,d);return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(a,b){for(var e in this._layers)a.call(b,this._layers[e]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],b;for(b in this._layers)a.push(this._layers[b]);return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return e.stamp(a)}});
e.layerGroup=function(a){return new e.LayerGroup(a)};e.FeatureGroup=e.LayerGroup.extend({includes:e.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:("on"in a&&a.on(e.FeatureGroup.EVENTS,this._propagateEvent,this),e.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?
(a in this._layers&&(a=this._layers[a]),a.off(e.FeatureGroup.EVENTS,this._propagateEvent,this),e.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,b){return this._popupContent=a,this._popupOptions=b,this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},
bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new e.LatLngBounds;return this.eachLayer(function(b){a.extend(b instanceof e.Marker?b.getLatLng():b.getBounds())}),a},_propagateEvent:function(a){a=e.extend({layer:a.target,target:this},a);this.fire(a.type,a)}});e.featureGroup=function(a){return new e.FeatureGroup(a)};e.Path=e.Class.extend({includes:[e.Mixin.Events],statics:{CLIP_PADDING:function(){var a=((e.Browser.mobile?1280:2E3)/Math.max(d.outerWidth,d.outerHeight)-
1)/2;return Math.max(0,Math.min(.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(a){e.setOptions(this,a)},onAdd:function(a){this._map=a;this._container||(this._initElements(),this._initEvents());this.projectLatlngs();this._updatePath();this._container&&this._map._pathRoot.appendChild(this._container);this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},
this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;e.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null);a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return e.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}});
e.Map.include({_updatePathViewport:function(){var a=e.Path.CLIP_PADDING,b=this.getSize(),d=e.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(b.multiplyBy(a)._round()),a=d.add(b.multiplyBy(1+2*a)._round());this._pathViewport=new e.Bounds(d,a)}});e.Path.SVG_NS="http://www.w3.org/2000/svg";e.Browser.svg=!(!t.createElementNS||!t.createElementNS(e.Path.SVG_NS,"svg").createSVGRect);e.Path=e.Path.extend({statics:{SVG:e.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,b=this._container;
return b&&a.lastChild!==b&&a.appendChild(b),this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,e=a.firstChild;return b&&e!==b&&a.insertBefore(b,e),this},getPathString:function(){},_createElement:function(a){return t.createElementNS(e.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this.options.className&&e.DomUtil.addClass(this._path,
this.options.className);this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill&&this._path.setAttribute("fill-rule","evenodd");this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents);this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none");this._updateStyle()},_updateStyle:function(){this.options.stroke?
(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke",
"none");this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0");this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){!e.Browser.svg&&e.Browser.vml||e.DomUtil.addClass(this._path,"leaflet-clickable");e.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a=
"dblclick mousedown mouseover mouseout mousemove contextmenu".split(" "),b=0;b<a.length;b++)e.DomEvent.on(this._container,a[b],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var b=this._map,d=b.mouseEventToContainerPoint(a),k=b.containerPointToLayerPoint(d),b=b.layerPointToLatLng(k);this.fire(a.type,{latlng:b,layerPoint:k,containerPoint:d,originalEvent:a});
"contextmenu"===a.type&&e.DomEvent.preventDefault(a);"mousemove"!==a.type&&e.DomEvent.stopPropagation(a)}}});e.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=e.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&e.Browser.any3d?(e.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):e.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",
this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var b=this.getZoomScale(a.zoom);a=this._getCenterOffset(a.center)._multiplyBy(-b)._add(this._pathViewport.min);this._pathRoot.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(a)+" scale("+b+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,d=a.max,a=d.x-b.x,d=d.y-b.y,k=this._pathRoot,
l=this._panes.overlayPane;e.Browser.mobileWebkit&&l.removeChild(k);e.DomUtil.setPosition(k,b);k.setAttribute("width",a);k.setAttribute("height",d);k.setAttribute("viewBox",[b.x,b.y,a,d].join(" "));e.Browser.mobileWebkit&&l.appendChild(k)}}});e.Path.include({bindPopup:function(a,b){return a instanceof e.Popup?this._popup=a:((!this._popup||b)&&(this._popup=new e.Popup(b,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),
this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng);this._map.openPopup(this._popup)}});
e.Browser.vml=!e.Browser.svg&&function(){try{var a=t.createElement("div");a.innerHTML='<v:shape adj="1"/>';var b=a.firstChild;return b.style.behavior="url(#default#VML)",b&&"object"==typeof b.adj}catch(e){return!1}}();e.Path=e.Browser.svg||!e.Browser.vml?e.Path:e.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return t.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return t.createElement("<lvml:"+a+' class="lvml">')}}catch(a){return function(a){return t.createElement("<"+
a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");e.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));this.options.clickable&&e.DomUtil.addClass(a,"leaflet-clickable");a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,
b=this._fill,d=this.options,k=this._container;k.stroked=d.stroke;k.filled=d.fill;d.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",k.appendChild(a)),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,a.dashStyle=d.dashArray?e.Util.isArray(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):"",d.lineCap&&(a.endcap=d.lineCap.replace("butt","flat")),d.lineJoin&&(a.joinstyle=d.lineJoin)):a&&(k.removeChild(a),this._stroke=null);d.fill?(b||(b=this._fill=
this._createElement("fill"),k.appendChild(b)),b.color=d.fillColor||d.color,b.opacity=d.fillOpacity):b&&(k.removeChild(b),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});e.Map.include(e.Browser.svg||!e.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=t.createElement("div");a.className="leaflet-vml-container";this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);
this._updatePathViewport()}}});e.Browser.canvas=!!t.createElement("canvas").getContext;e.Path=e.Path.SVG&&!d.L_PREFER_CANVAS||!e.Browser.canvas?e.Path:e.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return e.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this);this.options.clickable&&
(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this));this._requestUpdate();this.fire("remove");this._map=null},_requestUpdate:function(){this._map&&!e.Path._updateRequest&&(e.Path._updateRequest=e.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){e.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&
(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color);a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,b,d,k,l,m;this._ctx.beginPath();a=0;for(d=this._parts.length;d>a;a++){b=0;for(k=this._parts[a].length;k>b;b++)l=this._parts[a][b],m=(0===b?"move":"line")+"To",this._ctx[m](l.x,l.y);this instanceof e.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,b=this.options;
this._drawPath();a.save();this._updateStyle();b.fill&&(a.globalAlpha=b.fillOpacity,a.fill());b.stroke&&(a.globalAlpha=b.opacity,a.stroke());a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor=
"pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}});e.Map.include(e.Path.SVG&&!d.L_PREFER_CANVAS||!e.Browser.canvas?{}:{_initPathRoot:function(){var a,b=this._pathRoot;b||(b=this._pathRoot=t.createElement("canvas"),b.style.position="absolute",a=this._canvasCtx=b.getContext("2d"),a.lineCap="round",a.lineJoin="round",this._panes.overlayPane.appendChild(b),this.options.zoomAnimation&&(this._pathRoot.className=
"leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,b=a.min,a=a.max.subtract(b),d=this._pathRoot;e.DomUtil.setPosition(d,b);d.width=a.x;d.height=a.y;d.getContext("2d").translate(-b.x,-b.y)}}});e.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var e=
b*b;return a=this._reducePoints(a,e),this._simplifyDP(a,e)},pointToSegmentDistance:function(a,b,e){return Math.sqrt(this._sqClosestPointOnSegment(a,b,e,!0))},closestPointOnSegment:function(a,b,e){return this._sqClosestPointOnSegment(a,b,e)},_simplifyDP:function(a,b){var e=a.length,d=new (typeof Uint8Array!=n+""?Uint8Array:Array)(e);d[0]=d[e-1]=1;this._simplifyDPStep(a,d,b,0,e-1);var l,m=[];for(l=0;e>l;l++)d[l]&&m.push(a[l]);return m},_simplifyDPStep:function(a,b,e,d,l){var m,n,q,t=0;for(n=d+1;l-1>=
n;n++)q=this._sqClosestPointOnSegment(a[n],a[d],a[l],!0),q>t&&(m=n,t=q);t>e&&(b[m]=1,this._simplifyDPStep(a,b,e,d,m),this._simplifyDPStep(a,b,e,m,l))},_reducePoints:function(a,b){for(var e=[a[0]],d=1,l=0,m=a.length;m>d;d++)this._sqDist(a[d],a[l])>b&&(e.push(a[d]),l=d);return m-1>l&&e.push(a[m-1]),e},clipSegment:function(a,b,e,d){var l,m,n=d?this._lastCode:this._getBitCode(a,e),q=this._getBitCode(b,e);for(this._lastCode=q;;){if(!(n|q))return[a,b];if(n&q)return!1;d=n||q;l=this._getEdgeIntersection(a,
b,d,e);m=this._getBitCode(l,e);d===n?(a=l,n=m):(b=l,q=m)}},_getEdgeIntersection:function(a,b,d,k){var l=b.x-a.x;b=b.y-a.y;var m=k.min;k=k.max;return 8&d?new e.Point(a.x+l*(k.y-a.y)/b,k.y):4&d?new e.Point(a.x+l*(m.y-a.y)/b,m.y):2&d?new e.Point(k.x,a.y+b*(k.x-a.x)/l):1&d?new e.Point(m.x,a.y+b*(m.x-a.x)/l):void 0},_getBitCode:function(a,b){var e=0;return a.x<b.min.x?e|=1:a.x>b.max.x&&(e|=2),a.y<b.min.y?e|=4:a.y>b.max.y&&(e|=8),e},_sqDist:function(a,b){var e=b.x-a.x,d=b.y-a.y;return e*e+d*d},_sqClosestPointOnSegment:function(a,
b,d,k){var l,m=b.x;b=b.y;var n=d.x-m,q=d.y-b,t=n*n+q*q;return 0<t&&(l=((a.x-m)*n+(a.y-b)*q)/t,1<l?(m=d.x,b=d.y):0<l&&(m+=n*l,b+=q*l)),n=a.x-m,q=a.y-b,k?n*n+q*q:new e.Point(m,b)}};e.Polyline=e.Path.extend({initialize:function(a,b){e.Path.prototype.initialize.call(this,b);this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;b>a;a++)this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])},
getPathString:function(){for(var a=0,b=this._parts.length,e="";b>a;a++)e+=this._getPathPartStr(this._parts[a]);return e},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(e.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(a){for(var b,d,
k=1/0,l=this._parts,m=null,n=0,q=l.length;q>n;n++)for(var t=l[n],v=1,c=t.length;c>v;v++){b=t[v-1];d=t[v];var h=e.LineUtil._sqClosestPointOnSegment(a,b,d,!0);k>h&&(k=h,m=e.LineUtil._sqClosestPointOnSegment(a,b,d))}return m&&(m.distance=Math.sqrt(k)),m},getBounds:function(){return new e.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,b){var d,k,l=b?a:[];d=0;for(k=a.length;k>d;d++){if(e.Util.isArray(a[d])&&"number"!=typeof a[d][0])return;l[d]=e.latLng(a[d])}return l},_initEvents:function(){e.Path.prototype._initEvents.call(this)},
_getPathPartStr:function(a){for(var b,d=e.Path.VML,k=0,l=a.length,m="";l>k;k++)b=a[k],d&&b._round(),m+=(k?"L":"M")+b.x+" "+b.y;return m},_clipPoints:function(){var a,b,d,k=this._originalPoints,l=k.length;if(this.options.noClip)return void(this._parts=[k]);var m=this._parts=[],n=this._map._pathViewport,q=e.LineUtil;for(b=a=0;l-1>a;a++)(d=q.clipSegment(k[a],k[a+1],n,a))&&(m[b]=m[b]||[],m[b].push(d[0]),(d[1]!==k[a+1]||a===l-2)&&(m[b].push(d[1]),b++))},_simplifyPoints:function(){for(var a=this._parts,
b=e.LineUtil,d=0,k=a.length;k>d;d++)a[d]=b.simplify(a[d],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),e.Path.prototype._updatePath.call(this))}});e.polyline=function(a,b){return new e.Polyline(a,b)};e.PolyUtil={};e.PolyUtil.clipPolygon=function(a,b){var d,k,l,m,n,q,t,v,c=[1,4,2,8],h=e.LineUtil;k=0;for(q=a.length;q>k;k++)a[k]._code=h._getBitCode(a[k],b);for(m=0;4>m;m++){t=c[m];d=[];k=0;q=a.length;for(l=q-1;q>k;l=k++)n=a[k],l=a[l],n._code&
t?l._code&t||(v=h._getEdgeIntersection(l,n,t,b),v._code=h._getBitCode(v,b),d.push(v)):(l._code&t&&(v=h._getEdgeIntersection(l,n,t,b),v._code=h._getBitCode(v,b),d.push(v)),d.push(n));a=d}return a};e.Polygon=e.Polyline.extend({options:{fill:!0},initialize:function(a,b){e.Polyline.prototype.initialize.call(this,a,b);this._initWithHoles(a)},_initWithHoles:function(a){var b,d;if(a&&e.Util.isArray(a[0])&&"number"!=typeof a[0][0])for(this._latlngs=this._convertLatLngs(a[0]),this._holes=a.slice(1),a=0,b=
this._holes.length;b>a;a++)d=this._holes[a]=this._convertLatLngs(this._holes[a]),d[0].equals(d[d.length-1])&&d.pop();a=this._latlngs;2<=a.length&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){if(e.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var a,b,d,k;a=0;for(d=this._holes.length;d>a;a++)for(this._holePoints[a]=[],b=0,k=this._holes[a].length;k>b;b++)this._holePoints[a][b]=this._map.latLngToLayerPoint(this._holes[a][b])}},setLatLngs:function(a){return a&&
e.Util.isArray(a[0])&&"number"!=typeof a[0][0]?(this._initWithHoles(a),this.redraw()):e.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=[];if(this._parts=[this._originalPoints].concat(this._holePoints),!this.options.noClip){for(var b=0,d=this._parts.length;d>b;b++){var k=e.PolyUtil.clipPolygon(this._parts[b],this._map._pathViewport);k.length&&a.push(k)}this._parts=a}},_getPathPartStr:function(a){return e.Polyline.prototype._getPathPartStr.call(this,a)+(e.Browser.svg?"z":"x")}});
e.polygon=function(a,b){return new e.Polygon(a,b)};(function(){function a(a){return e.FeatureGroup.extend({initialize:function(a,b){this._layers={};this._options=b;this.setLatLngs(a)},setLatLngs:function(e){var d=0,l=e.length;for(this.eachLayer(function(a){l>d?a.setLatLngs(e[d++]):this.removeLayer(a)},this);l>d;)this.addLayer(new a(e[d++],this._options));return this},getLatLngs:function(){var a=[];return this.eachLayer(function(b){a.push(b.getLatLngs())}),a}})}e.MultiPolyline=a(e.Polyline);e.MultiPolygon=
a(e.Polygon);e.multiPolyline=function(a,d){return new e.MultiPolyline(a,d)};e.multiPolygon=function(a,d){return new e.MultiPolygon(a,d)}})();e.Rectangle=e.Polygon.extend({initialize:function(a,b){e.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),b)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=e.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});e.rectangle=function(a,b){return new e.Rectangle(a,
b)};e.Circle=e.Path.extend({initialize:function(a,b,d){e.Path.prototype.initialize.call(this,d);this._latlng=e.latLng(a);this._mRadius=b},options:{fill:!0},setLatLng:function(a){return this._latlng=e.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,a=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-a.x,1)},getBounds:function(){var a=
this._getLngRadius(),b=this._mRadius/40075017*360,d=this._latlng;return new e.LatLngBounds([d.lat-b,d.lng-a],[d.lat+b,d.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,b=this._radius;return this._checkIfEmpty()?"":e.Browser.svg?"M"+a.x+","+(a.y-b)+"A"+b+","+b+",0,1,1,"+(a.x-.1)+","+(a.y-b)+" z":(a._round(),b=Math.round(b),"AL "+a.x+","+a.y+" "+b+","+b+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/
40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(e.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,e=this._point;return e.x-b>a.max.x||e.y-b>a.max.y||e.x+b<a.min.x||e.y+b<a.min.y}});e.circle=function(a,b,d){return new e.Circle(a,b,d)};e.CircleMarker=e.Circle.extend({options:{radius:10,weight:2},initialize:function(a,b){e.Circle.prototype.initialize.call(this,a,null,b);this._radius=this.options.radius},
projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){e.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(a){return e.Circle.prototype.setLatLng.call(this,a),this._popup&&this._popup._isOpen&&this._popup.setLatLng(a),this},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius}});e.circleMarker=function(a,b){return new e.CircleMarker(a,
b)};e.Polyline.include(e.Path.CANVAS?{_containsPoint:function(a,b){var d,k,l,m,n,q,t,v=this.options.weight/2;e.Browser.touch&&(v+=10);d=0;for(m=this._parts.length;m>d;d++)for(t=this._parts[d],k=0,n=t.length,l=n-1;n>k;l=k++)if((b||0!==k)&&(q=e.LineUtil.pointToSegmentDistance(a,t[l],t[k]),v>=q))return!0;return!1}}:{});e.Polygon.include(e.Path.CANVAS?{_containsPoint:function(a){var b,d,k,l,m,n,q,t=!1;if(e.Polyline.prototype._containsPoint.call(this,a,!0))return!0;l=0;for(n=this._parts.length;n>l;l++)for(b=
this._parts[l],m=0,q=b.length,k=q-1;q>m;k=m++)d=b[m],k=b[k],d.y>a.y!=k.y>a.y&&a.x<(k.x-d.x)*(a.y-d.y)/(k.y-d.y)+d.x&&(t=!t);return t}}:{});e.Circle.include(e.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this.options.stroke?this.options.weight/2:0;return a.distanceTo(this._point)<=this._radius+b}}:{});e.CircleMarker.include(e.Path.CANVAS?{_updateStyle:function(){e.Path.prototype._updateStyle.call(this)}}:
{});e.GeoJSON=e.FeatureGroup.extend({initialize:function(a,b){e.setOptions(this,b);this._layers={};a&&this.addData(a)},addData:function(a){var b,d,k=e.Util.isArray(a)?a:a.features;if(k){a=0;for(b=k.length;b>a;a++)d=k[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(k[a]);return this}k=this.options;if(!k.filter||k.filter(a))return b=e.GeoJSON.geometryToLayer(a,k.pointToLayer,k.coordsToLatLng,k),b.feature=e.GeoJSON.asFeature(a),b.defaultOptions=b.options,this.resetStyle(b),k.onEachFeature&&
k.onEachFeature(a,b),this.addLayer(b)},resetStyle:function(a){var b=this.options.style;b&&(e.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,b))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"==typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}});e.extend(e.GeoJSON,{geometryToLayer:function(a,b,d,k){var l,m,n,q="Feature"===a.type?a.geometry:a,t=q.coordinates,v=[];switch(d=d||this.coordsToLatLng,q.type){case "Point":return l=
d(t),b?b(a,l):new e.Marker(l);case "MultiPoint":m=0;for(n=t.length;n>m;m++)l=d(t[m]),v.push(b?b(a,l):new e.Marker(l));return new e.FeatureGroup(v);case "LineString":return m=this.coordsToLatLngs(t,0,d),new e.Polyline(m,k);case "Polygon":if(2===t.length&&!t[1].length)throw Error("Invalid GeoJSON object.");return m=this.coordsToLatLngs(t,1,d),new e.Polygon(m,k);case "MultiLineString":return m=this.coordsToLatLngs(t,1,d),new e.MultiPolyline(m,k);case "MultiPolygon":return m=this.coordsToLatLngs(t,2,
d),new e.MultiPolygon(m,k);case "GeometryCollection":m=0;for(n=q.geometries.length;n>m;m++)v.push(this.geometryToLayer({geometry:q.geometries[m],type:"Feature",properties:a.properties},b,d,k));return new e.FeatureGroup(v);default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(a){return new e.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,e){var d,l,m,n=[];l=0;for(m=a.length;m>l;l++)d=b?this.coordsToLatLngs(a[l],b-1,e):(e||this.coordsToLatLng)(a[l]),n.push(d);return n},latLngToCoords:function(a){var b=
[a.lng,a.lat];return a.alt!==n&&b.push(a.alt),b},latLngsToCoords:function(a){for(var b=[],d=0,k=a.length;k>d;d++)b.push(e.GeoJSON.latLngToCoords(a[d]));return b},getFeature:function(a,b){return a.feature?e.extend({},a.feature,{geometry:b}):e.GeoJSON.asFeature(b)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var w={toGeoJSON:function(){return e.GeoJSON.getFeature(this,{type:"Point",coordinates:e.GeoJSON.latLngToCoords(this.getLatLng())})}};e.Marker.include(w);
e.Circle.include(w);e.CircleMarker.include(w);e.Polyline.include({toGeoJSON:function(){return e.GeoJSON.getFeature(this,{type:"LineString",coordinates:e.GeoJSON.latLngsToCoords(this.getLatLngs())})}});e.Polygon.include({toGeoJSON:function(){var a,b,d,k=[e.GeoJSON.latLngsToCoords(this.getLatLngs())];if(k[0].push(k[0][0]),this._holes)for(a=0,b=this._holes.length;b>a;a++)d=e.GeoJSON.latLngsToCoords(this._holes[a]),d.push(d[0]),k.push(d);return e.GeoJSON.getFeature(this,{type:"Polygon",coordinates:k})}});
(function(){function a(a){return function(){var d=[];return this.eachLayer(function(a){d.push(a.toGeoJSON().geometry.coordinates)}),e.GeoJSON.getFeature(this,{type:a,coordinates:d})}}e.MultiPolyline.include({toGeoJSON:a("MultiLineString")});e.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});e.LayerGroup.include({toGeoJSON:function(){var b,d=this.feature&&this.feature.geometry,k=[];if(d&&"MultiPoint"===d.type)return a("MultiPoint").call(this);var l=d&&"GeometryCollection"===d.type;return this.eachLayer(function(a){a.toGeoJSON&&
(b=a.toGeoJSON(),k.push(l?b.geometry:e.GeoJSON.asFeature(b)))}),l?e.GeoJSON.getFeature(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}})})();e.geoJson=function(a,b){return new e.GeoJSON(a,b)};e.DomEvent={addListener:function(a,b,d,k){var l,m,n,q=e.stamp(d),t="_leaflet_"+b+q;return a[t]?this:(l=function(b){return d.call(k||a,b||e.DomEvent._getEvent())},e.Browser.pointer&&0===b.indexOf("touch")?this.addPointerListener(a,b,l,q):(e.Browser.touch&&"dblclick"===b&&
this.addDoubleTapListener&&this.addDoubleTapListener(a,l,q),"addEventListener"in a?"mousewheel"===b?(a.addEventListener("DOMMouseScroll",l,!1),a.addEventListener(b,l,!1)):"mouseenter"===b||"mouseleave"===b?(m=l,n="mouseenter"===b?"mouseover":"mouseout",l=function(b){return e.DomEvent._checkMouse(a,b)?m(b):void 0},a.addEventListener(n,l,!1)):"click"===b&&e.Browser.android?(m=l,l=function(a){return e.DomEvent._filterClick(a,m)},a.addEventListener(b,l,!1)):a.addEventListener(b,l,!1):"attachEvent"in a&&
a.attachEvent("on"+b,l),a[t]=l,this))},removeListener:function(a,b,d){d=e.stamp(d);var k="_leaflet_"+b+d,l=a[k];return l?(e.Browser.pointer&&0===b.indexOf("touch")?this.removePointerListener(a,b,d):e.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,d):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",l,!1),a.removeEventListener(b,l,!1)):"mouseenter"===b||"mouseleave"===b?a.removeEventListener("mouseenter"===b?"mouseover":"mouseout",
l,!1):a.removeEventListener(b,l,!1):"detachEvent"in a&&a.detachEvent("on"+b,l),a[k]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,e.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var b=e.DomEvent.stopPropagation;return e.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(a){for(var b=e.DomEvent.stopPropagation,d=e.Draggable.START.length-1;0<=d;d--)e.DomEvent.on(a,e.Draggable.START[d],
b);return e.DomEvent.on(a,"click",e.DomEvent._fakeStop).on(a,"dblclick",b)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return e.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){if(!b)return new e.Point(a.clientX,a.clientY);var d=b.getBoundingClientRect();return new e.Point(a.clientX-d.left-b.clientLeft,a.clientY-d.top-b.clientTop)},getWheelDelta:function(a){var b=0;return a.wheelDelta&&(b=a.wheelDelta/
120),a.detail&&(b=-a.detail/3),b},_skipEvents:{},_fakeStop:function(a){e.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,b){var d=b.relatedTarget;if(!d)return!0;try{for(;d&&d!==a;)d=d.parentNode}catch(e){return!1}return d!==a},_getEvent:function(){var a=d.event;if(!a)for(var b=arguments.callee.caller;b&&(a=b.arguments[0],!a||d.Event!==a.constructor);)b=b.caller;return a},_filterClick:function(a,b){var d=
a.timeStamp||a.originalEvent.timeStamp,k=e.DomEvent._lastClick&&d-e.DomEvent._lastClick;return k&&100<k&&500>k||a.target._simulatedClick&&!a._simulated?void e.DomEvent.stop(a):(e.DomEvent._lastClick=d,b(a))}};e.DomEvent.on=e.DomEvent.addListener;e.DomEvent.off=e.DomEvent.removeListener;e.Draggable=e.Class.extend({includes:e.Mixin.Events,statics:{START:e.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},
MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a;this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=e.Draggable.START.length-1;0<=a;a--)e.DomEvent.on(this._dragStartTarget,e.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=e.Draggable.START.length-1;0<=a;a--)e.DomEvent.off(this._dragStartTarget,e.Draggable.START[a],this._onDown,
this);this._moved=this._enabled=!1}},_onDown:function(a){if(this._moved=!1,!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(e.DomEvent.stopPropagation(a),e.Draggable._disabled||(e.DomUtil.disableImageDrag(),e.DomUtil.disableTextSelection(),this._moving)))){var b=a.touches?a.touches[0]:a;this._startPoint=new e.Point(b.clientX,b.clientY);this._startPos=this._newPos=e.DomUtil.getPosition(this._element);e.DomEvent.on(t,e.Draggable.MOVE[a.type],this._onMove,this).on(t,e.Draggable.END[a.type],this._onUp,
this)}},_onMove:function(a){if(a.touches&&1<a.touches.length)return void(this._moved=!0);var b=a.touches&&1===a.touches.length?a.touches[0]:a,b=(new e.Point(b.clientX,b.clientY)).subtract(this._startPoint);(b.x||b.y)&&(e.Browser.touch&&3>Math.abs(b.x)+Math.abs(b.y)||(e.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=e.DomUtil.getPosition(this._element).subtract(b),e.DomUtil.addClass(t.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,e.DomUtil.addClass(this._lastTarget,
"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,e.Util.cancelAnimFrame(this._animRequest),this._animRequest=e.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag");e.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(){e.DomUtil.removeClass(t.body,"leaflet-dragging");this._lastTarget&&(e.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);
for(var a in e.Draggable.MOVE)e.DomEvent.off(t,e.Draggable.MOVE[a],this._onMove).off(t,e.Draggable.END[a],this._onUp);e.DomUtil.enableImageDrag();e.DomUtil.enableTextSelection();this._moved&&this._moving&&(e.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});e.Handler=e.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&
(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});e.Map.mergeOptions({dragging:!0,inertia:!e.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:e.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1});e.Map.Drag=e.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new e.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);
a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=
this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);200<a-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),d=this._initialWorldOffset,e=this._draggable._newPos.x,
l=(e-b+d)%a+b-d,a=(e+b+d)%a-b-d,d=Math.abs(l+d)<Math.abs(a+d)?l:a;this._draggable._newPos.x=d},_onDragEnd:function(a){var b=this._map,d=b.options,k=+new Date-this._lastTime,l=!d.inertia||k>d.inertiaThreshold||!this._positions[0];if(b.fire("dragend",a),l)b.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var m=d.easeLinearity;a=a.multiplyBy(m/((this._lastTime+k-this._times[0])/1E3));l=a.distanceTo([0,0]);k=Math.min(d.inertiaMaxSpeed,l);a=a.multiplyBy(k/l);var n=k/(d.inertiaDeceleration*
m),q=a.multiplyBy(-n/2).round();q.x&&q.y?(q=b._limitOffset(q,b.options.maxBounds),e.Util.requestAnimFrame(function(){b.panBy(q,{duration:n,easeLinearity:m,noMoveStart:!0})})):b.fire("moveend")}}});e.Map.addInitHook("addHandler","dragging",e.Map.Drag);e.Map.mergeOptions({doubleClickZoom:!0});e.Map.DoubleClickZoom=e.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var b=
this._map,d=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(d):b.setZoomAround(a.containerPoint,d)}});e.Map.addInitHook("addHandler","doubleClickZoom",e.Map.DoubleClickZoom);e.Map.mergeOptions({scrollWheelZoom:!0});e.Map.ScrollWheelZoom=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);e.DomEvent.on(this._map._container,"MozMousePixelScroll",e.DomEvent.preventDefault);this._delta=0},removeHooks:function(){e.DomEvent.off(this._map._container,
"mousewheel",this._onWheelScroll);e.DomEvent.off(this._map._container,"MozMousePixelScroll",e.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=e.DomEvent.getWheelDelta(a);this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);b=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(e.bind(this._performZoom,this),b);e.DomEvent.preventDefault(a);e.DomEvent.stopPropagation(a)},_performZoom:function(){var a=
this._map,b=this._delta,d=a.getZoom(),b=0<b?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(d+b)-d;this._delta=0;this._startTime=null;b&&("center"===a.options.scrollWheelZoom?a.setZoom(d+b):a.setZoomAround(this._lastMousePos,d+b))}});e.Map.addInitHook("addHandler","scrollWheelZoom",e.Map.ScrollWheelZoom);e.extend(e.DomEvent,{_touchstart:e.Browser.msPointer?"MSPointerDown":e.Browser.pointer?"pointerdown":"touchstart",_touchend:e.Browser.msPointer?"MSPointerUp":e.Browser.pointer?
"pointerup":"touchend",addDoubleTapListener:function(a,b,d){function k(a){var b;if(e.Browser.pointer?(h.push(a.pointerId),b=h.length):b=a.touches.length,!(1<b)){b=Date.now();var c=b-(m||b);n=a.touches?a.touches[0]:a;q=0<c&&w>=c;m=b}}function l(a){if(e.Browser.pointer){a=h.indexOf(a.pointerId);if(-1===a)return;h.splice(a,1)}if(q){if(e.Browser.pointer){var c={},d;for(d in n)a=n[d],c[d]="function"==typeof a?a.bind(n):a;n=c}n.type="dblclick";b(n);m=null}}var m,n,q=!1,w=250,v=this._touchstart,c=this._touchend,
h=[];a["_leaflet_"+v+d]=k;a["_leaflet_"+c+d]=l;d=e.Browser.pointer?t.documentElement:a;return a.addEventListener(v,k,!1),d.addEventListener(c,l,!1),e.Browser.pointer&&d.addEventListener(e.DomEvent.POINTER_CANCEL,l,!1),this},removeDoubleTapListener:function(a,b){return a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+b],!1),(e.Browser.pointer?t.documentElement:a).removeEventListener(this._touchend,a["_leaflet_"+this._touchend+b],!1),e.Browser.pointer&&t.documentElement.removeEventListener(e.DomEvent.POINTER_CANCEL,
a["_leaflet_"+this._touchend+b],!1),this}});e.extend(e.DomEvent,{POINTER_DOWN:e.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:e.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:e.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:e.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,b,d,e){switch(b){case "touchstart":return this.addPointerListenerStart(a,b,d,e);case "touchend":return this.addPointerListenerEnd(a,
b,d,e);case "touchmove":return this.addPointerListenerMove(a,b,d,e);default:throw"Unknown touch event type";}},addPointerListenerStart:function(a,b,d,k){var l=this._pointers;b=function(a){e.DomEvent.preventDefault(a);for(var b=!1,k=0;k<l.length;k++)if(l[k].pointerId===a.pointerId){b=!0;break}b||l.push(a);a.touches=l.slice();a.changedTouches=[a];d(a)};(a["_leaflet_touchstart"+k]=b,a.addEventListener(this.POINTER_DOWN,b,!1),this._pointerDocumentListener)||(a=function(a){for(var b=0;b<l.length;b++)if(l[b].pointerId===
a.pointerId){l.splice(b,1);break}},t.documentElement.addEventListener(this.POINTER_UP,a,!1),t.documentElement.addEventListener(this.POINTER_CANCEL,a,!1),this._pointerDocumentListener=!0);return this},addPointerListenerMove:function(a,b,d,e){function l(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var b=0;b<m.length;b++)if(m[b].pointerId===a.pointerId){m[b]=a;break}a.touches=m.slice();a.changedTouches=[a];d(a)}}var m=this._pointers;return a["_leaflet_touchmove"+
e]=l,a.addEventListener(this.POINTER_MOVE,l,!1),this},addPointerListenerEnd:function(a,b,d,e){var l=this._pointers;b=function(a){for(var b=0;b<l.length;b++)if(l[b].pointerId===a.pointerId){l.splice(b,1);break}a.touches=l.slice();a.changedTouches=[a];d(a)};return a["_leaflet_touchend"+e]=b,a.addEventListener(this.POINTER_UP,b,!1),a.addEventListener(this.POINTER_CANCEL,b,!1),this},removePointerListener:function(a,b,d){d=a["_leaflet_"+b+d];switch(b){case "touchstart":a.removeEventListener(this.POINTER_DOWN,
d,!1);break;case "touchmove":a.removeEventListener(this.POINTER_MOVE,d,!1);break;case "touchend":a.removeEventListener(this.POINTER_UP,d,!1),a.removeEventListener(this.POINTER_CANCEL,d,!1)}return this}});e.Map.mergeOptions({touchZoom:e.Browser.touch&&!e.Browser.android23,bounceAtZoomLimits:!0});e.Map.TouchZoom=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){e.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,
this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),k=b.mouseEventToLayerPoint(a.touches[1]),l=b._getCenterLayerPoint();this._startCenter=d.add(k)._divideBy(2);this._startDist=d.distanceTo(k);this._moved=!1;this._zooming=!0;this._centerOffset=l.subtract(this._startCenter);b._panAnim&&b._panAnim.stop();e.DomEvent.on(t,"touchmove",this._onTouchMove,this).on(t,"touchend",this._onTouchEnd,
this);e.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),k=b.mouseEventToLayerPoint(a.touches[1]);this._scale=d.distanceTo(k)/this._startDist;this._delta=d._add(k)._divideBy(2)._subtract(this._startCenter);1===this._scale||!b.options.bounceAtZoomLimits&&(b.getZoom()===b.getMinZoom()&&1>this._scale||b.getZoom()===b.getMaxZoom()&&1<this._scale)||(this._moved||(e.DomUtil.addClass(b._mapPane,
"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0),e.Util.cancelAnimFrame(this._animRequest),this._animRequest=e.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),e.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),b=a.layerPointToLatLng(b),d=a.getScaleZoom(this._scale);a._animateZoom(b,d,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=
!1);var a=this._map;this._zooming=!1;e.DomUtil.removeClass(a._mapPane,"leaflet-touching");e.Util.cancelAnimFrame(this._animRequest);e.DomEvent.off(t,"touchmove",this._onTouchMove).off(t,"touchend",this._onTouchEnd);var b=this._getScaleOrigin(),d=a.layerPointToLatLng(b),k=a.getZoom(),l=a.getScaleZoom(this._scale)-k,l=0<l?Math.ceil(l):Math.floor(l),k=a._limitZoom(k+l),l=a.getZoomScale(k)/this._scale;a._animateZoom(d,k,b,l)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);
return this._startCenter.add(a)}});e.Map.addInitHook("addHandler","touchZoom",e.Map.TouchZoom);e.Map.mergeOptions({tap:!0,tapTolerance:15});e.Map.Tap=e.Handler.extend({addHooks:function(){e.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){e.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(e.DomEvent.preventDefault(a),this._fireClick=!0,1<a.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);
var b=a.touches[0];a=b.target;this._startPos=this._newPos=new e.Point(b.clientX,b.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&e.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(e.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1E3);e.DomEvent.on(t,"touchmove",this._onMove,this).on(t,"touchend",this._onUp,this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),e.DomEvent.off(t,"touchmove",this._onMove,this).off(t,
"touchend",this._onUp,this),this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var b=a.target;b&&b.tagName&&"a"===b.tagName.toLowerCase()&&e.DomUtil.removeClass(b,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new e.Point(a.clientX,a.clientY)},_simulateEvent:function(a,b){var e=t.createEvent("MouseEvents");e._simulated=
!0;b.target._simulatedClick=!0;e.initMouseEvent(a,!0,!0,d,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(e)}});e.Browser.touch&&!e.Browser.pointer&&e.Map.addInitHook("addHandler","tap",e.Map.Tap);e.Map.mergeOptions({boxZoom:!0});e.Map.BoxZoom=e.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._moved=!1},addHooks:function(){e.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){e.DomEvent.off(this._container,
"mousedown",this._onMouseDown);this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){return this._moved=!1,!a.shiftKey||1!==a.which&&1!==a.button?!1:(e.DomUtil.disableTextSelection(),e.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),void e.DomEvent.on(t,"mousemove",this._onMouseMove,this).on(t,"mouseup",this._onMouseUp,this).on(t,"keydown",this._onKeyDown,this))},_onMouseMove:function(a){this._moved||(this._box=e.DomUtil.create("div","leaflet-zoom-box",
this._pane),e.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var b=this._startLayerPoint,d=this._box,k=this._map.mouseEventToLayerPoint(a);a=k.subtract(b);b=new e.Point(Math.min(k.x,b.x),Math.min(k.y,b.y));e.DomUtil.setPosition(d,b);this._moved=!0;d.style.width=Math.max(0,Math.abs(a.x)-4)+"px";d.style.height=Math.max(0,Math.abs(a.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=
"");e.DomUtil.enableTextSelection();e.DomUtil.enableImageDrag();e.DomEvent.off(t,"mousemove",this._onMouseMove).off(t,"mouseup",this._onMouseUp).off(t,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var b=this._map;a=b.mouseEventToLayerPoint(a);this._startLayerPoint.equals(a)||(a=new e.LatLngBounds(b.layerPointToLatLng(this._startLayerPoint),b.layerPointToLatLng(a)),b.fitBounds(a),b.fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});e.Map.addInitHook("addHandler",
"boxZoom",e.Map.BoxZoom);e.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});e.Map.Keyboard=e.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0");e.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",
this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;e.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=t.body,b=t.documentElement,e=a.scrollTop||b.scrollTop,
a=a.scrollLeft||b.scrollLeft;this._map._container.focus();d.scrollTo(a,e)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanOffset:function(a){var b,d,e=this._panKeys={},l=this.keyCodes;b=0;for(d=l.left.length;d>b;b++)e[l.left[b]]=[-1*a,0];b=0;for(d=l.right.length;d>b;b++)e[l.right[b]]=[a,0];b=0;for(d=l.down.length;d>b;b++)e[l.down[b]]=[0,a];b=0;for(d=l.up.length;d>b;b++)e[l.up[b]]=[0,-1*a]},_setZoomOffset:function(a){var b,
d,e=this._zoomKeys={},l=this.keyCodes;b=0;for(d=l.zoomIn.length;d>b;b++)e[l.zoomIn[b]]=a;b=0;for(d=l.zoomOut.length;d>b;b++)e[l.zoomOut[b]]=-a},_addHooks:function(){e.DomEvent.on(t,"keydown",this._onKeyDown,this)},_removeHooks:function(){e.DomEvent.off(t,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var b=a.keyCode,d=this._map;if(b in this._panKeys){if(d._panAnim&&d._panAnim._inProgress)return;d.panBy(this._panKeys[b]);d.options.maxBounds&&d.panInsideBounds(d.options.maxBounds)}else{if(!(b in
this._zoomKeys))return;d.setZoom(d.getZoom()+this._zoomKeys[b])}e.DomEvent.stop(a)}});e.Map.addInitHook("addHandler","keyboard",e.Map.Keyboard);e.Handler.MarkerDrag=e.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new e.Draggable(a,a));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this);this._draggable.enable();e.DomUtil.addClass(this._marker._icon,
"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();e.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var a=this._marker,b=a._shadow,d=e.DomUtil.getPosition(a._icon),
k=a._map.layerPointToLatLng(d);b&&e.DomUtil.setPosition(b,d);a._latlng=k;a.fire("move",{latlng:k}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});e.Control=e.Class.extend({options:{position:"topright"},initialize:function(a){e.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},
addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),d=this.getPosition();a=a._controlCorners[d];return e.DomUtil.addClass(b,"leaflet-control"),-1!==d.indexOf("bottom")?a.insertBefore(b,a.firstChild):a.appendChild(b),this},removeFrom:function(a){var b=this.getPosition();return a._controlCorners[b].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(a),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}});e.control=function(a){return new e.Control(a)};
e.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function a(a,m){b[a+m]=e.DomUtil.create("div",d+a+" "+d+m,k)}var b=this._controlCorners={},d="leaflet-",k=this._controlContainer=e.DomUtil.create("div",d+"control-container",this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});e.Control.Zoom=
e.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var b=e.DomUtil.create("div","leaflet-control-zoom leaflet-bar");return this._map=a,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,"leaflet-control-zoom-in",b,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,"leaflet-control-zoom-out",b,this._zoomOut,this),this._updateDisabled(),
a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,b,d,k,l,m){d=e.DomUtil.create("a",d,k);d.innerHTML=a;d.href="#";d.title=b;a=e.DomEvent.stopPropagation;return e.DomEvent.on(d,"click",a).on(d,"mousedown",a).on(d,"dblclick",a).on(d,"click",e.DomEvent.preventDefault).on(d,"click",
l,m).on(d,"click",this._refocusOnMap,m),d},_updateDisabled:function(){var a=this._map;e.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");e.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMinZoom()&&e.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMaxZoom()&&e.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});e.Map.mergeOptions({zoomControl:!0});e.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new e.Control.Zoom,
this.addControl(this.zoomControl))});e.control.zoom=function(a){return new e.Control.Zoom(a)};e.Control.Attribution=e.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){e.setOptions(this,a);this._attributions={}},onAdd:function(a){this._container=e.DomUtil.create("div","leaflet-control-attribution");e.DomEvent.disableClickPropagation(this._container);for(var b in a._layers)a._layers[b].getAttribution&&
this.addAttribution(a._layers[b].getAttribution());return a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?
(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var a=[],b;for(b in this._attributions)this._attributions[b]&&a.push(b);b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}});
e.Map.mergeOptions({attributionControl:!0});e.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new e.Control.Attribution).addTo(this))});e.control.attribution=function(a){return new e.Control.Attribution(a)};e.Control.Scale=e.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var b=e.DomUtil.create("div","leaflet-control-scale"),d=this.options;return this._addScales(d,"leaflet-control-scale",
b),a.on(d.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),b},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,b,d){a.metric&&(this._mScale=e.DomUtil.create("div",b+"-line",d));a.imperial&&(this._iScale=e.DomUtil.create("div",b+"-line",d))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,a=6378137*Math.PI*Math.cos(b*Math.PI/180)*(a.getNorthEast().lng-a.getSouthWest().lng)/180,b=this._map.getSize(),
d=this.options,e=0;0<b.x&&(e=d.maxWidth/b.x*a);this._updateScales(d,e)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b);a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=1E3>b?b+" m":b/1E3+" km"},_updateImperial:function(a){var b,d,e;a*=3.2808399;var l=this._iScale;5280<a?(b=a/5280,d=this._getRoundNum(b),l.style.width=this._getScaleWidth(d/b)+"px",l.innerHTML=d+" mi"):
(e=this._getRoundNum(a),l.style.width=this._getScaleWidth(e/a)+"px",l.innerHTML=e+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return a=10<=a?10:5<=a?5:3<=a?3:2<=a?2:1,b*a}});e.control.scale=function(a){return new e.Control.Scale(a)};e.Control.Layers=e.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(a,b,d){e.setOptions(this,d);this._layers=
{};this._lastZIndex=0;this._handlingClick=!1;for(var k in a)this._addLayer(a[k],k);for(k in b)this._addLayer(b[k],k,!0)},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(a,b){return this._addLayer(a,b),this._update(),this},addOverlay:function(a,b){return this._addLayer(a,
b,!0),this._update(),this},removeLayer:function(a){a=e.stamp(a);return delete this._layers[a],this._update(),this},_initLayout:function(){var a=this._container=e.DomUtil.create("div","leaflet-control-layers");a.setAttribute("aria-haspopup",!0);e.Browser.touch?e.DomEvent.on(a,"click",e.DomEvent.stopPropagation):e.DomEvent.disableClickPropagation(a).disableScrollPropagation(a);var b=this._form=e.DomUtil.create("form","leaflet-control-layers-list");if(this.options.collapsed){e.Browser.android||e.DomEvent.on(a,
"mouseover",this._expand,this).on(a,"mouseout",this._collapse,this);var d=this._layersLink=e.DomUtil.create("a","leaflet-control-layers-toggle",a);d.href="#";d.title="Layers";e.Browser.touch?e.DomEvent.on(d,"click",e.DomEvent.stop).on(d,"click",this._expand,this):e.DomEvent.on(d,"focus",this._expand,this);e.DomEvent.on(b,"click",function(){setTimeout(e.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=e.DomUtil.create("div",
"leaflet-control-layers-base",b);this._separator=e.DomUtil.create("div","leaflet-control-layers-separator",b);this._overlaysList=e.DomUtil.create("div","leaflet-control-layers-overlays",b);a.appendChild(b)},_addLayer:function(a,b,d){var k=e.stamp(a);this._layers[k]={layer:a,name:b,overlay:d};this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="";this._overlaysList.innerHTML="";var a,b,d=!1,
e=!1;for(a in this._layers)b=this._layers[a],this._addItem(b),e=e||b.overlay,d=d||!b.overlay;this._separator.style.display=e&&d?"":"none"}},_onLayerChange:function(a){var b=this._layers[e.stamp(a.layer)];b&&(this._handlingClick||this._update(),(a=b.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null)&&this._map.fire(a,b))},_createRadioElement:function(a,b){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"';b&&(d+=' checked="checked"');
var d=d+"/>",e=t.createElement("div");return e.innerHTML=d,e.firstChild},_addItem:function(a){var b,d=t.createElement("label"),k=this._map.hasLayer(a.layer);a.overlay?(b=t.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=k):b=this._createRadioElement("leaflet-base-layers",k);b.layerId=e.stamp(a.layer);e.DomEvent.on(b,"click",this._onInputClick,this);k=t.createElement("span");k.innerHTML=" "+a.name;d.appendChild(b);d.appendChild(k);return(a.overlay?
this._overlaysList:this._baseLayersList).appendChild(d),d},_onInputClick:function(){var a,b,d,e=this._form.getElementsByTagName("input"),l=e.length;this._handlingClick=!0;for(a=0;l>a;a++)b=e[a],d=this._layers[b.layerId],b.checked&&!this._map.hasLayer(d.layer)?this._map.addLayer(d.layer):!b.checked&&this._map.hasLayer(d.layer)&&this._map.removeLayer(d.layer);this._handlingClick=!1;this._refocusOnMap()},_expand:function(){e.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=
this._container.className.replace(" leaflet-control-layers-expanded","")}});e.control.layers=function(a,b,d){return new e.Control.Layers(a,b,d)};e.PosAnimation=e.Class.extend({includes:e.Mixin.Events,run:function(a,b,d,k){this.stop();this._el=a;this._inProgress=!0;this._newPos=b;this.fire("start");a.style[e.DomUtil.TRANSITION]="all "+(d||.25)+"s cubic-bezier(0,0,"+(k||.5)+",1)";e.DomEvent.on(a,e.DomUtil.TRANSITION_END,this._onTransitionEnd,this);e.DomUtil.setPosition(a,b);e.Util.falseFn(a.offsetWidth);
this._stepTimer=setInterval(e.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(e.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),e.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,b,g=d.getComputedStyle(this._el);if(e.Browser.any3d){if(b=g[e.DomUtil.TRANSFORM].match(this._transformRe),
!b)return;a=parseFloat(b[1]);b=parseFloat(b[2])}else a=parseFloat(g.left),b=parseFloat(g.top);return new e.Point(a,b,!0)},_onTransitionEnd:function(){e.DomEvent.off(this._el,e.DomUtil.TRANSITION_END,this._onTransitionEnd,this);this._inProgress&&(this._inProgress=!1,this._el.style[e.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});e.Map.include({setView:function(a,b,d){if(b=b===n?this._zoom:this._limitZoom(b),a=this._limitCenter(e.latLng(a),
b,this.options.maxBounds),d=d||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!d.reset&&!0!==d)if(d.animate!==n&&(d.zoom=e.extend({animate:d.animate},d.zoom),d.pan=e.extend({animate:d.animate},d.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,d.zoom):this._tryAnimatedPan(a,d.pan))return clearTimeout(this._sizeTimer),this;return this._resetView(a,b),this},panBy:function(a,b){if(a=e.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(this._panAnim||(this._panAnim=new e.PosAnimation,
this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate){e.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,d,b.duration||.25,b.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){e.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");
this.fire("moveend")},_tryAnimatedPan:function(a,b){var d=this._getCenterOffset(a)._floor();return!0===(b&&b.animate)||this.getSize().contains(d)?(this.panBy(d,b),!0):!1}});e.PosAnimation=e.DomUtil.TRANSITION?e.PosAnimation:e.PosAnimation.extend({run:function(a,b,d,k){this.stop();this._el=a;this._inProgress=!0;this._duration=d||.25;this._easeOutPower=1/Math.max(k||.5,.2);this._startPos=e.DomUtil.getPosition(a);this._offset=b.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},
stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=e.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var a=+new Date-this._startTime,b=1E3*this._duration;b>a?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){a=this._startPos.add(this._offset.multiplyBy(a));e.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){e.Util.cancelAnimFrame(this._animId);this._inProgress=
!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});e.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});e.DomUtil.TRANSITION&&e.Map.addInitHook(function(){(this._zoomAnimated=this.options.zoomAnimation&&e.DomUtil.TRANSITION&&e.Browser.any3d&&!e.Browser.android23&&!e.Browser.mobileOpera)&&e.DomEvent.on(this._mapPane,e.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});e.Map.include(e.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&
0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||!1===d.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var e=this.getZoomScale(b),l=this._getCenterOffset(a)._divideBy(1-1/e),m=this._getCenterLayerPoint()._add(l);return!0===
d.animate||this.getSize().contains(l)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(a,b,m,e,null,!0),!0):!1},_animateZoom:function(a,b,d,k,l,m,n){n||(this._animatingZoom=!0);e.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=a;this._animateToZoom=b;e.Draggable&&(e.Draggable._disabled=!0);e.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:a,zoom:b,origin:d,scale:k,delta:l,backwards:m})},this)},_onZoomTransitionEnd:function(){this._animatingZoom=!1;
e.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);e.Draggable&&(e.Draggable._disabled=!1)}}:{});e.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,d=e.DomUtil.TRANSFORM,k=a.delta?e.DomUtil.getTranslateString(a.delta):b.style[d],l=e.DomUtil.getScaleString(a.scale,a.origin);b.style[d]=a.backwards?l+" "+k:k+" "+l},_endZoomAnim:function(){var a=this._tileContainer,
b=this._bgBuffer;a.style.visibility="";a.parentNode.appendChild(a);e.Util.falseFn(b.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[e.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,b=this._bgBuffer,d=this._getLoadedTilesPercentage(b),k=this._getLoadedTilesPercentage(a);return b&&.5<d&&.5>k?(a.style.visibility="hidden",void this._stopLoadingImages(a)):
(b.style.visibility="hidden",b.style[e.DomUtil.TRANSFORM]="",this._tileContainer=b,b=this._bgBuffer=a,this._stopLoadingImages(b),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(a){var b,d=a.getElementsByTagName("img"),e=0;a=0;for(b=d.length;b>a;a++)d[a].complete&&e++;return e/b},_stopLoadingImages:function(a){var b,d,k=Array.prototype.slice.call(a.getElementsByTagName("img"));a=0;for(b=k.length;b>a;a++)d=k[a],d.complete||(d.onload=e.Util.falseFn,d.onerror=e.Util.falseFn,
d.src=e.Util.emptyImageUrl,d.parentNode.removeChild(d))}});e.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1E4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){if(a=this._locateOptions=e.extend(this._defaultLocateOptions,a),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=e.bind(this._handleGeolocationResponse,this),d=e.bind(this._handleGeolocationError,this);return a.watch?this._locationWatchId=
navigator.geolocation.watchPosition(b,d,a):navigator.geolocation.getCurrentPosition(b,d,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+
a+"."})},_handleGeolocationResponse:function(a){var b=a.coords.latitude,d=a.coords.longitude,k=new e.LatLng(b,d),l=180*a.coords.accuracy/40075017,m=l/Math.cos(e.LatLng.DEG_TO_RAD*b),b=e.latLngBounds([b-l,d-m],[b+l,d+m]),d=this._locateOptions;d.setView&&(d=Math.min(this.getBoundsZoom(b),d.maxZoom),this.setView(k,d));var k={latlng:k,bounds:b,timestamp:a.timestamp},n;for(n in a.coords)"number"==typeof a.coords[n]&&(k[n]=a.coords[n]);this.fire("locationfound",k)}})}(window,document);
